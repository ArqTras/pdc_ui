{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/_helpers/data/scale-items.ts","./src/app/_helpers/directives/input-disable-selection/input-disable-selection.directive.ts","./src/app/_helpers/directives/input-validate/input-validate.directive.ts","./src/app/_helpers/directives/staking-switch/staking-switch.component.ts","./src/app/_helpers/directives/staking-switch/staking-switch.component.html","./src/app/_helpers/directives/staking-switch/staking-switch.module.ts","./src/app/_helpers/directives/tooltip/tooltip.directive.ts","./src/app/_helpers/directives/tooltip/tooltip.module.ts","./src/app/_helpers/directives/transaction-details/transaction-details.component.ts","./src/app/_helpers/directives/transaction-details/transaction-details.component.html","./src/app/_helpers/modals/add-custom-token/add-custom-token.component.ts","./src/app/_helpers/modals/add-custom-token/add-custom-token.component.html","./src/app/_helpers/modals/add-custom-token/add-custom-token.module.ts","./src/app/_helpers/modals/confirm-modal/confirm-modal.component.ts","./src/app/_helpers/modals/confirm-modal/confirm-modal.component.html","./src/app/_helpers/modals/confirm-modal/confirm-modal.module.ts","./src/app/_helpers/modals/export-history-modal/export-history-modal.component.ts","./src/app/_helpers/modals/export-history-modal/export-history-modal.component.html","./src/app/_helpers/modals/modal-container/modal-container.component.ts","./src/app/_helpers/modals/modal-container/modal-container.component.html","./src/app/_helpers/modals/sync-modal/sync-modal.component.ts","./src/app/_helpers/modals/sync-modal/sync-modal.component.html","./src/app/_helpers/modals/sync-modal/sync-modal.module.ts","./src/app/_helpers/models/wallet.model.ts","./src/app/_helpers/pipes/contract-status-messages.pipe.ts","./src/app/_helpers/pipes/contract-time-left.pipe.ts","./src/app/_helpers/pipes/history-type-messages.pipe.ts","./src/app/_helpers/pipes/int-to-money.pipe.ts","./src/app/_helpers/pipes/money-to-int.pipe.ts","./src/app/_helpers/pipes/pipes.module.ts","./src/app/_helpers/pipes/safe-html.pipe.ts","./src/app/_helpers/services/backend.service.ts","./src/app/_helpers/services/modal.service.ts","./src/app/_helpers/services/pagination.service.ts","./src/app/_helpers/services/pagination.store.ts","./src/app/_helpers/services/variables.service.ts","./src/app/_shared/components/card-token/card-token.component.html","./src/app/_shared/components/card-token/card-token.component.ts","./src/app/_shared/components/card-token/card-token.module.ts","./src/app/_shared/components/checkbox/checkbox.component.ts","./src/app/_shared/components/checkbox/checkbox.component.html","./src/app/_shared/components/checkbox/checkbox.module.ts","./src/app/_shared/components/copy-button/copy-button.component.ts","./src/app/_shared/components/copy-button/copy-button.component.html","./src/app/_shared/components/copy-button/copy-button.module.ts","./src/app/_shared/components/index.ts","./src/app/_shared/components/scroll-x/scroll-x.component.ts","./src/app/_shared/components/scroll-x/scroll-x.component.html","./src/app/_shared/components/scroll-x/scroll-x.module.ts","./src/app/_shared/components/switch/switch.component.ts","./src/app/_shared/components/switch/switch.component.html","./src/app/_shared/components/switch/switch.module.ts","./src/app/_shared/constants.ts","./src/app/_shared/directives/default-img/default-img.directive.ts","./src/app/_shared/directives/default-img/default-img.module.ts","./src/app/_shared/directives/default-img/index.ts","./src/app/_shared/directives/disable-price-fetch/disable-price-fetch.directive.ts","./src/app/_shared/directives/disable-price-fetch/disable-price-fetch.module.ts","./src/app/_shared/pipes/is-available-alias-name-pipe/is-available-alias-name-pipe.module.ts","./src/app/_shared/pipes/is-available-alias-name-pipe/is-available-alias-name.pipe.ts","./src/app/_shared/pipes/short-string-pipe/short-string-pipe.module.ts","./src/app/_shared/pipes/short-string-pipe/short-string.pipe.ts","./src/app/_shared/shared.module.ts","./src/app/add-contacts/add-contacts.component.ts","./src/app/add-contacts/add-contacts.component.html","./src/app/add-wallet/add-wallet.component.ts","./src/app/add-wallet/add-wallet.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/assign-alias/assign-alias.component.ts","./src/app/assign-alias/assign-alias.component.html","./src/app/contact-send/contact-send.component.ts","./src/app/contact-send/contact-send.component.html","./src/app/contacts/contacts.component.html","./src/app/contacts/contacts.component.ts","./src/app/contracts/contracts-tab/contracts-tab.component.ts","./src/app/contracts/contracts-tab/contracts-tab.component.html","./src/app/contracts/contracts.component.html","./src/app/contracts/contracts.component.ts","./src/app/create-wallet/create-wallet.component.ts","./src/app/create-wallet/create-wallet.component.html","./src/app/deeplink-modal/deeplink-modal.component.ts","./src/app/deeplink-modal/deeplink-modal.component.html","./src/app/deeplink-modal/deeplink-modal.module.ts","./src/app/deeplink/deeplink.component.ts","./src/app/deeplink/deeplink.component.html","./src/app/deeplink/deeplink.module.ts","./src/app/edit-alias/edit-alias.component.html","./src/app/edit-alias/edit-alias.component.ts","./src/app/export-import/export-import.component.ts","./src/app/export-import/export-import.component.html","./src/app/history/history.component.ts","./src/app/history/history.component.html","./src/app/layouts/full-layout/full-layout.component.ts","./src/app/layouts/full-layout/full-layout.component.html","./src/app/layouts/full-layout/full-layout.module.ts","./src/app/layouts/with-sidebar-layout/with-sidebar-layout.component.ts","./src/app/layouts/with-sidebar-layout/with-sidebar-layout.component.html","./src/app/layouts/with-sidebar-layout/with-sidebar-layout.module.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/open-wallet-modal/open-wallet-modal.component.ts","./src/app/open-wallet-modal/open-wallet-modal.component.html","./src/app/open-wallet/open-wallet.component.ts","./src/app/open-wallet/open-wallet.component.html","./src/app/paths.ts","./src/app/purchase/purchase.component.ts","./src/app/purchase/purchase.component.html","./src/app/receive/receive.component.ts","./src/app/receive/receive.component.html","./src/app/restore-wallet/restore-wallet.component.ts","./src/app/restore-wallet/restore-wallet.component.html","./src/app/seed-phrase/seed-phrase.component.ts","./src/app/seed-phrase/seed-phrase.component.html","./src/app/send-details-modal/send-details-modal.component.ts","./src/app/send-details-modal/send-details-modal.component.html","./src/app/send-modal/send-modal.component.ts","./src/app/send-modal/send-modal.component.html","./src/app/send/send.component.ts","./src/app/send/send.component.html","./src/app/settings/settings.component.ts","./src/app/settings/settings.component.html","./src/app/sidebar/sidebar.component.ts","./src/app/sidebar/sidebar.component.html","./src/app/sidebar/sidebar.module.ts","./src/app/staking/staking.component.ts","./src/app/staking/staking.component.html","./src/app/synchronization-status/synchronization-status.component.ts","./src/app/synchronization-status/synchronization-status.component.html","./src/app/synchronization-status/synchronization-status.module.ts","./src/app/transfer-alias/transfer-alias.component.html","./src/app/transfer-alias/transfer-alias.component.ts","./src/app/wallet-details/wallet-details.component.ts","./src/app/wallet-details/wallet-details.component.html","./src/app/wallet/wallet.component.ts","./src/app/wallet/wallet.component.html","./src/environments/environment.ts","./src/main.ts","./src/store.ts"],"sourcesContent":["import { ScaleItems } from '../models/scale.model';\r\n\r\n/** List of items with supported scale */\r\nexport const scaleItems: ScaleItems = [\r\n  {\r\n    value: '8px',\r\n    name: 'SETTINGS.SCALE.75'\r\n  },\r\n  {\r\n    value: '10px',\r\n    name: 'SETTINGS.SCALE.100'\r\n  },\r\n  {\r\n    value: '12px',\r\n    name: 'SETTINGS.SCALE.125'\r\n  },\r\n  {\r\n    value: '14px',\r\n    name: 'SETTINGS.SCALE.150'\r\n  }\r\n];\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'input'\r\n})\r\nexport class InputDisableSelectionDirective {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  handleInput(event: Event) {\r\n    if ((<HTMLInputElement>event.target).readOnly) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n}\r\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\n\r\n@Directive({\r\n  selector: '[appInputValidate]'\r\n})\r\nexport class InputValidateDirective {\r\n\r\n  private type: string;\r\n\r\n  constructor(private el: ElementRef, private variablesService: VariablesService) {\r\n  }\r\n\r\n  @Input('appInputValidate')\r\n  public set defineInputType(type: string) {\r\n    this.type = type;\r\n  }\r\n\r\n  @HostListener('input', ['$event'])\r\n  handleInput(event: Event) {\r\n    if (this.type === 'money') {\r\n      this.moneyValidation(event);\r\n    } else if (this.type === 'integer') {\r\n      this.integerValidation(event);\r\n    }\r\n  }\r\n\r\n  private moneyValidation(event: Event) {\r\n    let currentValue = (<HTMLInputElement>event.target).value;\r\n    const originalValue = currentValue;\r\n    const OnlyD = /[^\\d\\.]/g;\r\n    const _has_error = currentValue.match(OnlyD);\r\n    if (_has_error && _has_error.length) {\r\n      currentValue = currentValue.replace(',', '.').replace(OnlyD, '');\r\n    }\r\n    const _double_separator = currentValue.match(/\\./g);\r\n    if (_double_separator && _double_separator.length > 1) {\r\n      currentValue = currentValue.substr(0, currentValue.lastIndexOf('.'));\r\n    }\r\n    if (currentValue.indexOf('.') === 0) {\r\n      currentValue = '0' + currentValue;\r\n    }\r\n    const _zero_fill = currentValue.split('.');\r\n    if (_zero_fill[0].length > 7) {\r\n      _zero_fill[0] = _zero_fill[0].substr(0, 7);\r\n    }\r\n\r\n    if (1 in _zero_fill && _zero_fill[1].length) {\r\n      _zero_fill[1] = _zero_fill[1].substr(0, this.variablesService.digits);\r\n    }\r\n    currentValue = _zero_fill.join('.');\r\n    if (currentValue !== originalValue) {\r\n      (<HTMLInputElement>event.target).value = currentValue;\r\n      const cursorPosition = (<HTMLInputElement>event.target).selectionEnd;\r\n      (<HTMLInputElement>event.target).setSelectionRange(cursorPosition, cursorPosition);\r\n      (<HTMLInputElement>event.target).dispatchEvent(new Event('input'));\r\n    }\r\n  }\r\n\r\n  private integerValidation(event: Event) {\r\n    let currentValue = (<HTMLInputElement>event.target).value;\r\n    const originalValue = currentValue;\r\n    const OnlyD = /\\D/g;\r\n    const _has_error = currentValue.match(OnlyD);\r\n    if (_has_error && _has_error.length) {\r\n      currentValue = currentValue.replace(OnlyD, '');\r\n    }\r\n    if (currentValue !== originalValue) {\r\n      const cursorPosition = (<HTMLInputElement>event.target).selectionEnd;\r\n      (<HTMLInputElement>event.target).value = currentValue;\r\n      (<HTMLInputElement>event.target).setSelectionRange(cursorPosition, cursorPosition);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { BackendService } from '../../services/backend.service';\r\nimport { VariablesService } from '../../services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-staking-switch',\r\n  templateUrl: './staking-switch.component.html',\r\n  styleUrls: ['./staking-switch.component.scss']\r\n})\r\nexport class StakingSwitchComponent {\r\n  @Input() wallet_id: number;\r\n\r\n  @Input() staking: boolean;\r\n\r\n  @Output() stakingChange = new EventEmitter<boolean>();\r\n\r\n  constructor(private backendService: BackendService, private variablesService: VariablesService) {\r\n  }\r\n\r\n  toggleStaking(): void {\r\n    const wallet = this.variablesService.getWallet(this.wallet_id);\r\n    if (wallet && wallet.loaded) {\r\n      this.stakingChange.emit(!this.staking);\r\n      if (!this.staking) {\r\n        this.backendService.startPosMining(this.wallet_id);\r\n      } else {\r\n        this.backendService.stopPosMining(this.wallet_id);\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div (click)=\"toggleStaking(); $event.stopPropagation()\"\r\n\t\t [class.off]=\"!staking\"\r\n\t\t [class.on]=\"staking\"\r\n\t\t class=\"switch\">\r\n\t<span class=\"circle\"></span>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { StakingSwitchComponent } from './staking-switch.component';\r\n\r\n@NgModule({\r\n  declarations: [StakingSwitchComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [StakingSwitchComponent]\r\n})\r\nexport class StakingSwitchModule {\r\n}\r\n","import { Directive, ElementRef, EventEmitter, HostBinding, HostListener, Input, OnDestroy, Output, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[tooltip]'\r\n})\r\nexport class TooltipDirective implements OnDestroy {\r\n  @HostBinding('style.cursor') cursor;\r\n\r\n  @Input('tooltip') tooltipInner: any;\r\n\r\n  @Input() placement: string;\r\n\r\n  @Input() tooltipClass: string;\r\n\r\n  @Input() timeout = 0;\r\n\r\n  @Input() timeDelay = 0;\r\n\r\n  @Input() delay = 0;\r\n\r\n  @Input() showWhenNoOverflow = true;\r\n\r\n  @Output() eventHide = new EventEmitter<boolean>();\r\n\r\n  tooltip: HTMLElement;\r\n\r\n  removeTooltipTimeout;\r\n\r\n  removeTooltipTimeoutInner;\r\n\r\n  removeTooltipTimeDelay;\r\n\r\n  private enter: (event: MouseEvent) => void;\r\n\r\n  private leave: (event: MouseEvent) => void;\r\n\r\n  constructor(private el: ElementRef, private renderer: Renderer2) {\r\n  }\r\n\r\n  @HostListener('mouseenter') onMouseEnter() {\r\n    if (this.showWhenNoOverflow || (!this.showWhenNoOverflow && this.el.nativeElement.offsetWidth < this.el.nativeElement.scrollWidth)) {\r\n      this.cursor = 'pointer';\r\n      if (!this.tooltip) {\r\n        if (this.timeDelay !== 0) {\r\n          this.removeTooltipTimeDelay = setTimeout(() => {\r\n            this.show();\r\n          }, this.timeDelay);\r\n        } else {\r\n          this.show();\r\n        }\r\n      } else {\r\n        this.cancelHide();\r\n      }\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseleave') onMouseLeave() {\r\n    clearTimeout(this.removeTooltipTimeDelay);\r\n    if (this.tooltip) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  show() {\r\n    this.create();\r\n    this.placement = this.placement === null ? 'top' : this.placement;\r\n    this.setPosition(this.placement);\r\n  }\r\n\r\n  hide() {\r\n    this.removeTooltipTimeout = setTimeout(() => {\r\n      this.renderer.setStyle(this.tooltip, 'opacity', '0');\r\n      this.removeTooltipTimeoutInner = setTimeout(() => {\r\n        this.renderer.removeChild(document.body, this.tooltip);\r\n        this.tooltip.removeEventListener('mouseenter', this.enter);\r\n        this.tooltip.removeEventListener('mouseleave', this.leave);\r\n        this.tooltip = null;\r\n        this.eventHide.emit(true);\r\n      }, this.delay);\r\n    }, this.timeout);\r\n  }\r\n\r\n  cancelHide() {\r\n    clearTimeout(this.removeTooltipTimeout);\r\n    clearTimeout(this.removeTooltipTimeoutInner);\r\n    this.renderer.setStyle(this.tooltip, 'opacity', '1');\r\n  }\r\n\r\n  create() {\r\n    this.tooltip = this.renderer.createElement('div');\r\n    let innerBlock = this.renderer.createElement('div');\r\n    if (typeof this.tooltipInner === 'string') {\r\n      innerBlock.innerHTML = this.tooltipInner;\r\n    } else {\r\n      innerBlock = this.tooltipInner;\r\n    }\r\n    this.renderer.addClass(innerBlock, 'tooltip-inner');\r\n    this.renderer.addClass(innerBlock, 'scrolled-content');\r\n    this.renderer.appendChild(this.tooltip, innerBlock);\r\n    this.renderer.appendChild(document.body, this.tooltip);\r\n\r\n    this.enter = () => {\r\n      this.cancelHide();\r\n    };\r\n    this.tooltip.addEventListener('mouseenter', this.enter);\r\n    this.leave = () => {\r\n      if (this.tooltip) {\r\n        this.hide();\r\n      }\r\n    };\r\n    this.tooltip.addEventListener('mouseleave', this.leave);\r\n\r\n    this.renderer.setStyle(document.body, 'position', 'relative');\r\n    this.renderer.setStyle(this.tooltip, 'position', 'absolute');\r\n    if (this.tooltipClass !== null) {\r\n      const classes = this.tooltipClass.split(' ');\r\n      for (let i = 0; i < classes.length; i++) {\r\n        this.renderer.addClass(this.tooltip, classes[i]);\r\n      }\r\n    }\r\n    this.renderer.setStyle(this.tooltip, 'opacity', '0');\r\n    this.renderer.setStyle(this.tooltip, '-webkit-transition', `opacity ${ this.delay }ms`);\r\n    this.renderer.setStyle(this.tooltip, '-moz-transition', `opacity ${ this.delay }ms`);\r\n    this.renderer.setStyle(this.tooltip, '-o-transition', `opacity ${ this.delay }ms`);\r\n    this.renderer.setStyle(this.tooltip, 'transition', `opacity ${ this.delay }ms`);\r\n    window.setTimeout(() => {\r\n      return this.tooltip && this.renderer.setStyle(this.tooltip, 'opacity', '1');\r\n    }, 0);\r\n  }\r\n\r\n  setPosition(placement) {\r\n    const hostPos = this.el.nativeElement.getBoundingClientRect();\r\n    this.renderer.addClass(this.tooltip, 'ng-tooltip-' + placement);\r\n    const topExit = hostPos.top - this.tooltip.getBoundingClientRect().height - parseInt(getComputedStyle(this.tooltip).marginTop, 10) < 0;\r\n    const bottomExit = window.innerHeight < hostPos.bottom + this.tooltip.getBoundingClientRect().height + parseInt(getComputedStyle(this.tooltip).marginTop, 10);\r\n\r\n    switch (placement) {\r\n      case 'top':\r\n        if (topExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('bottom');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(\r\n            this.tooltip,\r\n            'left',\r\n            hostPos.left + (hostPos.right - hostPos.left) / 2 - this.tooltip.getBoundingClientRect().width / 2 + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.top - this.tooltip.getBoundingClientRect().height + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'top-left':\r\n        if (topExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('bottom-left');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.left + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.top - this.tooltip.getBoundingClientRect().height + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'top-right':\r\n        if (topExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('bottom-right');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.right - this.tooltip.offsetWidth + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.top - this.tooltip.getBoundingClientRect().height + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'bottom':\r\n        if (bottomExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('top');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.bottom + 'px');\r\n          this.renderer.setStyle(this.tooltip,\r\n            'left',\r\n            hostPos.left + (hostPos.right - hostPos.left) / 2 - this.tooltip.getBoundingClientRect().width / 2 + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'bottom-left':\r\n        if (bottomExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('top-left');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.bottom + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.left + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'bottom-right':\r\n        if (bottomExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('top-right');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.bottom + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.right - this.tooltip.offsetWidth + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'left':\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.left - this.tooltip.getBoundingClientRect().width + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'top',\r\n          hostPos.top + (hostPos.bottom - hostPos.top) / 2 - this.tooltip.getBoundingClientRect().height / 2 + 'px');\r\n        break;\r\n      case 'left-top':\r\n        this.renderer.setStyle(this.tooltip, 'top', hostPos.top + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'left',\r\n          hostPos.left - this.tooltip.getBoundingClientRect().width + 'px');\r\n        break;\r\n      case 'left-bottom':\r\n        this.renderer.setStyle(this.tooltip,\r\n          'left',\r\n          hostPos.left - this.tooltip.getBoundingClientRect().width + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'top',\r\n          hostPos.bottom - this.tooltip.getBoundingClientRect().height + 'px');\r\n        break;\r\n      case 'right':\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.right + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'top',\r\n          hostPos.top + (hostPos.bottom - hostPos.top) / 2 - this.tooltip.getBoundingClientRect().height / 2 + 'px');\r\n        break;\r\n      case 'right-top':\r\n        this.renderer.setStyle(this.tooltip, 'top', hostPos.top + 'px');\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.right + 'px');\r\n        break;\r\n      case 'right-bottom':\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.right + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'top',\r\n          hostPos.bottom - this.tooltip.getBoundingClientRect().height + 'px');\r\n        break;\r\n    }\r\n  }\r\n\r\n  checkSides() {\r\n    if (this.tooltip.getBoundingClientRect().left < 0) {\r\n      this.renderer.setStyle(this.tooltip, 'left', 0);\r\n    }\r\n    if (this.tooltip.getBoundingClientRect().right > window.innerWidth) {\r\n      this.renderer.setStyle(this.tooltip, 'left', window.innerWidth - this.tooltip.getBoundingClientRect().width + 'px');\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    clearTimeout(this.removeTooltipTimeout);\r\n    clearTimeout(this.removeTooltipTimeoutInner);\r\n    clearTimeout(this.removeTooltipTimeDelay);\r\n    if (this.tooltip) {\r\n      this.renderer.removeChild(document.body, this.tooltip);\r\n      this.tooltip = null;\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TooltipDirective } from './tooltip.directive';\r\n\r\n@NgModule({\r\n  declarations: [TooltipDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [TooltipDirective]\r\n})\r\nexport class TooltipModule {\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Transaction } from '../../models/transaction.model';\r\nimport { VariablesService } from '../../services/variables.service';\r\nimport { BackendService } from '../../services/backend.service';\r\nimport { IntToMoneyPipe } from '../../pipes/int-to-money.pipe';\r\nimport { BLOCK_EXPLORER_TN_TX_URL_PREFIX, BLOCK_EXPLORER_TX_URL_PREFIX } from '../../../_shared/constants';\r\n\r\n@Component({\r\n  selector: 'app-transaction-details',\r\n  templateUrl: './transaction-details.component.html',\r\n  styleUrls: ['./transaction-details.component.scss']\r\n})\r\nexport class TransactionDetailsComponent implements OnInit {\r\n  @Input() transaction: Transaction;\r\n\r\n  @Input() sizes: Array<number>;\r\n\r\n  inputs: Array<string> = [];\r\n\r\n  outputs: Array<string> = [];\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backendService: BackendService,\r\n    private intToMoneyPipe: IntToMoneyPipe\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    for (const input in this.transaction.td['spn']) {\r\n      if (this.transaction.td['spn'].hasOwnProperty(input)) {\r\n        this.inputs.push(this.intToMoneyPipe.transform(this.transaction.td['spn'][input]));\r\n      }\r\n    }\r\n    for (const output in this.transaction.td['rcv']) {\r\n      if (this.transaction.td['rcv'].hasOwnProperty(output)) {\r\n        this.outputs.push(this.intToMoneyPipe.transform(this.transaction.td['rcv'][output]));\r\n      }\r\n    }\r\n  }\r\n\r\n  openInBrowser(tr): void {\r\n    this.backendService.openUrlInBrowser(\r\n      (this.variablesService.testnet ? BLOCK_EXPLORER_TN_TX_URL_PREFIX : BLOCK_EXPLORER_TX_URL_PREFIX) + tr\r\n    );\r\n  }\r\n}\r\n","<div class=\"table py-1\"\r\n\t\t fxLayout=\"column\">\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.ID' | translate }}</span>\r\n\t\t<span (click)=\"openInBrowser(transaction.tx_hash)\"\r\n\t\t\t\t\t(contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, transaction.tx_hash)\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[1] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis color-primary cursor-pointer\">{{transaction.tx_hash}}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[2] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.SIZE' | translate }}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.SIZE_VALUE' | translate : { value: transaction.tx_blob_size } }}</span>\r\n\t</div>\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.HEIGHT' | translate }}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[1] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{transaction.height}}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[2] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.CONFIRMATION' | translate }}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{transaction.height === 0 ? 0 : variablesService.height_app - transaction.height}}</span>\r\n\t</div>\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.INPUTS' | translate }}</span>\r\n\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[1] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\"\r\n\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\ttooltip=\"{{inputs.join(', ')}}\"\r\n\t\t\t\t\ttooltipClass=\"table-tooltip table-tooltip-dimensions\">{{inputs.join(', ')}}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[2] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.OUTPUTS' | translate }}</span>\r\n\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\"\r\n\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\ttooltip=\"{{outputs.join(', ')}}\"\r\n\t\t\t\t\ttooltipClass=\"table-tooltip table-tooltip-dimensions\">{{outputs.join(', ')}}</span>\r\n\t</div>\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.PAYMENT_ID' | translate }}</span>\r\n\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[1] + sizes[2] + sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\"\r\n\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\ttooltip=\"{{transaction.payment_id}}\"\r\n\t\t\t\t\ttooltipClass=\"table-tooltip comment-tooltip\">\r\n            {{transaction.payment_id}}\r\n        </span>\r\n\t</div>\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.COMMENT' | translate }}</span>\r\n\t\t<span (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, transaction.comment)\"\r\n\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[1] + sizes[2] + sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\"\r\n\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\ttooltip=\"{{transaction.comment}}\"\r\n\t\t\t\t\ttooltipClass=\"table-tooltip comment-tooltip\">\r\n            {{transaction.comment}}\r\n        </span>\r\n\t</div>\r\n</div>\r\n","import { Component, EventEmitter, HostBinding, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-add-custom-token',\r\n  templateUrl: './add-custom-token.component.html',\r\n  styleUrls: ['./add-custom-token.component.scss']\r\n})\r\nexport class AddCustomTokenComponent {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Output() eventClose: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  @Output() eventSubmit: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  formGroup = new FormGroup({\r\n    assetID: new FormControl(null, Validators.compose([Validators.required])),\r\n  });\r\n\r\n  beforeSubmit(): void {\r\n    if (this.formGroup.invalid) {\r\n      this.formGroup.markAsTouched();\r\n      this.formGroup.updateValueAndValidity();\r\n      return;\r\n    }\r\n\r\n    this.submit();\r\n  }\r\n\r\n  submit(): void {\r\n    const { assetID } = this.formGroup.value;\r\n    this.eventSubmit.emit(assetID);\r\n  }\r\n}\r\n","<form (ngSubmit)=\"beforeSubmit()\" [formGroup]=\"formGroup\"\r\n\t\t\tclass=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\">\r\n\t<div class=\"content\"\r\n\t\t\t fxLayout=\"column\">\r\n\t\t<h3 class=\"mb-2\">{{ 'WALLET.MODAL_ADD_CUSTOM_TOKEN.TITLE' | translate }}</h3>\r\n\r\n\t\t<div class=\"form__field\">\r\n\t\t\t<label for=\"assetID\">{{ 'WALLET.MODAL_ADD_CUSTOM_TOKEN.FIELD_TITLE' | translate }}</label>\r\n\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t formControlName=\"assetID\"\r\n\t\t\t\t\t\t id=\"assetID\"\r\n\t\t\t\t\t\t name=\"assetID\"\r\n\t\t\t\t\t\t placeholder=\"Enter Asset ID\"\r\n\t\t\t\t\t\t type=\"text\"/>\r\n\t\t\t<div *ngIf=\"false\"\r\n\t\t\t\t\t class=\"error\">\r\n\t\t\t\tSome text\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"controls\"\r\n\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t<button (click)=\"eventClose.emit()\"\r\n\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{ 'MODALS.CANCEL' | translate }}</button>\r\n\t\t<button [disabled]=\"formGroup.invalid\"\r\n\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\ttype=\"submit\">{{ 'MODALS.ADD_TOKEN' | translate }}</button>\r\n\t</div>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AddCustomTokenComponent } from './add-custom-token.component';\r\nimport { FlexModule } from '@angular/flex-layout';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [AddCustomTokenComponent],\r\n  exports: [AddCustomTokenComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FlexModule,\r\n    TranslateModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class AddCustomTokenModule {\r\n}\r\n","import { Component, ElementRef, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-confirm-modal',\r\n  templateUrl: './confirm-modal.component.html',\r\n  styleUrls: ['./confirm-modal.component.scss']\r\n})\r\nexport class ConfirmModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Input() title: string;\r\n\r\n  @Input() message: string;\r\n\r\n  @Output() confirmed: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  @ViewChild('btn', { static: true }) button: ElementRef;\r\n\r\n  constructor(private renderer: Renderer2) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    this.button.nativeElement.focus();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.confirmed.emit(true);\r\n  }\r\n\r\n  close(): void {\r\n    this.confirmed.emit(false);\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\">\r\n\t<button (click)=\"close()\"\r\n\t\t\t\t\tclass=\"close\"\r\n\t\t\t\t\ttype=\"button\"><i class=\"icon close\"></i></button>\r\n\r\n\t<div class=\"content mb-2\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"center center\"\r\n\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t<i class=\"icon modal-info\"></i>\r\n\r\n\t\t<div fxLayout=\"column\"\r\n\t\t\t\t fxLayoutAlign=\"start stretch\">\r\n\t\t\t<h3 class=\"title\">{{title}}</h3>\r\n\t\t\t<p class=\"message\">{{message}}</p>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"controls\"\r\n\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t<button (click)=\"close()\"\r\n\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{ 'MODALS.CANCEL' | translate }}</button>\r\n\t\t<button #btn\r\n\t\t\t\t\t\t(click)=\"onSubmit()\"\r\n\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{ 'MODALS.OK' | translate }}</button>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ConfirmModalComponent } from './confirm-modal.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n    declarations: [ConfirmModalComponent],\r\n    imports: [\r\n        CommonModule,\r\n        TranslateModule,\r\n        FlexLayoutModule\r\n    ],\r\n    exports: [ConfirmModalComponent]\r\n})\r\nexport class ConfirmModalModule {\r\n}\r\n","import { Component, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2 } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BackendService } from '../../services/backend.service';\r\nimport { VariablesService } from '../../services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-export-history-modal',\r\n  templateUrl: './export-history-modal.component.html',\r\n  styleUrls: ['./export-history-modal.component.scss']\r\n})\r\nexport class ExportHistoryModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  posFilterIsOn = true;\r\n  currentFormat: string;\r\n  exportPath: string;\r\n  exportData = {\r\n    wallet_id: 0,\r\n    include_pos_transactions: false,\r\n    path: 'C:\\\\some_file.txt',\r\n    format: 'json'\r\n  };\r\n  exportFormats = [\r\n    {\r\n      format: 'json',\r\n      formatName: 'JSON'\r\n    },\r\n    {\r\n      format: 'text',\r\n      formatName: 'Text'\r\n    },\r\n    {\r\n      format: 'csv',\r\n      formatName: 'CSV'\r\n    }\r\n  ];\r\n\r\n\r\n  @Input() currentWalletId;\r\n  @Output() closeExportModal: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  constructor(\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService,\r\n    private translate: TranslateService,\r\n    private renderer: Renderer2\r\n  ) {\r\n    this.currentFormat = this.exportFormats[0].format;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  closeModal() {\r\n    this.closeExportModal.emit(true);\r\n  }\r\n\r\n  confirmExport() {\r\n    this.exportData.format = `${ this.currentFormat }`;\r\n    this.exportData.wallet_id = this.currentWalletId;\r\n    this.exportData.include_pos_transactions = this.posFilterIsOn;\r\n\r\n    this.backend.saveFileDialog(\r\n      this.translate.instant('EXPORT_HISTORY.SAVED_FILE'),\r\n      `${ this.exportData.format }`,\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (this.exportData.format === 'text') {\r\n          this.exportData.path = file_data.path + '.txt';\r\n        } else {\r\n          this.exportData.path = file_data.path + `.${ this.exportData.format }`;\r\n        }\r\n        if (file_status) {\r\n          this.backend.exportWalletHistory(JSON.stringify(this.exportData));\r\n          this.closeExportModal.emit(true);\r\n        }\r\n      });\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-h-100 overflow-hidden\"\r\n\t\t fxFlex=\"0 1 54rem\"\r\n\t\t fxLayout=\"column\"\r\n\t\t fxLayoutAlign=\"start stretch\">\r\n\t<form class=\"form overflow-x-hidden overflow-y-auto\"\r\n\t\t\t\tfxLayout=\"column\"\r\n\t\t\t\tfxLayoutAlign=\"start stretch\">\r\n\t\t<h4 class=\"text-ellipsis mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">\r\n\t\t\t{{ 'EXPORT_HISTORY.TITLE' | translate }}\r\n\t\t</h4>\r\n\r\n\t\t<div class=\"content mb-2\"\r\n\t\t\t\t fxFlex=\"1 1 auto\">\r\n\t\t\t<div class=\"form__field\">\r\n\t\t\t\t<label>Format:</label>\r\n\t\t\t\t<ng-select [(ngModel)]=\"currentFormat\"\r\n\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t [items]=\"exportFormats\"\r\n\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t bindLabel=\"formatName\"\r\n\t\t\t\t\t\t\t\t\t bindValue=\"format\"\r\n\t\t\t\t\t\t\t\t\t name=\"format\">\r\n\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t{{item.formatName}}\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t{{item.formatName}}\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t</ng-select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"mb-2\"\r\n\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t<span class=\"color-primary mr-1\">{{ 'EXPORT_HISTORY.FILTER' | translate }}</span>\r\n\t\t\t\t<app-switch (emitChange)=\"posFilterIsOn = !posFilterIsOn\"\r\n\t\t\t\t\t\t\t\t\t\t[value]=\"posFilterIsOn\"></app-switch>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t<button (click)=\"confirmExport()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100 mr-0_5\"\r\n\t\t\t\t\t\t\ttype=\"submit\">{{ 'EXPORT_HISTORY.EXPORT' | translate }}</button>\r\n\t\t\t<button (click)=\"closeModal()\"\r\n\t\t\t\t\t\t\tclass=\"outline big w-100 ml-0_5\"\r\n\t\t\t\t\t\t\ttype=\"button\">{{ 'EXPORT_HISTORY.CANCEL' | translate }}</button>\r\n\t\t</div>\r\n\t</form>\r\n</div>\r\n","import { Component, ElementRef, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-modal-container',\r\n  templateUrl: './modal-container.component.html',\r\n  styleUrls: ['./modal-container.component.scss']\r\n})\r\nexport class ModalContainerComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n  public title: string;\r\n  @Input() type: string;\r\n  @Input() message: string;\r\n  @Output() close = new EventEmitter<boolean>();\r\n  @ViewChild('btn', { static: true }) button: ElementRef;\r\n\r\n  constructor(private translate: TranslateService, private renderer: Renderer2) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    this.button.nativeElement.focus();\r\n    switch (this.type) {\r\n      case 'error':\r\n        this.title = this.translate.instant('MODALS.ERROR');\r\n        break;\r\n      case 'success':\r\n        this.title = this.translate.instant('MODALS.SUCCESS');\r\n        break;\r\n      case 'info':\r\n        this.title = this.translate.instant('MODALS.INFO');\r\n        break;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  onClose() {\r\n    this.close.emit();\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-34-rem w-100 max-h-100\">\r\n\t<button (click)=\"onClose()\"\r\n\t\t\t\t\tclass=\"close\"\r\n\t\t\t\t\ttype=\"button\"><i class=\"icon close\"></i></button>\r\n\r\n\t<div class=\"content mb-2\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t<i [class.error]=\"type === 'error'\"\r\n\t\t\t [class.info]=\"type === 'info'\"\r\n\t\t\t [class.success]=\"type === 'success'\"\r\n\t\t\t class=\"icon min-width-4_4-rem min-height-4_4-rem mr-1\"\r\n\t\t\t fxFlex=\"0 0 auto\"></i>\r\n\t\t<div class=\"message-container\">\r\n\t\t\t<h3 class=\"title\">{{title}}</h3>\r\n\t\t\t<p [innerHTML]=\"message\"\r\n\t\t\t\t class=\"message\"></p>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"controls\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<button #btn\r\n\t\t\t\t\t\t(click)=\"onClose()\"\r\n\t\t\t\t\t\tclass=\"primary max-w-19-rem w-100 big\"\r\n\t\t\t\t\t\ttype=\"button\">{{ 'MODALS.OK' | translate }}</button>\r\n\t</div>\r\n</div>\r\n","import { Component, HostBinding, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-sync-modal',\r\n  templateUrl: './sync-modal.component.html',\r\n  styleUrls: ['./sync-modal.component.scss']\r\n})\r\nexport class SyncModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    public variablesService: VariablesService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  canselAction() {\r\n    this.variablesService.deeplink$.next(null);\r\n    this.variablesService.sendActionData$.next({});\r\n  }\r\n\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\">\r\n\t<div class=\"content\"\r\n\t\t\t fxLayout=\"column\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<h3 class=\"mb-2\">This action is not available\r\n\t\t\tduring synchronization...</h3>\r\n\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\ttype=\"button\">\r\n\t\t\tOK\r\n\t\t</button>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SyncModalComponent } from './sync-modal.component';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n    declarations: [SyncModalComponent],\r\n    imports: [\r\n        CommonModule,\r\n        FlexLayoutModule\r\n    ],\r\n    exports: [SyncModalComponent]\r\n})\r\nexport class SyncModalModule {\r\n}\r\n","import { Contract } from './contract.model';\r\nimport { Transaction } from './transaction.model';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\nexport interface Alias {\r\n  name: string;\r\n  address: string;\r\n  comment: string;\r\n  tracking_key?: string;\r\n}\r\n\r\nexport class Wallet {\r\n  stop_paginate: boolean;\r\n  open_from_exist: boolean;\r\n  updated = false;\r\n  wallet_id: number;\r\n  name: string;\r\n  pass: string;\r\n  path: string;\r\n  address: string;\r\n  balance: BigNumber;\r\n  unlocked_balance: BigNumber;\r\n  mined_total: number;\r\n  tracking_hey: string;\r\n  is_auditable: boolean;\r\n  is_watch_only: boolean;\r\n  exclude_mining_txs: boolean;\r\n  alias_available: boolean;\r\n\r\n  alias?: Partial<Alias>;\r\n  wakeAlias?: boolean;\r\n  staking?: boolean;\r\n  new_messages?: number;\r\n  new_contracts?: number;\r\n\r\n  history: Array<Transaction> = [];\r\n  total_history_item?: number;\r\n  pages = [];\r\n  totalPages: number;\r\n  currentPage: number;\r\n  excluded_history: Array<Transaction> = [];\r\n\r\n  contracts: Array<Contract> = [];\r\n\r\n  progress?: number;\r\n  loaded?: boolean;\r\n  restore?: boolean;\r\n\r\n  send_data?: any = {\r\n    address: null,\r\n    amount: null,\r\n    comment: null,\r\n    mixin: null,\r\n    fee: null,\r\n    hide: null\r\n  };\r\n\r\n  constructor(id, name, pass, path, address, balance, unlocked_balance, mined = 0, tracking = '') {\r\n    this.wallet_id = id;\r\n    this.name = name;\r\n    this.pass = pass;\r\n    this.path = path;\r\n    this.address = address;\r\n    this.balance = balance;\r\n    this.unlocked_balance = unlocked_balance;\r\n    this.mined_total = mined;\r\n    this.tracking_hey = tracking;\r\n\r\n    this.alias = {};\r\n    this.staking = false;\r\n    this.new_messages = 0;\r\n    this.new_contracts = 0;\r\n\r\n    this.history = [];\r\n    this.excluded_history = [];\r\n\r\n    this.progress = 0;\r\n    this.loaded = false;\r\n  }\r\n\r\n  getMoneyEquivalent(equivalent) {\r\n    return this.balance.multipliedBy(equivalent).toFixed(0);\r\n  }\r\n\r\n  havePass(): boolean {\r\n    return (this.pass !== '' && this.pass !== null);\r\n  }\r\n\r\n  isActive(id): boolean {\r\n    return this.wallet_id === id;\r\n  }\r\n\r\n  prepareHistoryItem(item: Transaction): any {\r\n    if (item.tx_type === 4) {\r\n      item.sortFee = item.amount.plus(item.fee).negated();\r\n      item.sortAmount = new BigNumber(0);\r\n    } else if (item.tx_type === 3) {\r\n      item.sortFee = new BigNumber(0);\r\n    } else if (\r\n      (\r\n        item.hasOwnProperty('contract') &&\r\n        (item.contract[0].state === 3 || item.contract[0].state === 6 || item.contract[0].state === 601) && !item.contract[0].is_a\r\n      )\r\n    ) {\r\n      item.sortFee = item.fee.negated();\r\n      item.sortAmount = item.amount;\r\n    } else {\r\n      if (!item.is_income) {\r\n        item.sortFee = item.fee.negated();\r\n        item.sortAmount = item.amount.negated();\r\n      } else {\r\n        item.sortAmount = item.amount;\r\n      }\r\n    }\r\n    return item;\r\n  }\r\n\r\n  prepareHistory(items: Transaction[]): void {\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (\r\n        (items[i].tx_type === 7 && items[i].is_income) || (items[i].tx_type === 11 && items[i].is_income) ||\r\n        (items[i].amount.eq(0) && items[i].fee.eq(0) && !items[i].is_mining)\r\n      ) {\r\n        let exists = false;\r\n        for (let j = 0; j < this.excluded_history.length; j++) {\r\n          if (this.excluded_history[j].tx_hash === items[i].tx_hash) {\r\n            exists = true;\r\n            if (this.excluded_history[j].height !== items[i].height) {\r\n              this.excluded_history[j] = items[i];\r\n            }\r\n            break;\r\n          }\r\n        }\r\n        if (!exists) {\r\n          this.excluded_history.push(items[i]);\r\n        }\r\n      } else {\r\n        let exists = false;\r\n        for (let j = 0; j < this.history.length; j++) {\r\n          if (this.history[j].tx_hash === items[i].tx_hash) {\r\n            exists = true;\r\n            if (this.history[j].height !== items[i].height) {\r\n              this.history[j] = this.prepareHistoryItem(items[i]);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n        if (!exists) {\r\n          if (this.history.length && items[i].timestamp >= this.history[0].timestamp) {\r\n            this.history.unshift(this.prepareHistoryItem(items[i]));\r\n          } else {\r\n            this.history.push(this.prepareHistoryItem(items[i]));\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  removeFromHistory(hash: string): void {\r\n    for (let i = 0; i < this.history.length; i++) {\r\n      if (this.history[i].tx_hash === hash) {\r\n        this.history.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  prepareContractsAfterOpen(items: any[], exp_med_ts, height_app, viewedContracts, notViewedContracts): void {\r\n    const wallet = this;\r\n    for (let i = 0; i < items.length; i++) {\r\n      const contract = items[i];\r\n      let contractTransactionExist = false;\r\n      if (wallet && wallet.history) {\r\n        contractTransactionExist = wallet.history.some(elem => elem.contract && elem.contract.length && elem.contract[0].contract_id === contract.contract_id);\r\n      }\r\n      if (!contractTransactionExist && wallet && wallet.excluded_history) {\r\n        contractTransactionExist = wallet.excluded_history.some(elem => elem.contract && elem.contract.length && elem.contract[0].contract_id === contract.contract_id);\r\n      }\r\n\r\n      if (!contractTransactionExist) {\r\n        contract.state = 140;\r\n      } else if (contract.state === 1 && contract.expiration_time < exp_med_ts) {\r\n        contract.state = 110;\r\n      } else if (contract.state === 2 && contract.cancel_expiration_time !== 0 && contract.cancel_expiration_time < exp_med_ts && contract.height === 0) {\r\n        const searchResult1 = viewedContracts.some(elem => elem.state === 2 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n        if (!searchResult1) {\r\n          contract.state = 130;\r\n          contract.is_new = true;\r\n        }\r\n      } else if (contract.state === 1) {\r\n        const searchResult2 = notViewedContracts.find(elem => elem.state === 110 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n        if (searchResult2) {\r\n          if (searchResult2.time === contract.expiration_time) {\r\n            contract.state = 110;\r\n          } else {\r\n            for (let j = 0; j < notViewedContracts.length; j++) {\r\n              if (notViewedContracts[j].contract_id === contract.contract_id && notViewedContracts[j].is_a === contract.is_a) {\r\n                notViewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n            for (let j = 0; j < viewedContracts.length; j++) {\r\n              if (viewedContracts[j].contract_id === contract.contract_id && viewedContracts[j].is_a === contract.is_a) {\r\n                viewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else if (contract.state === 2 && (contract.height === 0 || (height_app - contract.height) < 10)) {\r\n        contract.state = 201;\r\n      } else if (contract.state === 2) {\r\n        const searchResult3 = viewedContracts.some(elem => elem.state === 120 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n        if (searchResult3) {\r\n          contract.state = 120;\r\n        }\r\n      } else if (contract.state === 5) {\r\n        const searchResult4 = notViewedContracts.find(elem => elem.state === 130 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n        if (searchResult4) {\r\n          if (searchResult4.time === contract.cancel_expiration_time) {\r\n            contract.state = 130;\r\n          } else {\r\n            for (let j = 0; j < notViewedContracts.length; j++) {\r\n              if (notViewedContracts[j].contract_id === contract.contract_id && notViewedContracts[j].is_a === contract.is_a) {\r\n                notViewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n            for (let j = 0; j < viewedContracts.length; j++) {\r\n              if (viewedContracts[j].contract_id === contract.contract_id && viewedContracts[j].is_a === contract.is_a) {\r\n                viewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else if (contract.state === 6 && (contract.height === 0 || (height_app - contract.height) < 10)) {\r\n        contract.state = 601;\r\n      }\r\n      const searchResult = viewedContracts.some(elem => elem.state === contract.state && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n      contract.is_new = !searchResult;\r\n\r\n      wallet.contracts.push(contract);\r\n    }\r\n    this.recountNewContracts();\r\n  }\r\n\r\n  recountNewContracts() {\r\n    this.new_contracts = (this.contracts.filter(item => item.is_new === true)).length;\r\n  }\r\n\r\n  getContract(id): Contract {\r\n    for (let i = 0; i < this.contracts.length; i++) {\r\n      if (this.contracts[i].contract_id === id) {\r\n        return this.contracts[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n}\r\n\r\nexport interface DeeplinkParams {\r\n  action?: string;\r\n  address?: string;\r\n  amount?: string;\r\n  my_deposit?: string;\r\n  seller_deposit?: string;\r\n  seller_address?: string;\r\n  hide_sender?: string;\r\n  hide_receiver?: string;\r\n  title?: string;\r\n  description?: string;\r\n  category?: string;\r\n  price?: string;\r\n  img_url?: string;\r\n  url?: string;\r\n  contact?: string;\r\n  comment?: string;\r\n  comments?: string;\r\n  mixins?: string;\r\n  fee?: string;\r\n}\r\n\r\nexport interface PushOffer {\r\n  wallet_id: number;\r\n  od: {\r\n    ap: string;\r\n    at: string;\r\n    cat: string;\r\n    cnt: string;\r\n    com: string;\r\n    do: string;\r\n    et: number;\r\n    fee: BigNumber;\r\n    lci: string;\r\n    lco: string;\r\n    ot: number;\r\n    pt: string;\r\n    t: string;\r\n    url: string;\r\n  };\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Pipe({\r\n  name: 'contractStatusMessages'\r\n})\r\nexport class ContractStatusMessagesPipe implements PipeTransform {\r\n\r\n  constructor(private translate: TranslateService) {\r\n  }\r\n\r\n  getStateSeller(stateNum: number): string {\r\n    const state = { part1: '', part2: '' };\r\n    switch (stateNum) {\r\n      case 1:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.NEW_CONTRACT');\r\n        break;\r\n      case 110:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.IGNORED');\r\n        break;\r\n      case 201:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.ACCEPTED');\r\n        state.part2 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.WAIT');\r\n        break;\r\n      case 2:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.WAITING_BUYER');\r\n        break;\r\n      case 3:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.COMPLETED');\r\n        break;\r\n      case 4:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.NOT_RECEIVED');\r\n        state.part2 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.NULLIFIED');\r\n        break;\r\n      case 5:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.PROPOSAL_CANCEL');\r\n        break;\r\n      case 601:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.BEING_CANCELLED');\r\n        break;\r\n      case 6:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.CANCELLED');\r\n        break;\r\n      case 130:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.IGNORED_CANCEL');\r\n        break;\r\n      case 140:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.EXPIRED');\r\n        break;\r\n    }\r\n    return state.part1 + (state.part2.length ? '. ' + state.part2 : '');\r\n  }\r\n\r\n  getStateBuyer(stateNum: number): string {\r\n    const state = { part1: '', part2: '' };\r\n    switch (stateNum) {\r\n      case 1:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.WAITING');\r\n        break;\r\n      case 110:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.IGNORED');\r\n        break;\r\n      case 201:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.ACCEPTED');\r\n        state.part2 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.WAIT');\r\n        break;\r\n      case 2:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.ACCEPTED');\r\n        break;\r\n      case 120:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.WAITING_SELLER');\r\n        break;\r\n      case 3:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.COMPLETED');\r\n        break;\r\n      case 4:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.NOT_RECEIVED');\r\n        state.part2 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.NULLIFIED');\r\n        break;\r\n      case 5:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.WAITING_CANCEL');\r\n        break;\r\n      case 601:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.BEING_CANCELLED');\r\n        break;\r\n      case 6:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.CANCELLED');\r\n        break;\r\n      case 130:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.IGNORED_CANCEL');\r\n        break;\r\n      case 140:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.EXPIRED');\r\n        break;\r\n    }\r\n    return state.part1 + (state.part2.length ? '. ' + state.part2 : '');\r\n  }\r\n\r\n  transform(state: number, is_a?: boolean): any {\r\n    if (is_a) {\r\n      return this.getStateBuyer(state);\r\n    } else {\r\n      return this.getStateSeller(state);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Pipe({\r\n  name: 'contractTimeLeft'\r\n})\r\nexport class ContractTimeLeftPipe implements PipeTransform {\r\n\r\n  constructor(private service: VariablesService, private translate: TranslateService) {\r\n  }\r\n\r\n  transform(value: any, arg?: any): any {\r\n    const time = parseInt(((parseInt(value, 10) - this.service.exp_med_ts) / 3600).toFixed(0), 10);\r\n    const type = arg || 0;\r\n    if (time === 0) {\r\n      return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_LESS_ONE');\r\n    }\r\n    if (this.service.settings.language === 'en') {\r\n      if (type === 0) {\r\n        if (time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY', { time: time });\r\n        }\r\n      } else if (type === 1) {\r\n        if (time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE_RESPONSE', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_RESPONSE', { time: time });\r\n        }\r\n      } else if (type === 2) {\r\n        if (time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE_WAITING', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_WAITING', { time: time });\r\n        }\r\n      }\r\n    } else {\r\n      const rest = time % 10;\r\n      if (type === 0) {\r\n        if (((time > 20) && (rest === 1)) || time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE', { time: time });\r\n        } else if ((time > 1) && (time < 5) || ((time > 20) && (rest === 2 || rest === 3 || rest === 4))) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_ALT', { time: time });\r\n        }\r\n      } else if (type === 1) {\r\n        if (((time > 20) && (rest === 1)) || time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE_RESPONSE', { time: time });\r\n        } else if ((time > 1) && (time < 5) || ((time > 20) && (rest === 2 || rest === 3 || rest === 4))) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_RESPONSE', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_ALT_RESPONSE', { time: time });\r\n        }\r\n      } else if (type === 2) {\r\n        if (((time > 20) && (rest === 1)) || time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE_WAITING', { time: time });\r\n        } else if ((time > 1) && (time < 5) || ((time > 20) && (rest === 2 || rest === 3 || rest === 4))) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_WAITING', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_ALT_WAITING', { time: time });\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Pipe({\r\n  name: 'historyTypeMessages'\r\n})\r\nexport class HistoryTypeMessagesPipe implements PipeTransform {\r\n\r\n  constructor(private translate: TranslateService) {\r\n  }\r\n\r\n  transform(item: any, args?: any): any {\r\n\r\n    if (item.tx_type === 0) {\r\n      if (item.remote_addresses && item.remote_addresses[0]) {\r\n        return item.remote_addresses[0];\r\n      } else {\r\n        if (item.is_income) {\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.HIDDEN');\r\n        } else {\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.UNDEFINED');\r\n        }\r\n      }\r\n    } else if (item.tx_type === 6 && item.height === 0) {\r\n      return 'unknown';\r\n    } else if (item.tx_type === 9) {\r\n      if (item.hasOwnProperty('contract') && item.contract[0].is_a) {\r\n        return this.translate.instant('HISTORY.TYPE_MESSAGES.COMPLETE_BUYER');\r\n      } else {\r\n        return this.translate.instant('HISTORY.TYPE_MESSAGES.COMPLETE_SELLER');\r\n      }\r\n    } else {\r\n      switch (item.tx_type) {\r\n        // case 0:\r\n        //   return '';\r\n        // case 1:\r\n        //   return '';\r\n        // case 2:\r\n        //   return '';\r\n        // case 3:\r\n        //   return '';\r\n        case 4:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.CREATE_ALIAS');\r\n        case 5:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.UPDATE_ALIAS');\r\n        case 6:\r\n          return (item.td['spn'] && item.td['spn'].length) ? this.translate.instant('HISTORY.TYPE_MESSAGES.POS_REWARD') : this.translate.instant('HISTORY.TYPE_MESSAGES.POW_REWARD');\r\n        case 7:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.CREATE_CONTRACT');\r\n        case 8:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.PLEDGE_CONTRACT');\r\n        // case 9:\r\n        //   return '';\r\n        case 10:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.NULLIFY_CONTRACT');\r\n        case 11:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.PROPOSAL_CANCEL_CONTRACT');\r\n        case 12:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.CANCEL_CONTRACT');\r\n      }\r\n    }\r\n\r\n    return this.translate.instant('HISTORY.TYPE_MESSAGES.UNDEFINED');\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Pipe({\r\n  name: 'intToMoney'\r\n})\r\nexport class IntToMoneyPipe implements PipeTransform {\r\n\r\n  constructor(private variablesService: VariablesService) {\r\n  }\r\n\r\n  transform(value: any, args?: any): any {\r\n    if (value === 0 || value === undefined) {\r\n      return '0';\r\n    }\r\n    let maxFraction = this.variablesService.digits;\r\n    if (args) {\r\n      maxFraction = parseInt(args, 10);\r\n    }\r\n    const power = Math.pow(10, this.variablesService.digits);\r\n    let str = (new BigNumber(value)).div(power).toFixed(maxFraction);\r\n\r\n    for (let i = str.length - 1; i >= 0; i--) {\r\n      if (str[i] !== '0') {\r\n        str = str.substr(0, i + 1);\r\n        break;\r\n      }\r\n    }\r\n    if (str[str.length - 1] === '.') {\r\n      str = str.substr(0, str.length - 1);\r\n    }\r\n    return str;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Pipe({\r\n  name: 'moneyToInt'\r\n})\r\nexport class MoneyToIntPipe implements PipeTransform {\r\n\r\n  constructor(private variablesService: VariablesService) {\r\n  }\r\n\r\n  transform(value: any, args?: any): any {\r\n    const CURRENCY_DISPLAY_DECIMAL_POINT = this.variablesService.digits;\r\n    let result;\r\n    if (value) {\r\n      let am_str = value.toString().trim();\r\n      const point_index = am_str.indexOf('.');\r\n      let fraction_size = 0;\r\n      if (-1 !== point_index) {\r\n        fraction_size = am_str.length - point_index - 1;\r\n        while (CURRENCY_DISPLAY_DECIMAL_POINT < fraction_size && '0' === am_str[am_str.length - 1]) {\r\n          am_str = am_str.slice(0, am_str.length - 1);\r\n          --fraction_size;\r\n        }\r\n        if (CURRENCY_DISPLAY_DECIMAL_POINT < fraction_size) {\r\n          return undefined;\r\n        }\r\n        am_str = am_str.slice(0, point_index) + am_str.slice(point_index + 1, am_str.length);\r\n      } else {\r\n        fraction_size = 0;\r\n      }\r\n      if (!am_str.length) {\r\n        return undefined;\r\n      }\r\n      if (fraction_size < CURRENCY_DISPLAY_DECIMAL_POINT) {\r\n        for (let i = 0; i !== CURRENCY_DISPLAY_DECIMAL_POINT - fraction_size; i++) {\r\n          am_str = am_str + '0';\r\n        }\r\n      }\r\n      result = (new BigNumber(am_str)).integerValue();\r\n    }\r\n    return result;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IntToMoneyPipe } from './int-to-money.pipe';\r\nimport { SafeHTMLPipe } from './safe-html.pipe';\r\nimport { MoneyToIntPipe } from './money-to-int.pipe';\r\nimport { HistoryTypeMessagesPipe } from './history-type-messages.pipe';\r\nimport { ContractTimeLeftPipe } from './contract-time-left.pipe';\r\nimport { ContractStatusMessagesPipe } from './contract-status-messages.pipe';\r\n\r\n@NgModule({\r\n  declarations: [IntToMoneyPipe, SafeHTMLPipe, MoneyToIntPipe, HistoryTypeMessagesPipe, ContractTimeLeftPipe, ContractStatusMessagesPipe],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [IntToMoneyPipe, SafeHTMLPipe, MoneyToIntPipe, HistoryTypeMessagesPipe, ContractTimeLeftPipe, ContractStatusMessagesPipe],\r\n  providers: [IntToMoneyPipe, SafeHTMLPipe, MoneyToIntPipe, HistoryTypeMessagesPipe, ContractTimeLeftPipe, ContractStatusMessagesPipe]\r\n})\r\nexport class PipesModule {\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHTML'\r\n})\r\nexport class SafeHTMLPipe implements PipeTransform {\r\n\r\n  constructor(private sanitizer: DomSanitizer) {\r\n  }\r\n\r\n  transform(html: string) {\r\n    return this.sanitizer.bypassSecurityTrustHtml(html);\r\n  }\r\n\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { VariablesService } from './variables.service';\r\nimport { ModalService } from './modal.service';\r\nimport { MoneyToIntPipe } from '../pipes/money-to-int.pipe';\r\nimport JSONBigNumber from 'json-bignumber';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { Alias } from '../models/wallet.model';\r\n\r\nexport interface PramsObj {\r\n  [key: string]: any;\r\n}\r\n\r\nexport type PramsArray = (string | PramsObj)[];\r\n\r\nexport type Params = string | PramsObj | PramsArray;\r\n\r\nexport enum ParamsType {\r\n  array = 'array',\r\n  object = 'object',\r\n  string = 'string'\r\n}\r\n\r\nexport const getParamsType = (value: Params): ParamsType | null => {\r\n  if (!value) {\r\n    return null;\r\n  }\r\n  const array: false | ParamsType.array = Array.isArray(value) && ParamsType.array;\r\n  const object: false | ParamsType = Object.keys(ParamsType).includes(typeof value) && ParamsType[typeof value];\r\n  return array || object || null;\r\n};\r\n\r\nexport type ConvertersObjectForTypes = {\r\n  [key in ParamsType]: (value: Params) => string | string[]\r\n};\r\n\r\nexport const convertersObjectForTypes: ConvertersObjectForTypes = {\r\n  [ParamsType.string]: (value: string): string => value,\r\n  [ParamsType.object]: (value: PramsObj): string => JSONBigNumber.stringify(value),\r\n  [ParamsType.array]: (value: PramsArray): string[] => value.map(v => {\r\n    return typeof v === ParamsType.string ? v as string : JSONBigNumber.stringify(v);\r\n  }),\r\n};\r\n\r\nexport const convertorParams = (value: Params): string | string[] => {\r\n  const type: ParamsType = getParamsType(value);\r\n  return convertersObjectForTypes[type](value);\r\n};\r\n\r\nexport interface ResponseAsyncTransfer {\r\n  error_code: string;\r\n  response_data: {\r\n    success: boolean;\r\n    tx_blob_size: number,\r\n    tx_hash: string\r\n  };\r\n}\r\n\r\nexport interface AsyncCommandResults {\r\n  job_id: number;\r\n  response: ResponseAsyncTransfer;\r\n}\r\n\r\nexport enum StatusCurrentActionState {\r\n  STATE_SENDING = 'STATE_SENDING',\r\n  STATE_SENT_SUCCESS = 'STATE_SENT_SUCCESS',\r\n  STATE_SEND_FAILED = 'STATE_SEND_FAILED',\r\n  STATE_INITIALIZING = 'STATE_INITIALIZING',\r\n  STATE_DOWNLOADING_CONSENSUS = 'STATE_DOWNLOADING_CONSENSUS',\r\n  STATE_MAKING_TUNNEL_A = 'STATE_MAKING_TUNNEL_A',\r\n  STATE_MAKING_TUNNEL_B = 'STATE_MAKING_TUNNEL_B',\r\n  STATE_CREATING_STREAM = 'STATE_CREATING_STREAM',\r\n  STATE_FAILED = 'STATE_FAILED',\r\n  STATE_SUCCESS = 'STATE_SUCCESS'\r\n}\r\n\r\nexport interface CurrentActionState {\r\n  status: StatusCurrentActionState;\r\n  wallet_id: number;\r\n}\r\n\r\n@Injectable()\r\nexport class BackendService {\r\n  dispatchAsyncCallResult$ = new Subject<AsyncCommandResults>();\r\n  handleCurrentActionState$ = new Subject<CurrentActionState>();\r\n\r\n  backendObject: any;\r\n\r\n  backendLoaded = false;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private variablesService: VariablesService,\r\n    private modalService: ModalService,\r\n    private moneyToIntPipe: MoneyToIntPipe,\r\n    private ngZone: NgZone,\r\n  ) {\r\n  }\r\n\r\n  static bigNumberParser(key, val) {\r\n    if (\r\n      val.constructor.name === 'BigNumber' &&\r\n      ['balance', 'unlocked_balance', 'amount', 'fee', 'b_fee', 'to_pay', 'a_pledge', 'b_pledge', 'coast', 'a'].indexOf(key) === -1) {\r\n      return val.toNumber();\r\n    }\r\n    if (key === 'rcv' || key === 'spn') {\r\n      for (let i = 0; i < val.length; i++) {\r\n        val[i] = new BigNumber(val[i]);\r\n      }\r\n    }\r\n    return val;\r\n  }\r\n\r\n  static Debug(type, message) {\r\n    switch (type) {\r\n      case 0:\r\n        console.error(message);\r\n        break;\r\n      case 1:\r\n        console.warn(message);\r\n        break;\r\n      case 2:\r\n        console.log(message);\r\n        break;\r\n      default:\r\n        console.log(message);\r\n        break;\r\n    }\r\n  }\r\n\r\n  eventSubscribe(command, callback) {\r\n    if (command === 'on_core_event') {\r\n      this.backendObject[command].connect(callback);\r\n    } else {\r\n      this.backendObject[command].connect((str) => {\r\n        callback(JSONBigNumber.parse(str, BackendService.bigNumberParser));\r\n      });\r\n    }\r\n  }\r\n\r\n  initService() {\r\n    return new Observable(\r\n      observer => {\r\n        if (!this.backendLoaded) {\r\n          this.backendLoaded = true;\r\n          const that = this;\r\n          (<any>window).QWebChannel((<any>window).qt.webChannelTransport, function (channel) {\r\n            that.backendObject = channel.objects.mediator_object;\r\n            observer.next('ok');\r\n          });\r\n        } else {\r\n          if (!this.backendObject) {\r\n            observer.error('error');\r\n            observer.error('error');\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  webkitLaunchedScript() {\r\n    return this.runCommand('webkit_launched_script');\r\n  }\r\n\r\n  quitRequest() {\r\n    return this.runCommand('on_request_quit');\r\n  }\r\n\r\n  getAppData(callback) {\r\n    this.runCommand('get_app_data', {}, callback);\r\n  }\r\n\r\n  storeAppData(callback?) {\r\n    if (this.variablesService.wallets.length) {\r\n      this.variablesService.settings.wallets = [];\r\n      this.variablesService.wallets.forEach((wallet) => {\r\n        this.variablesService.settings.wallets.push({ name: wallet.name, path: wallet.path });\r\n      });\r\n    }\r\n    this.runCommand('store_app_data', this.variablesService.settings, callback);\r\n  }\r\n\r\n  getSecureAppData(pass, callback) {\r\n    this.runCommand('get_secure_app_data', pass, callback);\r\n  }\r\n\r\n  setMasterPassword(pass, callback) {\r\n    this.runCommand('set_master_password', pass, callback);\r\n  }\r\n\r\n  checkMasterPassword(pass, callback) {\r\n    this.runCommand('check_master_password', pass, callback);\r\n  }\r\n\r\n  getIsDisabledNotifications(callback) {\r\n    const params = {};\r\n    this.runCommand('get_is_disabled_notifications', params, callback);\r\n  }\r\n\r\n  setIsDisabledNotifications(state) {\r\n    this.runCommand('set_is_disabled_notifications', state);\r\n  }\r\n\r\n  storeSecureAppData(callback?) {\r\n    let data;\r\n    const wallets = [];\r\n    const contacts = [];\r\n    this.variablesService.wallets.forEach((wallet) => {\r\n      wallets.push({ name: wallet.name, pass: wallet.pass, path: wallet.path, staking: wallet.staking });\r\n    });\r\n    this.variablesService.contacts.forEach((contact) => {\r\n      contacts.push({ name: contact.name, address: contact.address, notes: contact.notes });\r\n    });\r\n    data = { wallets: wallets, contacts: contacts };\r\n    this.backendObject['store_secure_app_data'](JSON.stringify(data), this.variablesService.appPass, (dataStore) => {\r\n      this.backendCallback(dataStore, {}, callback, 'store_secure_app_data');\r\n    });\r\n  }\r\n\r\n  dropSecureAppData(callback?) {\r\n    this.backendObject['drop_secure_app_data']((dataStore) => {\r\n      this.backendCallback(dataStore, {}, callback, 'drop_secure_app_data');\r\n    });\r\n  }\r\n\r\n  haveSecureAppData(callback) {\r\n    this.runCommand('have_secure_app_data', {}, callback);\r\n  }\r\n\r\n  saveFileDialog(caption, fileMask, default_path, callback) {\r\n    const dir = default_path ? default_path : '/';\r\n    const params = {\r\n      caption: caption,\r\n      filemask: fileMask,\r\n      default_dir: dir\r\n    };\r\n    this.runCommand('show_savefile_dialog', params, callback);\r\n  }\r\n\r\n  openFileDialog(caption, fileMask, default_path, callback) {\r\n    const dir = default_path ? default_path : '/';\r\n    const params = {\r\n      caption: caption,\r\n      filemask: fileMask,\r\n      default_dir: dir\r\n    };\r\n    this.runCommand('show_openfile_dialog', params, callback);\r\n  }\r\n\r\n  storeFile(path, buff) {\r\n    this.backendObject['store_to_file'](path, buff);\r\n  }\r\n\r\n  loadFile(path, callback) {\r\n    this.runCommand('load_from_file', path, callback);\r\n  }\r\n\r\n  push_offer(params, callback) {\r\n    this.runCommand('push_offer', params, callback);\r\n  }\r\n\r\n  generateWallet(path, pass, callback) {\r\n    const params = {\r\n      path: path,\r\n      pass: pass\r\n    };\r\n    this.runCommand('generate_wallet', params, callback);\r\n  }\r\n\r\n  exportWalletHistory(json_string) {\r\n    this.runCommand('export_wallet_history', json_string);\r\n  }\r\n\r\n  openWallet(path, pass, txs_to_return, testEmpty, callback) {\r\n    const params = {\r\n      path: path,\r\n      pass: pass,\r\n      txs_to_return: txs_to_return\r\n    };\r\n    params['testEmpty'] = !!(testEmpty);\r\n    this.runCommand('open_wallet', params, callback);\r\n  }\r\n\r\n  closeWallet(wallet_id, callback?) {\r\n    this.runCommand('close_wallet', { wallet_id: +wallet_id }, callback);\r\n  }\r\n\r\n  getSmartWalletInfo({ wallet_id, seed_password }, callback) {\r\n    this.runCommand('get_smart_wallet_info', { wallet_id: +wallet_id, seed_password }, callback);\r\n  }\r\n\r\n  getSeedPhraseInfo(param, callback) {\r\n    this.runCommand('get_seed_phrase_info', param, callback);\r\n  }\r\n\r\n  runWallet(wallet_id, callback?) {\r\n    this.runCommand('run_wallet', { wallet_id: +wallet_id }, callback);\r\n  }\r\n\r\n  isValidRestoreWalletText(param, callback) {\r\n    this.runCommand('is_valid_restore_wallet_text', param, callback);\r\n  }\r\n\r\n  restoreWallet(path, pass, seed_phrase, seed_pass, callback) {\r\n    const params = {\r\n      seed_phrase: seed_phrase,\r\n      path: path,\r\n      pass: pass,\r\n      seed_pass\r\n    };\r\n    this.runCommand('restore_wallet', params, callback);\r\n  }\r\n\r\n  sendMoney(from_wallet_id, to_address, amount, fee, mixin, comment, hide, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(from_wallet_id, 10),\r\n      destinations: [\r\n        {\r\n          address: to_address,\r\n          amount: amount\r\n        }\r\n      ],\r\n      mixin_count: (mixin) ? parseInt(mixin, 10) : 0,\r\n      lock_time: 0,\r\n      fee: this.moneyToIntPipe.transform(fee),\r\n      comment: comment,\r\n      push_payer: !hide\r\n    };\r\n\r\n    this.asyncCall('transfer', params, callback);\r\n  }\r\n\r\n  validateAddress(address, callback) {\r\n    this.runCommand('validate_address', address, callback);\r\n  }\r\n\r\n  setClipboard(str, callback?) {\r\n    return this.runCommand('set_clipboard', str, callback);\r\n  }\r\n\r\n  getClipboard(callback) {\r\n    return this.runCommand('get_clipboard', {}, callback);\r\n  }\r\n\r\n  createProposal(wallet_id, title, comment, a_addr, b_addr, to_pay, a_pledge, b_pledge, time, payment_id, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      details: {\r\n        t: title,\r\n        c: comment,\r\n        a_addr: a_addr,\r\n        b_addr: b_addr,\r\n        to_pay: this.moneyToIntPipe.transform(to_pay),\r\n        a_pledge: this.moneyToIntPipe.transform(a_pledge),\r\n        b_pledge: this.moneyToIntPipe.transform(b_pledge)\r\n      },\r\n      payment_id: payment_id,\r\n      expiration_period: parseInt(time, 10) * 60 * 60,\r\n      fee: this.variablesService.default_fee_big,\r\n      b_fee: this.variablesService.default_fee_big\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('create_proposal', params, callback);\r\n  }\r\n\r\n  getContracts(wallet_id, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10)\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('get_contracts', params, callback);\r\n  }\r\n\r\n  acceptProposal(wallet_id, contract_id, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('accept_proposal', params, callback);\r\n  }\r\n\r\n  releaseProposal(wallet_id, contract_id, release_type, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id,\r\n      release_type: release_type // \"normal\" or \"burn\"\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('release_contract', params, callback);\r\n  }\r\n\r\n  requestCancelContract(wallet_id, contract_id, time, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id,\r\n      fee: this.variablesService.default_fee_big,\r\n      expiration_period: parseInt(time, 10) * 60 * 60\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('request_cancel_contract', params, callback);\r\n  }\r\n\r\n  acceptCancelContract(wallet_id, contract_id, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('accept_cancel_contract', params, callback);\r\n  }\r\n\r\n  getMiningHistory(wallet_id, callback) {\r\n    this.runCommand('get_mining_history', { wallet_id: parseInt(wallet_id, 10) }, callback);\r\n  }\r\n\r\n  startPosMining(wallet_id, callback?) {\r\n    this.runCommand('start_pos_mining', { wallet_id: parseInt(wallet_id, 10) }, callback);\r\n  }\r\n\r\n  stopPosMining(wallet_id, callback?) {\r\n    this.runCommand('stop_pos_mining', { wallet_id: parseInt(wallet_id, 10) }, callback);\r\n  }\r\n\r\n  openUrlInBrowser(url, callback?) {\r\n    this.runCommand('open_url_in_browser', url, callback);\r\n  }\r\n\r\n  start_backend(node, host, port, callback) {\r\n    const params = {\r\n      configure_for_remote_node: node,\r\n      remote_node_host: host,\r\n      remote_node_port: parseInt(port, 10)\r\n    };\r\n    this.runCommand('start_backend', params, callback);\r\n  }\r\n\r\n  getDefaultFee(callback) {\r\n    this.runCommand('get_default_fee', {}, callback);\r\n  }\r\n\r\n  setBackendLocalization(stringsArray, title, callback?) {\r\n    const params = {\r\n      strings: stringsArray,\r\n      language_title: title\r\n    };\r\n    this.runCommand('set_localization_strings', params, callback);\r\n  }\r\n\r\n  registerAlias(wallet_id, alias, address, fee, comment, reward, callback) {\r\n    const params = {\r\n      wallet_id: wallet_id,\r\n      alias: {\r\n        alias: alias,\r\n        address: address,\r\n        tracking_key: '',\r\n        comment: comment\r\n      },\r\n      fee: this.moneyToIntPipe.transform(fee),\r\n      reward: this.moneyToIntPipe.transform(reward)\r\n    };\r\n    this.runCommand('request_alias_registration', params, callback);\r\n  }\r\n\r\n  updateAlias(wallet_id, alias, fee, callback) {\r\n    const params = {\r\n      wallet_id: wallet_id,\r\n      alias: {\r\n        alias: alias.name.replace('@', ''),\r\n        address: alias.address,\r\n        tracking_key: '',\r\n        comment: alias.comment\r\n      },\r\n      fee: this.moneyToIntPipe.transform(fee)\r\n    };\r\n    this.runCommand('request_alias_update', params, callback);\r\n  }\r\n\r\n  getAllAliases(callback) {\r\n    this.runCommand('get_all_aliases', {}, callback);\r\n  }\r\n\r\n  getAliasByName(value, callback) {\r\n    return this.runCommand('get_alias_info_by_name', value, callback);\r\n  }\r\n\r\n  getAliasByAddress(value, callback) {\r\n    return this.runCommand('get_alias_info_by_address', value, callback);\r\n  }\r\n\r\n  getAliasCoast(alias, callback) {\r\n    this.runCommand('get_alias_coast', { v: alias }, callback);\r\n  }\r\n\r\n  resyncWallet(id) {\r\n    this.runCommand('resync_wallet', { wallet_id: id });\r\n  }\r\n\r\n  getWalletAlias(address): Partial<Alias> {\r\n    if (address !== null && this.variablesService.daemon_state === 2) {\r\n      if (this.variablesService.aliasesChecked[address] == null) {\r\n        this.variablesService.aliasesChecked[address] = {};\r\n        if (this.variablesService.aliases.length) {\r\n          for (let i = 0, length = this.variablesService.aliases.length; i < length; i++) {\r\n            if (i in this.variablesService.aliases && this.variablesService.aliases[i]['address'] === address) {\r\n              this.variablesService.aliasesChecked[address]['name'] = this.variablesService.aliases[i].name;\r\n              this.variablesService.aliasesChecked[address]['address'] = this.variablesService.aliases[i].address;\r\n              this.variablesService.aliasesChecked[address]['comment'] = this.variablesService.aliases[i].comment;\r\n              return this.variablesService.aliasesChecked[address];\r\n            }\r\n          }\r\n        }\r\n        this.getAliasByAddress(address, (status, data) => {\r\n          if (status) {\r\n            this.variablesService.aliasesChecked[data.address]['name'] = '@' + data.alias;\r\n            this.variablesService.aliasesChecked[data.address]['address'] = data.address;\r\n            this.variablesService.aliasesChecked[data.address]['comment'] = data.comment;\r\n          }\r\n        });\r\n      }\r\n      return this.variablesService.aliasesChecked[address];\r\n    }\r\n    return {};\r\n  }\r\n\r\n  getContactAlias() {\r\n    if (this.variablesService.contacts.length && this.variablesService.daemon_state === 2) {\r\n      this.variablesService.contacts.map(contact => {\r\n        this.getAliasByAddress(contact.address, (status, data) => {\r\n          if (status) {\r\n            if (data.alias) {\r\n              contact.alias = '@' + data.alias;\r\n            }\r\n          } else {\r\n            contact.alias = null;\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  getRecentTransfers(id, offset, count, exclude_mining_txs, callback) {\r\n    const params = {\r\n      wallet_id: id,\r\n      offset: offset,\r\n      count: count,\r\n      exclude_mining_txs: exclude_mining_txs\r\n    };\r\n    this.runCommand('get_recent_transfers', params, callback);\r\n  }\r\n\r\n  getPoolInfo(callback) {\r\n    this.runCommand('get_tx_pool_info', {}, callback);\r\n  }\r\n\r\n  getVersion(callback) {\r\n    this.runCommand('get_version', {}, (status, version) => {\r\n      this.runCommand('get_network_type', {}, (status_network, type) => {\r\n        callback(version, type);\r\n      });\r\n    });\r\n  }\r\n\r\n  setLogLevel(level) {\r\n    return this.runCommand('set_log_level', { v: level });\r\n  }\r\n\r\n  asyncCall(command: string, params: PramsObj, callback?: (job_id?: number) => void | any) {\r\n    return this.runCommand('async_call', [command, params], (status, { job_id }: { job_id: number }) => {\r\n      callback(job_id);\r\n    });\r\n  }\r\n\r\n  dispatchAsyncCallResult() {\r\n    this.backendObject['dispatch_async_call_result'].connect((job_id: string, json_resp: string) => {\r\n      const asyncCommandResults: AsyncCommandResults = {\r\n        job_id: +job_id,\r\n        response: JSON.parse(json_resp)\r\n      };\r\n      this.ngZone.run(() => this.dispatchAsyncCallResult$.next(asyncCommandResults));\r\n    });\r\n  }\r\n\r\n  handleCurrentActionState() {\r\n    this.backendObject['handle_current_action_state']\r\n      .connect((response: string) => {\r\n        const currentActionState: CurrentActionState = JSON.parse(response);\r\n        this.ngZone.run(() => this.handleCurrentActionState$.next(currentActionState));\r\n      });\r\n  }\r\n\r\n  setEnableTor(value: boolean) {\r\n    return this.runCommand('set_enable_tor', <{ v: boolean }>{ v: value });\r\n  }\r\n\r\n  getOptions() {\r\n    return this.runCommand(\r\n      'get_options',\r\n      {},\r\n      (status, { disable_price_fetch, use_debug_mode }: { disable_price_fetch: boolean; use_debug_mode: boolean }) => {\r\n        this.variablesService.disable_price_fetch$.next(disable_price_fetch);\r\n        this.variablesService.use_debug_mode$.next(use_debug_mode);\r\n      });\r\n  }\r\n\r\n  private informerRun(error, params, command) {\r\n    let error_translate = '';\r\n    switch (error) {\r\n      case 'NOT_ENOUGH_MONEY':\r\n        error_translate = 'ERRORS.NOT_ENOUGH_MONEY';\r\n        // error_translate = 'ERRORS.NO_MONEY'; maybe that one?\r\n        if (command === 'cancel_offer') {\r\n          error_translate = this.translate.instant('ERRORS.NO_MONEY_REMOVE_OFFER', {\r\n            'fee': this.variablesService.default_fee,\r\n            'currency': this.variablesService.defaultCurrency\r\n          });\r\n        }\r\n        break;\r\n      case 'CORE_BUSY':\r\n        error_translate = 'ERRORS.CORE_BUSY';\r\n        break;\r\n      case 'BUSY':\r\n        error_translate = 'ERRORS.DAEMON_BUSY';\r\n        break;\r\n      case 'OVERFLOW':\r\n        if (command !== 'get_all_aliases') {\r\n          error_translate = '';\r\n        }\r\n        break;\r\n      case 'NOT_ENOUGH_OUTPUTS_FOR_MIXING':\r\n        error_translate = 'ERRORS.NOT_ENOUGH_OUTPUTS_TO_MIX';\r\n        break;\r\n      case 'TX_IS_TOO_BIG':\r\n        error_translate = 'ERRORS.TRANSACTION_IS_TO_BIG';\r\n        break;\r\n      case 'DISCONNECTED':\r\n        error_translate = 'ERRORS.TRANSFER_ATTEMPT';\r\n        break;\r\n      case 'ACCESS_DENIED':\r\n        error_translate = 'ERRORS.ACCESS_DENIED';\r\n        break;\r\n      case 'TX_REJECTED':\r\n        // if (command === 'request_alias_registration') {\r\n        // error_translate = 'INFORMER.ALIAS_IN_REGISTER';\r\n        // } else {\r\n        error_translate = 'ERRORS.TRANSACTION_ERROR';\r\n        // }\r\n        break;\r\n      case 'INTERNAL_ERROR':\r\n        error_translate = 'ERRORS.TRANSACTION_ERROR';\r\n        break;\r\n      case 'BAD_ARG':\r\n        error_translate = 'ERRORS.BAD_ARG';\r\n        break;\r\n      case 'WALLET_WRONG_ID':\r\n        error_translate = 'ERRORS.WALLET_WRONG_ID';\r\n        break;\r\n      case 'WALLET_WATCH_ONLY_NOT_SUPPORTED':\r\n        error_translate = 'ERRORS.WALLET_WATCH_ONLY_NOT_SUPPORTED';\r\n        break;\r\n      // case 'WRONG_PASSWORD':\r\n      // params = JSON.parse(params);\r\n      // if (!params.testEmpty) {\r\n      //   error_translate = 'ERRORS.WRONG_PASSWORD';\r\n      // }\r\n      // break;\r\n      case 'FILE_RESTORED':\r\n        if (command === 'open_wallet') {\r\n          error_translate = 'ERRORS.FILE_RESTORED';\r\n        }\r\n        break;\r\n      case 'FILE_NOT_FOUND':\r\n        if (command !== 'open_wallet' && command !== 'get_alias_info_by_name' && command !== 'get_alias_info_by_address') {\r\n          error_translate = this.translate.instant('ERRORS.FILE_NOT_FOUND');\r\n          params = JSON.parse(params);\r\n          if (params.path) {\r\n            error_translate += ': ' + params.path;\r\n          }\r\n        }\r\n        break;\r\n      case 'NOT_FOUND':\r\n        if (command !== 'open_wallet' && command !== 'get_alias_info_by_name' && command !== 'get_alias_info_by_address') {\r\n          error_translate = this.translate.instant('ERRORS.FILE_NOT_FOUND');\r\n          params = JSON.parse(params);\r\n          if (params.path) {\r\n            error_translate += ': ' + params.path;\r\n          }\r\n        }\r\n        break;\r\n      case 'CANCELED':\r\n      case '':\r\n        break;\r\n      case 'FAIL':\r\n        if (\r\n          command === 'create_proposal' ||\r\n          command === 'accept_proposal' ||\r\n          command === 'release_contract' ||\r\n          command === 'request_cancel_contract' ||\r\n          command === 'accept_cancel_contract'\r\n        ) {\r\n          error_translate = ' ';\r\n        }\r\n        break;\r\n      case 'ALREADY_EXISTS':\r\n        error_translate = 'ERRORS.FILE_EXIST';\r\n        break;\r\n      case 'FAILED':\r\n        BackendService.Debug(0, `Error: (${ error }) was triggered by command: ${ command }`);\r\n        break;\r\n      default:\r\n        error_translate = '';\r\n    }\r\n    if (error.indexOf('FAIL:failed to save file') > -1) {\r\n      error_translate = 'ERRORS.FILE_NOT_SAVED';\r\n    }\r\n    if (error.indexOf('FAILED:failed to open binary wallet file for saving') > -1 && command === 'generate_wallet') {\r\n      error_translate = '';\r\n    }\r\n\r\n    if (error_translate !== '') {\r\n      this.modalService.prepareModal('error', error_translate);\r\n    }\r\n  }\r\n\r\n  private commandDebug(command, params, result) {\r\n    BackendService.Debug(2, '----------------- ' + command + ' -----------------');\r\n    const debug = {\r\n      _send_params: params,\r\n      _result: result\r\n    };\r\n    BackendService.Debug(2, debug);\r\n    try {\r\n      BackendService.Debug(2, JSONBigNumber.parse(result, BackendService.bigNumberParser));\r\n    } catch ( e ) {\r\n      BackendService.Debug(2, { response_data: result, error_code: 'OK' });\r\n    }\r\n  }\r\n\r\n  private backendCallback(resultStr, params, callback, command) {\r\n    let Result = resultStr;\r\n    if (command !== 'get_clipboard') {\r\n      if (!resultStr || resultStr === '') {\r\n        Result = {};\r\n      } else {\r\n        try {\r\n          Result = JSONBigNumber.parse(resultStr, BackendService.bigNumberParser);\r\n        } catch ( e ) {\r\n          Result = { response_data: resultStr, error_code: 'OK' };\r\n        }\r\n      }\r\n    } else {\r\n      Result = {\r\n        error_code: 'OK',\r\n        response_data: Result\r\n      };\r\n    }\r\n\r\n    const core_busy = Result.error_code === 'CORE_BUSY';\r\n    const Status = (Result.error_code === 'OK' || Result.error_code === 'TRUE');\r\n\r\n    if (!Status && Status !== undefined && Result.error_code !== undefined) {\r\n      BackendService.Debug(1, 'API error for command: \"' + command + '\". Error code: ' + Result.error_code);\r\n    }\r\n    const data = ((typeof Result === 'object') && 'response_data' in Result) ? Result.response_data : Result;\r\n\r\n    let res_error_code = false;\r\n    if (\r\n      typeof Result === 'object' &&\r\n      'error_code' in Result && Result.error_code !== 'OK' &&\r\n      Result.error_code !== 'TRUE' &&\r\n      Result.error_code !== 'FALSE' &&\r\n      Result.error_code !== 'WRAP'\r\n    ) {\r\n      if (core_busy) {\r\n        setTimeout(() => {\r\n          // this is will avoid update data when user\r\n          // on other wallet after CORE_BUSY (blink of data)\r\n          if (command !== 'get_recent_transfers') {\r\n            this.runCommand(command, params, callback);\r\n          } else {\r\n            const current_wallet_id = this.variablesService.currentWallet.wallet_id;\r\n            if (current_wallet_id === params.wallet_id) {\r\n              this.runCommand(command, params, callback);\r\n            }\r\n          }\r\n        }, 50);\r\n      } else {\r\n        this.informerRun(Result.error_code, params, command);\r\n        res_error_code = Result.error_code;\r\n      }\r\n    }\r\n\r\n    // if ( command === 'get_offers_ex' ){\r\n    //   Service.printLog( \"get_offers_ex offers count \"+((data.offers)?data.offers.length:0) );\r\n    // }\r\n\r\n    if (!core_busy) {\r\n      if (typeof callback === 'function') {\r\n        callback(Status, data, res_error_code);\r\n      } else {\r\n        return data;\r\n      }\r\n    }\r\n  }\r\n\r\n  private runCommand(command, params?: Params, callback?) {\r\n    if (!this.backendObject) {\r\n      return;\r\n    }\r\n\r\n    if (command === 'get_recent_transfers') {\r\n      this.variablesService.get_recent_transfers = true;\r\n    }\r\n\r\n    const Action = this.backendObject[command];\r\n\r\n    if (!Action) {\r\n      BackendService.Debug(0, 'Run Command Error! Command \"' + command + '\" don\\'t found in backendObject');\r\n      return;\r\n    }\r\n\r\n    const that = this;\r\n    const type: ParamsType = getParamsType(params);\r\n    params = params && convertorParams(params);\r\n\r\n    if (type === ParamsType.array) {\r\n      Action(...(params as string[]), function (resultStr) {\r\n        that.commandDebug(command, params, resultStr);\r\n        return that.backendCallback(resultStr, params, callback, command);\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (command === 'get_recent_transfers') {\r\n      this.variablesService.get_recent_transfers = false;\r\n    }\r\n    Action(params, function (resultStr) {\r\n      that.commandDebug(command, params, resultStr);\r\n      return that.backendCallback(resultStr, params, callback, command);\r\n    });\r\n  }\r\n}\r\n\r\n\r\n/*\r\n\r\n      toggleAutoStart: function (value) {\r\n        return this.runCommand('toggle_autostart', asVal(value));\r\n      },\r\n\r\n      getOptions: function (callback) {\r\n        return this.runCommand('get_options', {}, callback);\r\n      },\r\n\r\n      isFileExist: function (path, callback) {\r\n        return this.runCommand('is_file_exist', path, callback);\r\n      },\r\n\r\n      isAutoStartEnabled: function (callback) {\r\n        this.runCommand('is_autostart_enabled', {}, function (status, data) {\r\n          if (angular.isFunction(callback)) {\r\n            callback('error_code' in data && data.error_code !== 'FALSE')\r\n          }\r\n        });\r\n      },\r\n\r\n      resetWalletPass: function (wallet_id, pass, callback) {\r\n        this.runCommand('reset_wallet_password', {wallet_id: wallet_id, pass: pass}, callback);\r\n      },\r\n\r\n\r\n\r\n      getOsVersion: function (callback) {\r\n        this.runCommand('get_os_version', {}, function (status, version) {\r\n          callback(version)\r\n        })\r\n      },\r\n\r\n      getLogFile: function (callback) {\r\n        this.runCommand('get_log_file', {}, function (status, version) {\r\n          callback(version)\r\n        })\r\n      },\r\n\r\n      resync_wallet: function (wallet_id, callback) {\r\n        this.runCommand('resync_wallet', {wallet_id: wallet_id}, callback);\r\n      },\r\n\r\n      storeFile: function (path, buff, callback) {\r\n        this.backendObject['store_to_file'](path, (typeof buff === 'string' ? buff : JSON.stringify(buff)), function (data) {\r\n          backendCallback(data, {}, callback, 'store_to_file');\r\n        });\r\n      },\r\n\r\n      getMiningEstimate: function (amount_coins, time, callback) {\r\n        var params = {\r\n          \"amount_coins\": $filter('money_to_int')(amount_coins),\r\n          \"time\": parseInt(time)\r\n        };\r\n        this.runCommand('get_mining_estimate', params, callback);\r\n      },\r\n\r\n      backupWalletKeys: function (wallet_id, path, callback) {\r\n        var params = {\r\n          \"wallet_id\": wallet_id,\r\n          \"path\": path\r\n        };\r\n        this.runCommand('backup_wallet_keys', params, callback);\r\n      },\r\n\r\n      setBlockedIcon: function (enabled, callback) {\r\n        var mode = (enabled) ? \"blocked\" : \"normal\";\r\n        Service.runCommand('bool_toggle_icon', mode, callback);\r\n      },\r\n\r\n      getWalletInfo: function (wallet_id, callback) {\r\n        this.runCommand('get_wallet_info', {wallet_id: wallet_id}, callback);\r\n      },\r\n\r\n      printText: function (content) {\r\n        return this.runCommand('print_text', {html_text: content});\r\n      },\r\n\r\n      printLog: function (msg, log_level) {\r\n        return this.runCommand('print_log', {msg: msg, log_level: log_level});\r\n      },\r\n\r\n*/\r\n\r\n","import { ApplicationRef, ComponentFactoryResolver, EmbeddedViewRef, Injectable, Injector, NgZone } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ModalContainerComponent } from '../modals/modal-container/modal-container.component';\r\n\r\n@Injectable()\r\nexport class ModalService {\r\n\r\n  private components: any[] = [];\r\n\r\n  constructor(\r\n    private componentFactoryResolver: ComponentFactoryResolver,\r\n    private appRef: ApplicationRef,\r\n    private injector: Injector,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  prepareModal(type, message) {\r\n    const length = this.components.push(\r\n      this.componentFactoryResolver.resolveComponentFactory(ModalContainerComponent).create(this.injector)\r\n    );\r\n\r\n    this.components[length - 1].instance['type'] = type;\r\n    this.components[length - 1].instance['message'] = message.length ? this.translate.instant(message) : '';\r\n    this.components[length - 1].instance['close'].subscribe(() => {\r\n      this.removeModal(length - 1);\r\n    });\r\n\r\n    this.ngZone.run(() => {\r\n      this.appendModal(length - 1);\r\n    });\r\n  }\r\n\r\n  appendModal(index) {\r\n    setTimeout(() => {\r\n      this.appRef.attachView(this.components[index].hostView);\r\n      const domElem = (this.components[index].hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\r\n      document.body.appendChild(domElem);\r\n    });\r\n  }\r\n\r\n  removeModal(index) {\r\n    if (this.components[index]) {\r\n      this.appRef.detachView(this.components[index].hostView);\r\n      this.components[index].destroy();\r\n      this.components.splice(index, 1);\r\n    } else {\r\n      const last = this.components.length - 1;\r\n      this.appRef.detachView(this.components[last].hostView);\r\n      this.components[last].destroy();\r\n      this.components.splice(last, 1);\r\n    }\r\n  }\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { VariablesService } from './variables.service';\r\nimport { PaginationStore } from './pagination.store';\r\nimport * as _ from 'lodash';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class PaginationService {\r\n\r\n  constructor(\r\n    private variables: VariablesService,\r\n    private ngZone: NgZone,\r\n    private paginationStore: PaginationStore,\r\n  ) {\r\n  }\r\n\r\n  paginate(currentPage = 1) {\r\n    if (currentPage < 1) {\r\n      currentPage = 1;\r\n    } else if (currentPage > this.variables.currentWallet.totalPages) {\r\n      currentPage = this.variables.currentWallet.totalPages;\r\n    }\r\n    let startPage: number, endPage: number;\r\n    if (this.variables.currentWallet.totalPages <= this.variables.maxPages) {\r\n      startPage = 1;\r\n      endPage = this.variables.currentWallet.totalPages;\r\n    } else {\r\n      const maxPagesBeforeCurrentPage = Math.floor(this.variables.maxPages / 2);\r\n      const maxPagesAfterCurrentPage = Math.ceil(this.variables.maxPages / 2) - 1;\r\n      if (currentPage <= maxPagesBeforeCurrentPage) {\r\n        startPage = 1;\r\n        this.variables.currentWallet.totalPages > this.variables.maxPages\r\n          ? endPage = this.variables.maxPages\r\n          : endPage = this.variables.currentWallet.totalPages\r\n        ;\r\n      } else if (currentPage + maxPagesAfterCurrentPage >= this.variables.currentWallet.totalPages) {\r\n        startPage = this.variables.currentWallet.totalPages - this.variables.maxPages + 1;\r\n        endPage = this.variables.currentWallet.totalPages;\r\n      } else {\r\n        startPage = currentPage - maxPagesBeforeCurrentPage;\r\n        endPage = currentPage + maxPagesAfterCurrentPage;\r\n      }\r\n    }\r\n    this.ngZone.run(() => {\r\n      this.variables.currentWallet.pages = Array.from(Array((endPage + 1) - startPage).keys()).map(i => startPage + i);\r\n    });\r\n  }\r\n\r\n  getOffset(walletID) {\r\n    const mining = this.variables.currentWallet.exclude_mining_txs;\r\n    const currentPage = (this.variables.currentWallet.currentPage);\r\n    let offset = ((currentPage - 1) * this.variables.count);\r\n    if (!mining) {\r\n      return offset || 0;\r\n    }\r\n    const value = this.paginationStore.value;\r\n    const pages = value.filter(item => item.walletID === walletID);\r\n    if (pages && pages.length) {\r\n      const max = _.maxBy(pages, 'page');\r\n      const isForward = this.paginationStore.isForward(pages, currentPage);\r\n      if (isForward) {\r\n        offset = max.offset || 0;\r\n      } else {\r\n        const index = pages.findIndex(item => item.page === (currentPage));\r\n        offset = pages[index].offset || 0;\r\n      }\r\n    }\r\n    return offset;\r\n  }\r\n\r\n  calcPages(data) {\r\n    if (data.total_history_items && (data && data.history)) {\r\n      this.variables.currentWallet.totalPages = Math.ceil(data.total_history_items / this.variables.count);\r\n      this.variables.currentWallet.totalPages > this.variables.maxPages\r\n        ? this.variables.currentWallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n        : this.variables.currentWallet.pages =\r\n          new Array(this.variables.currentWallet.totalPages).fill(1).map((value, index) => value + index);\r\n    } else if (this.variables.currentWallet.restore) {\r\n      this.variables.currentWallet.totalPages = Math.ceil(data.history.length / this.variables.count);\r\n      this.variables.currentWallet.totalPages > this.variables.maxPages\r\n        ? this.variables.currentWallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n        : this.variables.currentWallet.pages =\r\n          new Array(this.variables.currentWallet.totalPages).fill(1).map((value, index) => value + index);\r\n    }\r\n  }\r\n\r\n  prepareHistory(data, status) {\r\n    if (status && (data && data.total_history_items)) {\r\n      this.variables.currentWallet.history.splice(0, this.variables.currentWallet.history.length);\r\n      this.ngZone.run(() => {\r\n        this.paginate(this.variables.currentWallet.currentPage);\r\n        if (data.history.length !== 0) {\r\n          this.variables.currentWallet.restore = false;\r\n          this.variables.currentWallet.total_history_item = data.total_history_items;\r\n          this.variables.currentWallet.prepareHistory(data.history);\r\n          if (this.variables.currentWallet.currentPage === 1 && data.unconfirmed) {\r\n            this.variables.currentWallet.prepareHistory(data.unconfirmed);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport * as _ from 'lodash';\r\n\r\nexport interface Pages {\r\n  page: number;\r\n  offset: number;\r\n  walletID: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PaginationStore {\r\n  private subject = new BehaviorSubject<Pages[] | null>(null);\r\n\r\n  get value(): Pages[] | null {\r\n    return this.subject.value;\r\n  }\r\n\r\n  isForward(pages, currentPage): boolean {\r\n    const max = _.maxBy(pages, 'page');\r\n    return !max || max.page < currentPage || max.page === currentPage;\r\n  }\r\n\r\n  setPage(pageNumber: number, offset: number, walletID: number): void {\r\n    let newPages: Pages[] = [];\r\n    const pages = this.subject.getValue();\r\n    if (pages && pages.length) {\r\n      newPages = pages.slice(0);\r\n    }\r\n    newPages.push({ page: pageNumber, offset, walletID });\r\n    this.subject.next(newPages);\r\n  }\r\n\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { DeeplinkParams, Wallet } from '../models/wallet.model';\r\nimport { Contact } from '../models/contact.model';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Idle } from 'idlejs/dist';\r\nimport { Router } from '@angular/router';\r\nimport { ContextMenuComponent, ContextMenuService } from 'ngx-contextmenu';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VariablesService {\r\n  disable_price_fetch$ = new BehaviorSubject<boolean>(false);\r\n\r\n  use_debug_mode$ = new BehaviorSubject<boolean>(false);\r\n\r\n  request_on_in = {};\r\n\r\n  stop_paginate = {};\r\n\r\n  sync_started = false;\r\n\r\n  digits = 12;\r\n\r\n  appPass = '';\r\n\r\n  appLogin = false;\r\n\r\n  moneyEquivalent = 0;\r\n\r\n  moneyEquivalentPercent = 0;\r\n\r\n  defaultCurrency = 'ZANO';\r\n\r\n  opening_wallet: Wallet;\r\n\r\n  exp_med_ts = 0;\r\n\r\n  net_time_delta_median = 0;\r\n\r\n  height_app = 0;\r\n\r\n  height_max = 0;\r\n\r\n  downloaded = 0;\r\n\r\n  total = 0;\r\n\r\n  last_build_available = '';\r\n\r\n  last_build_displaymode = 0;\r\n\r\n  daemon_state = 3;\r\n\r\n  deeplink$ = new BehaviorSubject<string | null>(null);\r\n\r\n  sendActionData$ = new BehaviorSubject<DeeplinkParams>({});\r\n\r\n  sync = {\r\n    progress_value: 0,\r\n    progress_value_text: '0'\r\n  };\r\n\r\n  download = {\r\n    progress_value: 0,\r\n    progress_value_text: '0'\r\n  };\r\n\r\n  get_recent_transfers = false; // avoid of execute function before callback complete\r\n\r\n  default_fee = '0.010000000000';\r\n\r\n  default_fee_big = new BigNumber('10000000000');\r\n\r\n  settings = {\r\n    appLockTime: 15,\r\n    appLog: 0,\r\n    scale: '10px',\r\n    appUseTor: true,\r\n    language: 'en',\r\n    default_path: '/',\r\n    viewedContracts: [],\r\n    notViewedContracts: [],\r\n    wallets: []\r\n  };\r\n\r\n  count = 40;\r\n\r\n  maxPages = 5;\r\n\r\n  testnet = false;\r\n\r\n  networkType = ''; // testnet of mainnet\r\n\r\n  wallets: Array<Wallet> = [];\r\n\r\n  currentWallet: Wallet;\r\n\r\n  selectWallet: number;\r\n\r\n  aliases: any = [];\r\n\r\n  aliasesChecked: any = {};\r\n\r\n  enableAliasSearch = false;\r\n\r\n  maxWalletNameLength = 25;\r\n\r\n  maxCommentLength = 255;\r\n\r\n  dataIsLoaded = false;\r\n\r\n  contacts: Array<Contact> = [];\r\n\r\n  newContact: Contact = { name: null, address: null, notes: null };\r\n\r\n  pattern = '^[a-zA-Z0-9_.\\\\\\]\\*\\|\\~\\!\\?\\@\\#\\$\\%\\^\\&\\+\\{\\}\\(\\)\\<\\>\\:\\;\\\"\\'\\-\\=\\/\\,\\[\\\\\\\\]*$';\r\n\r\n  after_sync_request: any = {};\r\n\r\n  getExpMedTsEvent = new BehaviorSubject(null);\r\n\r\n  getHeightAppEvent = new BehaviorSubject(null);\r\n\r\n  getHeightMaxEvent = new BehaviorSubject(null);\r\n\r\n  getDownloadedAppEvent = new BehaviorSubject(null);\r\n\r\n  getTotalEvent = new BehaviorSubject(null);\r\n\r\n  getRefreshStackingEvent = new BehaviorSubject(null);\r\n\r\n  getAliasChangedEvent = new BehaviorSubject(null);\r\n\r\n  getWalletChangedEvent = new BehaviorSubject(null);\r\n\r\n  idle = new Idle()\r\n    .whenNotInteractive()\r\n    .do(() => {\r\n      if (this.appPass === '') {\r\n        this.restartCountdown();\r\n      } else {\r\n        this.ngZone.run(() => {\r\n          this.idle.stop();\r\n          this.appPass = '';\r\n          this.appLogin = false;\r\n          this.router.navigate(['/login'], { queryParams: { type: 'auth' } });\r\n        });\r\n      }\r\n    });\r\n\r\n  allContextMenu: ContextMenuComponent;\r\n\r\n  onlyCopyContextMenu: ContextMenuComponent;\r\n\r\n  pasteSelectContextMenu: ContextMenuComponent;\r\n\r\n  constructor(private router: Router, private ngZone: NgZone, private contextMenuService: ContextMenuService) {\r\n  }\r\n\r\n  setExpMedTs(timestamp: number): void {\r\n    if (timestamp !== this.exp_med_ts) {\r\n      this.exp_med_ts = timestamp;\r\n      this.getExpMedTsEvent.next(timestamp);\r\n    }\r\n  }\r\n\r\n  setHeightApp(height: number): void {\r\n    if (height !== this.height_app) {\r\n      this.height_app = height;\r\n      this.getHeightAppEvent.next(height);\r\n    }\r\n  }\r\n\r\n  setHeightMax(height: number): void {\r\n    if (height !== this.height_max) {\r\n      this.height_max = height;\r\n      this.getHeightMaxEvent.next(height);\r\n    }\r\n  }\r\n\r\n  setDownloadedBytes(bytes: number): void {\r\n    if (bytes !== this.downloaded) {\r\n      this.downloaded = this.bytesToMb(bytes);\r\n      this.getDownloadedAppEvent.next(bytes);\r\n    }\r\n  }\r\n\r\n  setTotalBytes(bytes: number): void {\r\n    if (bytes !== this.total) {\r\n      this.total = this.bytesToMb(bytes);\r\n      this.getTotalEvent.next(bytes);\r\n    }\r\n  }\r\n\r\n  setRefreshStacking(wallet_id: number): void {\r\n    this.getHeightAppEvent.next(wallet_id);\r\n  }\r\n\r\n  changeAliases(): void {\r\n    this.getAliasChangedEvent.next(true);\r\n  }\r\n\r\n  setCurrentWallet(id): void {\r\n    this.wallets.forEach((wallet) => {\r\n      if (wallet.wallet_id === id) {\r\n        this.currentWallet = wallet;\r\n        this.getWalletChangedEvent.next(wallet);\r\n      }\r\n    });\r\n  }\r\n\r\n  getWallet(id): Wallet | null {\r\n    for (let i = 0; i < this.wallets.length; i++) {\r\n      if (this.wallets[i].wallet_id === id) {\r\n        return this.wallets[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getNotLoadedWallet(): Wallet | null {\r\n    for (let i = 0; i < this.wallets.length; i++) {\r\n      if (!this.wallets[i].loaded) {\r\n        return this.wallets[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  startCountdown(): void {\r\n    this.idle.within(this.settings.appLockTime).start();\r\n  }\r\n\r\n  stopCountdown(): void {\r\n    this.idle.stop();\r\n  }\r\n\r\n  restartCountdown(): void {\r\n    this.idle.within(this.settings.appLockTime).restart();\r\n  }\r\n\r\n  bytesToMb(bytes): number {\r\n    return Number((bytes / Math.pow(1024, 2)).toFixed(1));\r\n  }\r\n\r\n  onContextMenu($event: MouseEvent): void {\r\n    $event.target['contextSelectionStart'] = $event.target['selectionStart'];\r\n    $event.target['contextSelectionEnd'] = $event.target['selectionEnd'];\r\n    if ($event.target && ($event.target['nodeName'].toUpperCase() === 'TEXTAREA' || $event.target['nodeName'].toUpperCase() === 'INPUT') && !$event.target['readOnly']) {\r\n      this.contextMenuService.show.next({\r\n        contextMenu: this.allContextMenu,\r\n        event: $event,\r\n        item: $event.target,\r\n      });\r\n      $event.preventDefault();\r\n      $event.stopPropagation();\r\n    }\r\n  }\r\n\r\n  onContextMenuOnlyCopy($event: MouseEvent, copyText?: string): void {\r\n    $event.preventDefault();\r\n    $event.stopPropagation();\r\n    this.contextMenuService.show.next({\r\n      contextMenu: this.onlyCopyContextMenu,\r\n      event: $event,\r\n      item: copyText\r\n    });\r\n  }\r\n\r\n  onContextMenuPasteSelect($event: MouseEvent): void {\r\n    $event.target['contextSelectionStart'] = $event.target['selectionStart'];\r\n    $event.target['contextSelectionEnd'] = $event.target['selectionEnd'];\r\n\r\n    console.warn($event.target);\r\n    console.warn($event.target['disabled']);\r\n\r\n\r\n    if ($event.target && ($event.target['nodeName'].toUpperCase() === 'TEXTAREA' || $event.target['nodeName'].toUpperCase() === 'INPUT') && !$event.target['readOnly']) {\r\n      this.contextMenuService.show.next({\r\n        contextMenu: this.pasteSelectContextMenu,\r\n        event: $event,\r\n        item: $event.target,\r\n      });\r\n      $event.preventDefault();\r\n      $event.stopPropagation();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"card-token\">\r\n\t<div class=\"card-token-logo mr-1\">\r\n\t\t<img alt=\"#\" defaultImgAlt=\"currency\" defaultImgSrc=\"assets/icons/currency-icons/custom_token.svg\" src=\"#\"\r\n\t\t\t\t zanoDefaultImg>\r\n\t</div>\r\n\t<div class=\"card-token-body\">\r\n\t\t<h4 class=\"title\">Wrapped Ethereum</h4>\r\n\t\t<p class=\"sub-title\">3 WETH</p>\r\n\t</div>\r\n\t<div class=\"card-token-action ml-1\">\r\n\t\t<button #trigger=\"cdkOverlayOrigin\"\r\n\t\t\t\t\t\t(click)=\"$event.stopPropagation(); toggleMenuDropdown()\"\r\n\t\t\t\t\t\t[disabled]=\"false\"\r\n\t\t\t\t\t\tcdkOverlayOrigin\r\n\t\t\t\t\t\tclass=\"btn-icon circle small\"\r\n\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t<i class=\"icon dots rotate-90\"></i>\r\n\t\t</button>\r\n\r\n\t\t<ng-template\r\n\t\t\t(backdropClick)=\"$event.stopPropagation(); (openDropdown = false)\"\r\n\t\t\t[cdkConnectedOverlayBackdropClass]=\"'opacity-0'\"\r\n\t\t\t[cdkConnectedOverlayHasBackdrop]=\"true\"\r\n\t\t\t[cdkConnectedOverlayOpen]=\"openDropdown\"\r\n\t\t\t[cdkConnectedOverlayOrigin]=\"trigger\"\r\n\t\t\t[cdkConnectedOverlayPositions]=\"[{\r\n\t\t\t\toriginX: 'end',\r\n\t\t\t\toriginY: 'top',\r\n\t\t\t\toverlayX: 'end',\r\n\t\t\t\toverlayY: 'top',\r\n\t\t\t\toffsetY: 60\r\n\t\t\t}]\"\r\n\t\t\tcdkConnectedOverlay\r\n\t\t>\r\n\t\t\t<ul (click)=\"openDropdown = false\" class=\"list\">\r\n\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t<button [disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<i class=\"icon temp mr-1\"></i>\r\n\t\t\t\t\t\t<span>{{ 'Link 1' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t<button [disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<i class=\"icon temp mr-1\"></i>\r\n\t\t\t\t\t\t<span>{{ 'Link 2' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t<button [disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<i class=\"icon temp mr-1\"></i>\r\n\t\t\t\t\t\t<span>{{ 'Link 3' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t<button [disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<i class=\"icon delete mr-1\"></i>\r\n\t\t\t\t\t\t<span>{{ 'Remove from list' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</ng-template>\r\n\t</div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-card-token',\r\n  templateUrl: './card-token.component.html',\r\n  styleUrls: ['./card-token.component.scss']\r\n})\r\nexport class CardTokenComponent implements OnInit {\r\n  openDropdown = false;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  toggleMenuDropdown(): void {\r\n    this.openDropdown = !this.openDropdown;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CardTokenComponent } from './card-token.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { TooltipModule } from '../../../_helpers/directives/tooltip/tooltip.module';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { DefaultImgModule } from '../../directives/default-img';\r\n\r\n@NgModule({\r\n  declarations: [CardTokenComponent],\r\n  exports: [CardTokenComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    TooltipModule,\r\n    OverlayModule,\r\n    DefaultImgModule\r\n  ]\r\n})\r\nexport class CardTokenModule {\r\n}\r\n","import { Component, EventEmitter, forwardRef, Input, OnInit, Output } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-checkbox',\r\n  templateUrl: './checkbox.component.html',\r\n  styleUrls: ['./checkbox.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CheckboxComponent),\r\n      multi: true\r\n    },\r\n  ]\r\n})\r\nexport class CheckboxComponent implements OnInit, ControlValueAccessor {\r\n  @Input() value = false;\r\n\r\n  @Input() label = '';\r\n\r\n  @Input() id = 'id-' + Math.random();\r\n\r\n  @Input() disabled = false;\r\n\r\n  @Input() readonly = false;\r\n\r\n  @Output() emitChange = new EventEmitter<boolean>();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  onChange = (_: boolean) => {\r\n  }\r\n\r\n  onTouched = () => {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  handlerChange({ target }: Event) {\r\n    const { checked } = target as HTMLInputElement;\r\n    this.value = checked;\r\n    this.emitChange.emit(checked);\r\n    this.onChange(checked);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  writeValue(value: boolean): void {\r\n    this.value = value;\r\n  }\r\n\r\n}\r\n","<div class=\"checkbox\">\r\n\t<input (change)=\"handlerChange($event)\"\r\n\t\t\t\t [checked]=\"value\"\r\n\t\t\t\t [disabled]=\"disabled\"\r\n\t\t\t\t [id]=\"id\"\r\n\t\t\t\t [readonly]=\"readonly\"\r\n\t\t\t\t type=\"checkbox\">\r\n\t<label [for]=\"id\">{{ label }}</label>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CheckboxComponent } from './checkbox.component';\r\n\r\n@NgModule({\r\n  declarations: [CheckboxComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [CheckboxComponent]\r\n})\r\nexport class CheckboxModule {\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { BackendService } from '../../../_helpers/services/backend.service';\r\nimport { VariablesService } from '../../../_helpers/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-copy-button',\r\n  templateUrl: './copy-button.component.html',\r\n  styleUrls: ['./copy-button.component.scss']\r\n})\r\nexport class CopyButtonComponent {\r\n  @Input() value: string;\r\n\r\n  @Input() size: 'small' | 'big' = 'small';\r\n\r\n  copyAnimation = false;\r\n\r\n  copyAnimationTimeout;\r\n\r\n  constructor(\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService\r\n  ) {\r\n  }\r\n\r\n  copy(): void {\r\n    this.backend.setClipboard(this.value || '');\r\n    this.copyAnimation = true;\r\n    this.copyAnimationTimeout = window.setTimeout(() => {\r\n      this.copyAnimation = false;\r\n      clearTimeout(this.copyAnimationTimeout);\r\n    }, 2000);\r\n  }\r\n}\r\n","<button (click)=\"copy()\"\r\n\t\t\t\t[classList]=\"'btn-icon circle' + ' ' + size\">\r\n\t<i [class.check]=\"copyAnimation\"\r\n\t\t [class.copy]=\"!copyAnimation\"\r\n\t\t class=\"icon small\"></i>\r\n</button>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CopyButtonComponent } from './copy-button.component';\r\n\r\n@NgModule({\r\n  declarations: [CopyButtonComponent],\r\n  exports: [CopyButtonComponent],\r\n  imports: [\r\n    CommonModule\r\n  ]\r\n})\r\nexport class CopyButtonModule {\r\n}\r\n","export * from './switch/switch.module';\r\nexport * from './checkbox/checkbox.module';\r\n","import { AfterContentChecked, AfterContentInit, Component, ElementRef, HostListener, Input, ViewChild } from '@angular/core';\r\n\r\nconst activeClass = 'scroll-item-active';\r\n\r\nconst scrollIntoViewOptions: ScrollIntoViewOptions = { behavior: 'smooth', inline: 'start' };\r\n\r\nenum Direction {\r\n  left = 'left',\r\n  right = 'right'\r\n}\r\n\r\n@Component({\r\n  selector: 'app-scroll-x',\r\n  templateUrl: './scroll-x.component.html',\r\n  styleUrls: ['./scroll-x.component.scss']\r\n})\r\nexport class ScrollXComponent implements AfterContentInit, AfterContentChecked {\r\n  @ViewChild('scrollMenu', { static: true }) scrollMenu: ElementRef;\r\n\r\n  @ViewChild('scrollContent', { static: true }) scrollContent: ElementRef;\r\n\r\n  @Input() scrollToFixDistance = false;\r\n\r\n  @Input() scrollDistance = 300;\r\n\r\n  @Input() hideScroll = false;\r\n\r\n  Direction = Direction;\r\n\r\n  rightDisabled = true;\r\n\r\n  leftDisabled = true;\r\n\r\n  scrollSmooth = true;\r\n\r\n  private scrollByButton = false;\r\n\r\n  private timer;\r\n\r\n  private children: HTMLElement[] = [];\r\n\r\n  private mouseDown = false;\r\n\r\n  private startX: any;\r\n\r\n  private scrollLeft: any;\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(): void {\r\n    this.checkScroll();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.checkScroll();\r\n    this.updateChildren();\r\n    const first = this.children[0];\r\n    if (first) {\r\n      first.classList.add(activeClass);\r\n    }\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    this.checkScroll();\r\n    this.updateChildren();\r\n  }\r\n\r\n  actionScroll(direction: Direction): void {\r\n    if (!this.scrollToFixDistance) {\r\n      this.scrollByButton = true;\r\n      this.getElToScroll(direction).scrollIntoView(scrollIntoViewOptions);\r\n    } else {\r\n      if (direction === Direction.left) {\r\n        this.scrollMenu.nativeElement.scrollLeft -= this.scrollDistance;\r\n      } else {\r\n        this.scrollMenu.nativeElement.scrollLeft += this.scrollDistance;\r\n      }\r\n    }\r\n    this.checkScroll();\r\n  }\r\n\r\n  onScroll(): void {\r\n    this.checkScroll();\r\n    if (this.scrollByButton) {\r\n      clearTimeout(this.timer);\r\n      this.timer = setTimeout(() => this.onScrollStop(), 150);\r\n    } else {\r\n      this.updateActiveClass();\r\n    }\r\n  }\r\n\r\n  onScrollStop(): void {\r\n    this.scrollByButton = false;\r\n  }\r\n\r\n  checkScroll(): void {\r\n    this.scrollMenu.nativeElement.scrollLeft === 0 ? this.leftDisabled = true : this.leftDisabled = false;\r\n\r\n    const newScrollLeft = this.scrollMenu.nativeElement.scrollLeft;\r\n    const width = this.scrollMenu.nativeElement.clientWidth;\r\n    const scrollWidth = this.scrollMenu.nativeElement.scrollWidth;\r\n    scrollWidth - (newScrollLeft + width) < 20 ? this.rightDisabled = true : this.rightDisabled = false;\r\n  }\r\n\r\n  startDragging(e): void {\r\n    this.scrollSmooth = false;\r\n    this.mouseDown = true;\r\n    this.startX = e.pageX - this.scrollMenu.nativeElement.offsetLeft;\r\n    this.scrollLeft = this.scrollMenu.nativeElement.scrollLeft;\r\n  }\r\n\r\n  stopDragging(): void {\r\n    this.scrollSmooth = true;\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  mouseMove(e): void {\r\n    if (!e || !this.mouseDown) {\r\n      return;\r\n    }\r\n    const x = e.pageX - this.scrollMenu.nativeElement.offsetLeft;\r\n    const scroll = x - this.startX;\r\n    this.scrollMenu.nativeElement.scrollLeft = this.scrollLeft - scroll;\r\n  }\r\n\r\n  private updateChildren(): HTMLElement[] {\r\n    this.children = Array.from(this.scrollContent.nativeElement.children);\r\n    return this.children;\r\n  }\r\n\r\n  private updateActiveClass(): void {\r\n    const scrollLeft = this.scrollMenu.nativeElement.scrollLeft;\r\n    const nextActiveIndex = this.children.findIndex(({ offsetLeft, offsetWidth }) => {\r\n      return (offsetLeft >= scrollLeft) && (scrollLeft <= offsetLeft + offsetWidth);\r\n    });\r\n\r\n    if (nextActiveIndex >= 0) {\r\n      const activeItem = this.children.find((el) => el.classList.contains(activeClass));\r\n      if (activeItem) {\r\n        activeItem.classList.remove(activeClass);\r\n      }\r\n      const nextActiveItem = this.children[nextActiveIndex];\r\n      if (nextActiveItem) {\r\n        nextActiveItem.classList.add(activeClass);\r\n      }\r\n    }\r\n  }\r\n\r\n  private getElToScroll(direction: Direction): HTMLElement {\r\n    const minPosition = 0;\r\n    const maxPosition = this.children.length - 1 || minPosition;\r\n    const currentPosition = this.children.findIndex((el) => el.classList.contains(activeClass));\r\n    const calcNewPosition = currentPosition + (direction === Direction.right ? 1 : -1);\r\n    const nextPosition = calcNewPosition >= minPosition && calcNewPosition <= maxPosition ? calcNewPosition : direction === Direction.right ? maxPosition : minPosition;\r\n    this.children[currentPosition].classList.remove(activeClass);\r\n    const nextEl = this.children[nextPosition];\r\n    nextEl.classList.add(activeClass);\r\n    return nextEl;\r\n  }\r\n}\r\n","<div [class.visibility]=\"this.leftDisabled\" class=\"left\">\r\n\t<button (click)=\"$event.stopPropagation(); actionScroll(Direction.left)\" class=\"btn-left\">\r\n\t\t<i class=\"icon arrow-left-slider\"></i>\r\n\t</button>\r\n</div>\r\n<div #scrollMenu\r\n\t\t (mousedown)=\"$event.stopPropagation(); startDragging($event)\"\r\n\t\t (mouseleave)=\"$event.stopPropagation(); stopDragging()\"\r\n\t\t (mousemove)=\"$event.stopPropagation(); mouseMove($event)\"\r\n\t\t (mouseup)=\"$event.stopPropagation(); stopDragging()\"\r\n\t\t (scroll)=\"onScroll()\"\r\n\t\t [class.hide-scroll]=\"hideScroll\"\r\n\t\t [class.smooth]=\"scrollSmooth\"\r\n\t\t class=\"scroll hide-scroll\">\r\n\t<div #scrollContent class=\"scroll-content scroll-delay\">\r\n\t\t<ng-content></ng-content>\r\n\t</div>\r\n</div>\r\n<div [class.visibility]=\"this.rightDisabled\" class=\"right\">\r\n\t<button (click)=\"$event.stopPropagation(); actionScroll(Direction.right)\" class=\"btn-right\">\r\n\t\t<i class=\"icon arrow-right-slider\"></i>\r\n\t</button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ScrollXComponent } from './scroll-x.component';\r\n\r\n@NgModule({\r\n  declarations: [ScrollXComponent],\r\n  exports: [ScrollXComponent],\r\n  imports: [\r\n    CommonModule\r\n  ]\r\n})\r\nexport class ScrollXModule {\r\n}\r\n","import { Component, EventEmitter, forwardRef, Input, Output } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-switch',\r\n  templateUrl: './switch.component.html',\r\n  styleUrls: ['./switch.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => SwitchComponent),\r\n      multi: true\r\n    },\r\n  ]\r\n})\r\nexport class SwitchComponent implements ControlValueAccessor {\r\n  @Input() value = false;\r\n\r\n  @Input() disabled = false;\r\n\r\n  @Output() emitChange = new EventEmitter<boolean>();\r\n\r\n  onChange = (_: boolean) => {\r\n  }\r\n\r\n  onTouched = () => {\r\n  }\r\n\r\n  toggle(): void {\r\n    if (!this.disabled) {\r\n      this.value = !this.value;\r\n      this.emitChange.emit(this.value);\r\n      this.onChange(this.value);\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  writeValue(value: boolean): void {\r\n    this.value = value;\r\n  }\r\n}\r\n","<div (click)=\"toggle(); $event.stopPropagation()\"\r\n\t\t [class.disabled]=\"disabled\"\r\n\t\t [class.off]=\"!value\"\r\n\t\t [class.on]=\"value\"\r\n\t\t class=\"switch\">\r\n\t<span class=\"circle\"></span>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SwitchComponent } from './switch.component';\r\n\r\n@NgModule({\r\n  declarations: [SwitchComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [SwitchComponent]\r\n})\r\nexport class SwitchModule {\r\n}\r\n","export const MIXIN = 10; // default mixin value\r\nexport const RCV_ADDR_QR_SCALE = 1.5;  // scale factor for QR code\r\n\r\nexport const AUDITABLE_WALLET_HELP_PAGE = 'docs.zano.org/docs/auditable-wallets';\r\nexport const CREATE_NEW_WALLET_HELP_PAGE = 'docs.zano.org/docs/getting-started-1#section-create-new-wallet';\r\nexport const LOCKED_BALANCE_HELP_PAGE = 'docs.zano.org/docs/locked-balance';\r\nexport const DOWNLOADS_PAGE_URL = 'zano.org/downloads.html';\r\n\r\nexport const BLOCK_EXPLORER_TX_URL_PREFIX = 'explorer.zano.org/transaction/';\r\nexport const BLOCK_EXPLORER_TN_TX_URL_PREFIX = 'testnet-explorer.zano.org/transaction/';\r\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[zanoDefaultImg]',\r\n})\r\nexport class DefaultImgDirective {\r\n  @Input() defaultImgSrc!: string | null | undefined;\r\n  @Input() defaultImgAlt: string | null | undefined;\r\n\r\n  constructor(private elementRef: ElementRef) {\r\n  }\r\n\r\n  @HostListener('error')\r\n  handlerOnError(): void {\r\n    const elementImg: HTMLImageElement = <HTMLImageElement>(\r\n      this.elementRef.nativeElement\r\n    );\r\n    elementImg.onerror = null;\r\n    elementImg.src = this.defaultImgSrc || '---';\r\n    elementImg.alt = this.defaultImgAlt || '---';\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DefaultImgDirective } from './default-img.directive';\r\n\r\n@NgModule({\r\n  declarations: [DefaultImgDirective],\r\n  exports: [DefaultImgDirective],\r\n  imports: [CommonModule],\r\n})\r\nexport class DefaultImgModule {\r\n}\r\n","export * from './default-img.module';\r\n","import { Directive, OnDestroy, TemplateRef, ViewContainerRef } from '@angular/core';\r\nimport { VariablesService } from '../../../_helpers/services/variables.service';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[appDisablePriceFetch]'\r\n})\r\nexport class DisablePriceFetchDirective implements OnDestroy {\r\n\r\n  private destroy$: Subject<void> = new Subject<void>();\r\n\r\n  constructor(\r\n    private _variablesService: VariablesService,\r\n    private _templateRef: TemplateRef<any>,\r\n    private _viewContainer: ViewContainerRef\r\n  ) {\r\n    this._variablesService.disable_price_fetch$\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe((disable_price_fetch: boolean) => {\r\n        return !disable_price_fetch ? this._viewContainer.createEmbeddedView(this._templateRef) : this._viewContainer.clear();\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DisablePriceFetchDirective } from './disable-price-fetch.directive';\r\n\r\n@NgModule({\r\n  declarations: [DisablePriceFetchDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [DisablePriceFetchDirective]\r\n})\r\nexport class DisablePriceFetchModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IsAvailableAliasNamePipe } from './is-available-alias-name.pipe';\r\n\r\n@NgModule({\r\n  declarations: [IsAvailableAliasNamePipe],\r\n  exports: [\r\n    IsAvailableAliasNamePipe\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ]\r\n})\r\nexport class IsAvailableAliasNamePipeModule {\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Alias } from '../../../_helpers/models/wallet.model';\r\n\r\n@Pipe({\r\n  name: 'isAvailableAliasName'\r\n})\r\nexport class IsAvailableAliasNamePipe implements PipeTransform {\r\n\r\n  transform(alias: Partial<Alias> | null | undefined): boolean {\r\n    return Boolean(alias) && Boolean(alias.name) && alias.name.length >= 2 && alias.name.length <= 6 || false;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ShortStringPipe } from './short-string.pipe';\r\n\r\n@NgModule({\r\n  declarations: [ShortStringPipe],\r\n  exports: [ShortStringPipe],\r\n  imports: [\r\n    CommonModule\r\n  ]\r\n})\r\nexport class ShortStringPipeModule {\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'zanoShortString'\r\n})\r\nexport class ShortStringPipe implements PipeTransform {\r\n  transform(value: string | null | undefined, left: number = 6, right: number = 6): string | null | undefined {\r\n    return value && `${ value.slice(0, left) }...${ value.slice(-right) }`;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CheckboxModule, SwitchModule } from './components';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SwitchModule,\r\n    CheckboxModule\r\n  ],\r\n  exports: [\r\n    SwitchModule,\r\n    CheckboxModule\r\n  ]\r\n})\r\nexport class SharedModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Location } from '@angular/common';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-add-contacts',\r\n  templateUrl: './add-contacts.component.html',\r\n  styleUrls: ['./add-contacts.component.scss']\r\n})\r\nexport class AddContactsComponent implements OnInit, OnDestroy {\r\n  id: number;\r\n\r\n  queryRouting;\r\n\r\n  isModalDialogVisible;\r\n\r\n  addContactForm = new FormGroup({\r\n    address: new FormControl('', [\r\n      Validators.required,\r\n      (g: FormControl) => {\r\n        if (g.value) {\r\n          this.backend.validateAddress(g.value, valid_status => {\r\n            this.ngZone.run(() => {\r\n              if (valid_status === false) {\r\n                g.setErrors(\r\n                  Object.assign({ address_not_valid: true }, g.errors)\r\n                );\r\n              } else {\r\n                if (g.hasError('address_not_valid')) {\r\n                  delete g.errors['address_not_valid'];\r\n                  if (Object.keys(g.errors).length === 0) {\r\n                    g.setErrors(null);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n          return g.hasError('address_not_valid')\r\n            ? { address_not_valid: true }\r\n            : null;\r\n        }\r\n        return null;\r\n      },\r\n      (g: FormControl) => {\r\n        const isDublicated = this.variablesService.contacts.findIndex(\r\n          contact => contact.address === g.value\r\n        );\r\n        if (isDublicated !== -1 && !(this.id === isDublicated)) {\r\n          return { dublicated: true };\r\n        }\r\n        return null;\r\n      }\r\n    ]),\r\n    notes: new FormControl('', [\r\n      (g: FormControl) => {\r\n        if (g.value) {\r\n          if (g.value.length > this.variablesService.maxCommentLength) {\r\n            return { maxLength: true };\r\n          } else {\r\n            return null;\r\n          }\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    ]),\r\n    name: new FormControl('', [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(25),\r\n      (g: FormControl) => {\r\n        if (g.value) {\r\n          const isDublicated = this.variablesService.contacts.findIndex(\r\n            contact => contact.name === g.value.trim()\r\n          );\r\n          if (isDublicated !== -1 && !(this.id === isDublicated)) {\r\n            return { dublicated: true };\r\n          }\r\n          return null;\r\n        }\r\n      }\r\n    ])\r\n  });\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private location: Location\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.id) {\r\n        this.id = parseInt(params.id, 10);\r\n        this.addContactForm.reset({\r\n          name: this.variablesService.contacts[params.id]['name'],\r\n          address: this.variablesService.contacts[params.id]['address'],\r\n          notes: this.variablesService.contacts[params.id]['notes']\r\n        });\r\n      } else {\r\n        this.addContactForm.reset({\r\n          name: this.variablesService.newContact['name'],\r\n          address: this.variablesService.newContact['address'],\r\n          notes: this.variablesService.newContact['notes']\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (!(this.id || this.id === 0)) {\r\n      this.variablesService.newContact = {\r\n        name: this.addContactForm.get('name').value,\r\n        address: this.addContactForm.get('address').value,\r\n        notes: this.addContactForm.get('notes').value\r\n      };\r\n    }\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  add(): void {\r\n    if (!this.variablesService.appPass) {\r\n      this.modalService.prepareModal(\r\n        'error',\r\n        'CONTACTS.FORM_ERRORS.SET_MASTER_PASSWORD'\r\n      );\r\n    } else {\r\n      if (this.addContactForm.valid) {\r\n        this.backend.validateAddress(\r\n          this.addContactForm.get('address').value,\r\n          valid_status => {\r\n            if (valid_status === false) {\r\n              this.ngZone.run(() => {\r\n                this.addContactForm\r\n                  .get('address')\r\n                  .setErrors({ address_not_valid: true });\r\n              });\r\n            } else {\r\n              if (this.id || this.id === 0) {\r\n                this.variablesService.contacts.forEach((contact, index) => {\r\n                  if (index === this.id) {\r\n                    contact.name = this.addContactForm.get('name').value.trim();\r\n                    contact.address = this.addContactForm.get('address').value;\r\n                    contact.notes =\r\n                      this.addContactForm.get('notes').value || '';\r\n                  }\r\n                });\r\n                this.backend.storeSecureAppData();\r\n                this.backend.getContactAlias();\r\n                this.modalService.prepareModal(\r\n                  'success',\r\n                  'CONTACTS.SUCCESS_SAVE'\r\n                );\r\n              } else {\r\n                this.variablesService.contacts.push({\r\n                  name: this.addContactForm.get('name').value.trim(),\r\n                  address: this.addContactForm.get('address').value,\r\n                  notes: this.addContactForm.get('notes').value || ''\r\n                });\r\n                this.backend.storeSecureAppData();\r\n                this.backend.getContactAlias();\r\n                this.modalService.prepareModal(\r\n                  'success',\r\n                  'CONTACTS.SUCCESS_SENT'\r\n                );\r\n                this.variablesService.newContact = {\r\n                  name: null,\r\n                  address: null,\r\n                  notes: null\r\n                };\r\n                this.addContactForm.reset();\r\n              }\r\n            }\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  confirmed(): void {\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'CONTACTS.ADD_CONTACT' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/contacts']\">{{'CONTACTS.TITLE' | translate}}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'CONTACTS.ADD_CONTACT' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form (ngSubmit)=\"add()\"\r\n\t\t\t\t\t\t[formGroup]=\"addContactForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t<div class=\"form__field form__field-name\">\r\n\t\t\t\t\t<label for=\"add-name\">{{ 'CONTACTS.FORM.NAME' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t id=\"add-name\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"addContactForm.controls['name'].invalid && (addContactForm.controls['name'].dirty || addContactForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t*ngIf=\"addContactForm.controls['name'].errors['minlength'] || addContactForm.controls['name'].errors['maxlength']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.NAME_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['name'].errors['dublicated']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.NAME_DUBLICATED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field form__field-dropdown\">\r\n\t\t\t\t\t<label for=\"address\">{{ 'CONTACTS.FORM.ADDRESS' | translate }}</label>\r\n\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.ADRESS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"address\"\r\n\t\t\t\t\t\t\t\t id=\"address\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\r\n\t\t\t\t\t<div *ngIf=\"addContactForm.controls['address'].invalid && (addContactForm.controls['address'].dirty || addContactForm.controls['address'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['address'].errors['address_not_valid']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.ADDRESS_NOT_VALID' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['address'].errors['dublicated']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.ADDRESS_DUBLICATED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['address'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.ADDRESS_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field form__field-notes\">\r\n\t\t\t\t\t<label for=\"notes\">{{ 'CONTACTS.FORM.NOTES' | translate }}</label>\r\n\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"notes\"\r\n\t\t\t\t\t\t\t\t id=\"notes\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.NOTES_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"addContactForm.controls['notes'].invalid\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['notes'].errors['maxLength']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button [disabled]=\"!addContactForm.valid\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\">{{ 'CONTACTS.BUTTON.ADD_EDIT' | translate }}</button>\r\n\r\n\t\t\t\t<app-send-modal (confirmed)=\"confirmed()\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t*ngIf=\"isModalDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t[form]=\"addContactForm\">\r\n\t\t\t\t</app-send-modal>\r\n\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CREATE_NEW_WALLET_HELP_PAGE } from '../_shared/constants';\r\n\r\n@Component({\r\n  selector: 'app-add-wallet',\r\n  templateUrl: './add-wallet.component.html',\r\n  styleUrls: ['./add-wallet.component.scss']\r\n})\r\nexport class AddWalletComponent implements OnInit {\r\n  prevUrl = '';\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private location: Location,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.route.snapshot.queryParams && this.route.snapshot.queryParams.prevUrl) {\r\n      this.prevUrl = this.route.snapshot.queryParams.prevUrl;\r\n    }\r\n  }\r\n\r\n  openWallet(): void {\r\n    this.backend.openFileDialog(\r\n      this.translate.instant('MAIN.CHOOSE_PATH'),\r\n      '*', this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (file_status) {\r\n          this.variablesService.settings.default_path = file_data.path.substr(0, file_data.path.lastIndexOf('/'));\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/open'], { queryParams: { path: file_data.path } });\r\n          });\r\n        } else {\r\n          console.log(file_data['error_code']);\r\n        }\r\n      });\r\n  }\r\n\r\n  openInBrowser(): void {\r\n    this.backend.openUrlInBrowser(CREATE_NEW_WALLET_HELP_PAGE);\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"scrolled-content\" fxFlex=\"1 1 auto\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n\t\t\t<div class=\"add-wallet w-100\"\r\n\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t<div class=\"wrap-controls text-align-center max-w-38-rem\">\r\n\t\t\t\t\t<h4 class=\"mb-2\">{{ 'MAIN.TITLE' | translate }}</h4>\r\n\r\n\t\t\t\t\t<button [routerLink]=\"['/create']\"\r\n\t\t\t\t\t\t\t\t\tclass=\"primary big w-100 mb-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t{{ 'MAIN.BUTTON_NEW_WALLET' | translate}}\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<button (click)=\"openWallet()\"\r\n\t\t\t\t\t\t\t\t\tclass=\"primary big w-100 mb-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'MAIN.BUTTON_OPEN_WALLET' | translate\r\n\t\t\t\t\t\t}}</button>\r\n\r\n\t\t\t\t\t<button [routerLink]=\"['/restore']\"\r\n\t\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'MAIN.BUTTON_RESTORE_BACKUP' |\r\n\t\t\t\t\t\ttranslate\r\n\t\t\t\t\t\t}}</button>\r\n\r\n\t\t\t\t\t<p (click)=\"openInBrowser()\"\r\n\t\t\t\t\t\t class=\"text-align-center cursor-pointer\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t<i class=\"icon question-circle mr-1\"></i>\r\n\t\t\t\t\t\t<span class=\"color-primary\">{{ 'MAIN.HELP' | translate }}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AddWalletComponent } from './add-wallet/add-wallet.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { WalletComponent } from './wallet/wallet.component';\r\nimport { SendComponent } from './send/send.component';\r\nimport { ReceiveComponent } from './receive/receive.component';\r\nimport { HistoryComponent } from './history/history.component';\r\nimport { ContractsComponent } from './contracts/contracts.component';\r\nimport { PurchaseComponent } from './purchase/purchase.component';\r\nimport { StakingComponent } from './staking/staking.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { CreateWalletComponent } from './create-wallet/create-wallet.component';\r\nimport { OpenWalletComponent } from './open-wallet/open-wallet.component';\r\nimport { RestoreWalletComponent } from './restore-wallet/restore-wallet.component';\r\nimport { SeedPhraseComponent } from './seed-phrase/seed-phrase.component';\r\nimport { WalletDetailsComponent } from './wallet-details/wallet-details.component';\r\nimport { AssignAliasComponent } from './assign-alias/assign-alias.component';\r\nimport { EditAliasComponent } from './edit-alias/edit-alias.component';\r\nimport { TransferAliasComponent } from './transfer-alias/transfer-alias.component';\r\nimport { ContactsComponent } from './contacts/contacts.component';\r\nimport { AddContactsComponent } from './add-contacts/add-contacts.component';\r\nimport { ContactSendComponent } from './contact-send/contact-send.component';\r\nimport { ExportImportComponent } from './export-import/export-import.component';\r\nimport { DeeplinkComponent } from './deeplink/deeplink.component';\r\nimport { ContractsTabComponent } from './contracts/contracts-tab/contracts-tab.component';\r\nimport { paths, pathsChildrenContracts, pathsChildrenWallet } from './paths';\r\nimport { FullLayoutComponent } from './layouts/full-layout/full-layout.component';\r\nimport { WithSidebarLayoutComponent } from './layouts/with-sidebar-layout/with-sidebar-layout.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: paths.auth,\r\n    component: FullLayoutComponent,\r\n    loadChildren: () => import('./pages/auth/auth.module').then(m => m.AuthModule)\r\n  },\r\n  {\r\n    path: paths.addWallet,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '', component: AddWalletComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.login,\r\n    component: FullLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '', component: LoginComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.wallet,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: WalletComponent,\r\n        children: [\r\n          {\r\n            path: pathsChildrenWallet.send,\r\n            component: SendComponent\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.receive,\r\n            component: ReceiveComponent\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.history,\r\n            component: HistoryComponent\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.contracts,\r\n            component: ContractsTabComponent,\r\n            children: [\r\n              {\r\n                path: '',\r\n                component: ContractsComponent,\r\n              },\r\n              {\r\n                path: pathsChildrenContracts.purchase,\r\n                component: PurchaseComponent\r\n              },\r\n              {\r\n                path: `${ pathsChildrenContracts.purchase }/:id`,\r\n                component: PurchaseComponent\r\n              },\r\n              {\r\n                path: '**', redirectTo: '',\r\n              },\r\n            ]\r\n          },\r\n\r\n          {\r\n            path: pathsChildrenWallet.staking,\r\n            component: StakingComponent\r\n          },\r\n          {\r\n            path: '',\r\n            redirectTo: pathsChildrenWallet.history,\r\n            pathMatch: 'full'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n  },\r\n  {\r\n    path: paths.create,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: CreateWalletComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.open,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: OpenWalletComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.restore,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: RestoreWalletComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.seedPhrase,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: SeedPhraseComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.details,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: WalletDetailsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.assignAlias,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: AssignAliasComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.editAlias,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: EditAliasComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.transferAlias,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: TransferAliasComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.settings,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: SettingsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.contacts,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ContactsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.addContacts,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: AddContactsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: `${ paths.editContacts }/:id`,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: AddContactsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: `${ paths.contactSend }/:id`,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ContactSendComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.import,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ExportImportComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.deeplink,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: DeeplinkComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.uiKit,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        loadChildren: () => import('./pages/ui-kit/ui-kit.module').then(m => m.UiKitModule)\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: paths.addWallet,\r\n    pathMatch: 'full'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule]\r\n})\r\n\r\n\r\nexport class AppRoutingModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BackendService } from './_helpers/services/backend.service';\r\nimport { Router } from '@angular/router';\r\nimport { VariablesService } from './_helpers/services/variables.service';\r\nimport { ContextMenuComponent } from 'ngx-contextmenu';\r\nimport { IntToMoneyPipe } from './_helpers/pipes/int-to-money.pipe';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { ModalService } from './_helpers/services/modal.service';\r\nimport { Store } from 'store';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { paths, pathsChildrenAuth } from './paths';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n  intervalUpdatePriceState;\r\n\r\n  intervalUpdateContractsState;\r\n\r\n  expMedTsEvent;\r\n\r\n  onQuitRequest = false;\r\n\r\n  firstOnlineState = false;\r\n\r\n  translateUsed = false;\r\n\r\n  needOpenWallets = [];\r\n\r\n  @ViewChild('allContextMenu', { static: true }) public allContextMenu: ContextMenuComponent;\r\n\r\n  @ViewChild('onlyCopyContextMenu', { static: true }) public onlyCopyContextMenu: ContextMenuComponent;\r\n\r\n  @ViewChild('pasteSelectContextMenu', { static: true }) public pasteSelectContextMenu: ContextMenuComponent;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    public translate: TranslateService,\r\n    private http: HttpClient,\r\n    private renderer: Renderer2,\r\n    private backend: BackendService,\r\n    private router: Router,\r\n    private ngZone: NgZone,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private modalService: ModalService,\r\n    private store: Store\r\n  ) {\r\n    translate.addLangs(['en', 'fr', 'de', 'it', 'pt']);\r\n    translate.setDefaultLang('en');\r\n    // const browserLang = translate.getBrowserLang();\r\n    // translate.use(browserLang.match(/en|fr/) ? browserLang : 'en');\r\n    translate.use('en').subscribe(() => {\r\n      this.translateUsed = true;\r\n    });\r\n  }\r\n\r\n  setBackendLocalization() {\r\n    if (this.translateUsed) {\r\n      const stringsArray = [\r\n        this.translate.instant('BACKEND_LOCALIZATION.QUIT'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.IS_RECEIVED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.IS_CONFIRMED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.INCOME_TRANSFER_UNCONFIRMED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.INCOME_TRANSFER_CONFIRMED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.MINED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.LOCKED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.IS_MINIMIZE'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.RESTORE'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.TRAY_MENU_SHOW'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.TRAY_MENU_MINIMIZE')\r\n      ];\r\n      this.backend.setBackendLocalization(stringsArray, this.variablesService.settings.language);\r\n    } else {\r\n      console.warn('wait translate use');\r\n      setTimeout(() => {\r\n        this.setBackendLocalization();\r\n      }, 10000);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.variablesService.allContextMenu = this.allContextMenu;\r\n    this.variablesService.onlyCopyContextMenu = this.onlyCopyContextMenu;\r\n    this.variablesService.pasteSelectContextMenu = this.pasteSelectContextMenu;\r\n\r\n    this.backend.initService().subscribe(initMessage => {\r\n      console.log('Init message: ', initMessage);\r\n      this.backend.getOptions();\r\n      this.backend.webkitLaunchedScript();\r\n\r\n      this.backend.start_backend(false, '127.0.0.1', 11512, (st2, dd2) => {\r\n        console.log(st2, dd2);\r\n      });\r\n\r\n      this.backend.eventSubscribe('quit_requested', () => {\r\n        if (!this.onQuitRequest) {\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/']);\r\n          });\r\n          this.needOpenWallets = [];\r\n          this.variablesService.daemon_state = 5;\r\n          const saveFunction = () => {\r\n            this.backend.storeAppData(() => {\r\n              const recursionCloseWallets = () => {\r\n                if (this.variablesService.wallets.length) {\r\n                  const lastIndex = this.variablesService.wallets.length - 1;\r\n                  this.backend.closeWallet(this.variablesService.wallets[lastIndex].wallet_id, () => {\r\n                    this.variablesService.wallets.splice(lastIndex, 1);\r\n                    recursionCloseWallets();\r\n                  });\r\n                } else {\r\n                  this.backend.quitRequest();\r\n                }\r\n              };\r\n              recursionCloseWallets();\r\n            });\r\n          };\r\n          if (this.variablesService.appPass) {\r\n            this.backend.storeSecureAppData(() => {\r\n              saveFunction();\r\n            });\r\n          } else {\r\n            saveFunction();\r\n          }\r\n        }\r\n        this.onQuitRequest = true;\r\n      });\r\n\r\n      this.backend.eventSubscribe('update_wallet_status', (data) => {\r\n        console.log('----------------- update_wallet_status -----------------');\r\n        console.log(data);\r\n\r\n        const wallet_state = data.wallet_state;\r\n        const is_mining = data.is_mining;\r\n        const wallet = this.variablesService.getWallet(data.wallet_id);\r\n        // 1-synch, 2-ready, 3 - error\r\n        if (wallet) {\r\n          this.ngZone.run(() => {\r\n            wallet.loaded = false;\r\n            wallet.staking = is_mining;\r\n            if (wallet_state === 2) { // ready\r\n              wallet.loaded = true;\r\n            }\r\n            if (wallet_state === 3) { // error\r\n              // wallet.error = true;\r\n            }\r\n            wallet.balance = data.balance;\r\n            wallet.unlocked_balance = data.unlocked_balance;\r\n            wallet.mined_total = data.minied_total;\r\n            wallet.alias_available = data.is_alias_operations_available;\r\n          });\r\n        }\r\n      });\r\n\r\n      this.backend.eventSubscribe('wallet_sync_progress', (data) => {\r\n        console.log('----------------- wallet_sync_progress -----------------');\r\n        console.log(data);\r\n        const wallet = this.variablesService.getWallet(data.wallet_id);\r\n        if (wallet) {\r\n          this.ngZone.run(() => {\r\n            wallet.progress = (data.progress < 0) ? 0 : ((data.progress > 100) ? 100 : data.progress);\r\n            if (!this.variablesService.sync_started) {\r\n              this.variablesService.sync_started = true;\r\n            }\r\n            this.addToStore(wallet, true); // subscribe on data\r\n            if (wallet.progress === 0) {\r\n              wallet.loaded = false;\r\n            } else if (wallet.progress === 100) {\r\n              wallet.loaded = true;\r\n              this.addToStore(wallet, false);\r\n              this.variablesService.sync_started = false;\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      this.backend.eventSubscribe('update_daemon_state', (data) => {\r\n        console.log('----------------- update_daemon_state -----------------');\r\n        console.log('DAEMON:' + data.daemon_network_state);\r\n        console.log(data);\r\n        // this.variablesService.exp_med_ts = data['expiration_median_timestamp'] + 600 + 1;\r\n        this.variablesService.setExpMedTs(data['expiration_median_timestamp'] + 600 + 1);\r\n        this.variablesService.net_time_delta_median = data.net_time_delta_median;\r\n        this.variablesService.last_build_available = data.last_build_available;\r\n        this.variablesService.last_build_displaymode = data.last_build_displaymode;\r\n        this.variablesService.setHeightApp(data.height);\r\n        this.variablesService.setHeightMax(data.max_net_seen_height);\r\n\r\n        this.variablesService.setDownloadedBytes(data.downloaded_bytes);\r\n        this.variablesService.setTotalBytes(data.download_total_data_size);\r\n\r\n        this.backend.getContactAlias();\r\n        this.ngZone.run(() => {\r\n          this.variablesService.daemon_state = data['daemon_network_state'];\r\n          if (data['daemon_network_state'] === 1) {\r\n            const max = data['max_net_seen_height'] - data['synchronization_start_height'];\r\n            const current = data.height - data['synchronization_start_height'];\r\n            const return_val = Math.floor((current * 100 / max) * 100) / 100;\r\n            if (max === 0 || return_val < 0) {\r\n              this.variablesService.sync.progress_value = 0;\r\n              this.variablesService.sync.progress_value_text = '0.00';\r\n            } else if (return_val >= 100) {\r\n              this.variablesService.sync.progress_value = 100;\r\n              this.variablesService.sync.progress_value_text = '99.99';\r\n            } else {\r\n              this.variablesService.sync.progress_value = return_val;\r\n              this.variablesService.sync.progress_value_text = return_val.toFixed(2);\r\n            }\r\n          }\r\n\r\n          if (data['daemon_network_state'] === 6) {\r\n            const max = data['download_total_data_size'];\r\n            const current = data['downloaded_bytes'];\r\n            const return_val = Math.floor((current / max) * 100);\r\n            if (max === 0 || return_val < 0) {\r\n              this.variablesService.download.progress_value = 0;\r\n              this.variablesService.download.progress_value_text = '0.00';\r\n            } else if (return_val >= 100) {\r\n              this.variablesService.download.progress_value = 100;\r\n              this.variablesService.download.progress_value_text = '99.99';\r\n            } else {\r\n              this.variablesService.download.progress_value = return_val;\r\n              this.variablesService.download.progress_value_text = return_val.toFixed(2);\r\n            }\r\n          }\r\n        });\r\n        if (!this.firstOnlineState && data['daemon_network_state'] === 2) {\r\n          this.getAliases();\r\n          this.backend.getContactAlias();\r\n          this.backend.getDefaultFee((status_fee, data_fee) => {\r\n            this.variablesService.default_fee_big = new BigNumber(data_fee);\r\n            this.variablesService.default_fee = this.intToMoneyPipe.transform(data_fee);\r\n          });\r\n          this.firstOnlineState = true;\r\n        }\r\n      });\r\n\r\n      this.backend.eventSubscribe('money_transfer', (data) => {\r\n        console.log('----------------- money_transfer -----------------');\r\n        console.log(data);\r\n\r\n        if (!data.ti) {\r\n          return;\r\n        }\r\n\r\n        const wallet_id = data.wallet_id;\r\n        const tr_info = data.ti;\r\n\r\n        const wallet = this.variablesService.getWallet(wallet_id);\r\n        if (wallet) {\r\n          if (wallet.history.length > 40) {\r\n            wallet.history.splice(40, 1);\r\n          }\r\n          this.ngZone.run(() => {\r\n\r\n            if (!wallet.loaded) {\r\n              wallet.balance = data.balance;\r\n              wallet.unlocked_balance = data.unlocked_balance;\r\n            } else {\r\n              wallet.balance = data.balance;\r\n              wallet.unlocked_balance = data.unlocked_balance;\r\n            }\r\n\r\n            if (tr_info.tx_type === 6) {\r\n              this.variablesService.setRefreshStacking(wallet_id);\r\n            }\r\n\r\n            let tr_exists = wallet.excluded_history.some(elem => elem.tx_hash === tr_info.tx_hash);\r\n            tr_exists = (!tr_exists) ? wallet.history.some(elem => elem.tx_hash === tr_info.tx_hash) : tr_exists;\r\n\r\n            if (wallet.currentPage === 1) {\r\n              wallet.prepareHistory([tr_info]);\r\n              if (wallet.restore) {\r\n                wallet.total_history_item = wallet.history.length;\r\n                wallet.totalPages = Math.ceil(wallet.total_history_item / this.variablesService.count);\r\n                wallet.totalPages > this.variablesService.maxPages\r\n                  ? wallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n                  : wallet.pages = new Array(wallet.totalPages).fill(1).map((value, index) => value + index);\r\n              }\r\n            }\r\n\r\n            if (tr_info.hasOwnProperty('contract')) {\r\n              const exp_med_ts = this.variablesService.exp_med_ts;\r\n              const height_app = this.variablesService.height_app;\r\n              const contract = tr_info.contract[0];\r\n              if (tr_exists) {\r\n                for (let i = 0; i < wallet.contracts.length; i++) {\r\n                  if (wallet.contracts[i].contract_id === contract.contract_id && wallet.contracts[i].is_a === contract.is_a) {\r\n                    wallet.contracts[i].cancel_expiration_time = contract.cancel_expiration_time;\r\n                    wallet.contracts[i].expiration_time = contract.expiration_time;\r\n                    wallet.contracts[i].height = contract.height;\r\n                    wallet.contracts[i].timestamp = contract.timestamp;\r\n                    break;\r\n                  }\r\n                }\r\n                // $rootScope.getContractsRecount();\r\n                return;\r\n              }\r\n\r\n              if (contract.state === 1 && contract.expiration_time < exp_med_ts) {\r\n                contract.state = 110;\r\n              } else if (contract.state === 5 && contract.cancel_expiration_time < exp_med_ts) {\r\n                contract.state = 130;\r\n              } else if (contract.state === 1) {\r\n                const searchResult2 =\r\n                  this.variablesService.settings.notViewedContracts\r\n                    .find(elem => elem.state === 110 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n                if (searchResult2) {\r\n                  if (searchResult2.time === contract.expiration_time) {\r\n                    contract.state = 110;\r\n                  } else {\r\n                    for (let j = 0; j < this.variablesService.settings.notViewedContracts.length; j++) {\r\n                      if (this.variablesService.settings.notViewedContracts[j].contract_id === contract.contract_id &&\r\n                        this.variablesService.settings.notViewedContracts[j].is_a === contract.is_a) {\r\n                        this.variablesService.settings.notViewedContracts.splice(j, 1);\r\n                        break;\r\n                      }\r\n                    }\r\n                    for (let j = 0; j < this.variablesService.settings.viewedContracts.length; j++) {\r\n                      if (this.variablesService.settings.viewedContracts[j].contract_id === contract.contract_id &&\r\n                        this.variablesService.settings.viewedContracts[j].is_a === contract.is_a) {\r\n                        this.variablesService.settings.viewedContracts.splice(j, 1);\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              } else if (contract.state === 2 && (contract.height === 0 || (height_app - contract.height) < 10)) {\r\n                contract.state = 201;\r\n              } else if (contract.state === 2) {\r\n                const searchResult3 =\r\n                  this.variablesService.settings.viewedContracts\r\n                    .some(elem => elem.state === 120 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n                if (searchResult3) {\r\n                  contract.state = 120;\r\n                }\r\n              } else if (contract.state === 5) {\r\n                const searchResult4 =\r\n                  this.variablesService.settings.notViewedContracts\r\n                    .find(elem => elem.state === 130 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n                if (searchResult4) {\r\n                  if (searchResult4.time === contract.cancel_expiration_time) {\r\n                    contract.state = 130;\r\n                  } else {\r\n                    for (let j = 0; j < this.variablesService.settings.notViewedContracts.length; j++) {\r\n                      if (this.variablesService.settings.notViewedContracts[j].contract_id === contract.contract_id &&\r\n                        this.variablesService.settings.notViewedContracts[j].is_a === contract.is_a) {\r\n                        this.variablesService.settings.notViewedContracts.splice(j, 1);\r\n                        break;\r\n                      }\r\n                    }\r\n                    for (let j = 0; j < this.variablesService.settings.viewedContracts.length; j++) {\r\n                      if (this.variablesService.settings.viewedContracts[j].contract_id === contract.contract_id &&\r\n                        this.variablesService.settings.viewedContracts[j].is_a === contract.is_a) {\r\n                        this.variablesService.settings.viewedContracts.splice(j, 1);\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              } else if (contract.state === 6 && (contract.height === 0 || (height_app - contract.height) < 10)) {\r\n                contract.state = 601;\r\n              }\r\n\r\n              const searchResult =\r\n                this.variablesService.settings.viewedContracts\r\n                  .some(elem => elem.state === contract.state && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n              contract.is_new = !searchResult;\r\n\r\n              let findContract = false;\r\n              for (let i = 0; i < wallet.contracts.length; i++) {\r\n                if (wallet.contracts[i].contract_id === contract.contract_id && wallet.contracts[i].is_a === contract.is_a) {\r\n                  for (const prop in contract) {\r\n                    if (contract.hasOwnProperty(prop)) {\r\n                      wallet.contracts[i][prop] = contract[prop];\r\n                    }\r\n                  }\r\n                  findContract = true;\r\n                  break;\r\n                }\r\n              }\r\n              if (findContract === false) {\r\n                wallet.contracts.push(contract);\r\n              }\r\n              wallet.recountNewContracts();\r\n            }\r\n\r\n          });\r\n        }\r\n      });\r\n\r\n      this.backend.backendObject['handle_deeplink_click'].connect((data) => {\r\n        console.log('----------------- handle_deeplink_click -----------------');\r\n        console.log(data);\r\n        this.ngZone.run(() => {\r\n          if (data) {\r\n            this.variablesService.deeplink$.next(data);\r\n          }\r\n        });\r\n      });\r\n\r\n      this.backend.eventSubscribe('money_transfer_cancel', (data) => {\r\n        console.log('----------------- money_transfer_cancel -----------------');\r\n        console.log(data);\r\n\r\n        if (!data.ti) {\r\n          return;\r\n        }\r\n\r\n        const wallet_id = data.wallet_id;\r\n        const tr_info = data.ti;\r\n        const wallet = this.variablesService.getWallet(wallet_id);\r\n\r\n        if (wallet) {\r\n          if (tr_info.hasOwnProperty('contract')) {\r\n            for (let i = 0; i < wallet.contracts.length; i++) {\r\n              if (wallet.contracts[i].contract_id === tr_info.contract[0].contract_id && wallet.contracts[i].is_a === tr_info.contract[0].is_a) {\r\n                if (wallet.contracts[i].state === 1 || wallet.contracts[i].state === 110) {\r\n                  wallet.contracts[i].is_new = true;\r\n                  wallet.contracts[i].state = 140;\r\n                  wallet.recountNewContracts();\r\n                }\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          wallet.removeFromHistory(tr_info.tx_hash);\r\n\r\n          let error_tr = '';\r\n          switch (tr_info.tx_type) {\r\n            case 0:\r\n              error_tr = this.translate.instant('ERRORS.TX_TYPE_NORMAL') + '<br>' +\r\n                tr_info.tx_hash + '<br>' + wallet.name + '<br>' + wallet.address + '<br>' +\r\n                this.translate.instant('ERRORS.TX_TYPE_NORMAL_TO') + ' ' + this.intToMoneyPipe.transform(tr_info.amount) + ' ' +\r\n                this.translate.instant('ERRORS.TX_TYPE_NORMAL_END');\r\n              break;\r\n            case 1:\r\n              // this.translate.instant('ERRORS.TX_TYPE_PUSH_OFFER');\r\n              break;\r\n            case 2:\r\n              // this.translate.instant('ERRORS.TX_TYPE_UPDATE_OFFER');\r\n              break;\r\n            case 3:\r\n              // this.translate.instant('ERRORS.TX_TYPE_CANCEL_OFFER');\r\n              break;\r\n            case 4:\r\n              error_tr = this.translate.instant('ERRORS.TX_TYPE_NEW_ALIAS') + '<br>' +\r\n                tr_info.tx_hash + '<br>' + wallet.name + '<br>' + wallet.address + '<br>' +\r\n                this.translate.instant('ERRORS.TX_TYPE_NEW_ALIAS_END');\r\n              break;\r\n            case 5:\r\n              error_tr = this.translate.instant('ERRORS.TX_TYPE_UPDATE_ALIAS') + '<br>' +\r\n                tr_info.tx_hash + '<br>' + wallet.name + '<br>' + wallet.address + '<br>' +\r\n                this.translate.instant('ERRORS.TX_TYPE_NEW_ALIAS_END');\r\n              break;\r\n            case 6:\r\n              error_tr = this.translate.instant('ERRORS.TX_TYPE_COIN_BASE');\r\n              break;\r\n          }\r\n          if (error_tr) {\r\n            this.modalService.prepareModal('error', error_tr);\r\n          }\r\n        }\r\n      });\r\n\r\n      this.backend.eventSubscribe('on_core_event', (data) => {\r\n        console.log('----------------- on_core_event -----------------');\r\n        console.log(data);\r\n\r\n        data = JSON.parse(data);\r\n\r\n        if (data.events != null) {\r\n          for (let i = 0, length = data.events.length; i < length; i++) {\r\n\r\n            switch (data.events[i].method) {\r\n              case 'CORE_EVENT_BLOCK_ADDED':\r\n                break;\r\n              case 'CORE_EVENT_ADD_ALIAS':\r\n                if (this.variablesService.aliasesChecked[data.events[i].details.address] != null) {\r\n                  this.variablesService.aliasesChecked[data.events[i].details.address]['name'] = '@' + data.events[i].details.alias;\r\n                  this.variablesService.aliasesChecked[data.events[i].details.address]['address'] = data.events[i].details.address;\r\n                  this.variablesService.aliasesChecked[data.events[i].details.address]['comment'] = data.events[i].details.comment;\r\n                }\r\n                if (this.variablesService.enableAliasSearch) {\r\n                  const newAlias = {\r\n                    name: '@' + data.events[i].details.alias,\r\n                    address: data.events[i].details.address,\r\n                    comment: data.events[i].details.comment\r\n                  };\r\n                  this.variablesService.aliases = this.variablesService.aliases.concat(newAlias);\r\n                  this.variablesService.changeAliases();\r\n                }\r\n                break;\r\n              case 'CORE_EVENT_UPDATE_ALIAS':\r\n                for (const address in this.variablesService.aliasesChecked) {\r\n                  if (this.variablesService.aliasesChecked.hasOwnProperty(address)) {\r\n                    if (this.variablesService.aliasesChecked[address].name === '@' + data.events[i].details.alias) {\r\n                      if (this.variablesService.aliasesChecked[address].address !== data.events[i].details.details.address) {\r\n                        delete this.variablesService.aliasesChecked[address]['name'];\r\n                        delete this.variablesService.aliasesChecked[address]['address'];\r\n                        delete this.variablesService.aliasesChecked[address]['comment'];\r\n                      } else {\r\n                        this.variablesService.aliasesChecked[address].comment = data.events[i].details.details.comment;\r\n                      }\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n                if (this.variablesService.aliasesChecked[data.events[i].details.details.address] != null) {\r\n                  this.variablesService.aliasesChecked[data.events[i].details.details.address]['name'] = '@' + data.events[i].details.alias;\r\n                  this.variablesService.aliasesChecked[data.events[i].details.details.address]['address'] = data.events[i].details.details.address;\r\n                  this.variablesService.aliasesChecked[data.events[i].details.details.address]['comment'] = data.events[i].details.details.comment;\r\n                }\r\n                if (this.variablesService.enableAliasSearch) {\r\n                  const CurrentAlias = this.variablesService.aliases.find((element) => element.name === '@' + data.events[i].details.alias);\r\n                  if (CurrentAlias) {\r\n                    CurrentAlias.address = data.events[i].details.details.address;\r\n                    CurrentAlias.comment = data.events[i].details.details.comment;\r\n                  }\r\n                }\r\n                this.variablesService.changeAliases();\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      this.intervalUpdateContractsState = setInterval(() => {\r\n        this.variablesService.wallets.forEach((wallet) => {\r\n          wallet.contracts.forEach((contract) => {\r\n            if (contract.state === 201 && contract.height !== 0 && (this.variablesService.height_app - contract.height) >= 10) {\r\n              contract.state = 2;\r\n              contract.is_new = true;\r\n              console.warn('need check state in contracts');\r\n            } else if (contract.state === 601 && contract.height !== 0 && (this.variablesService.height_app - contract.height) >= 10) {\r\n              contract.state = 6;\r\n              contract.is_new = true;\r\n            }\r\n          });\r\n        });\r\n      }, 30000);\r\n\r\n      this.expMedTsEvent = this.variablesService.getExpMedTsEvent.subscribe((newTimestamp: number) => {\r\n        this.variablesService.wallets.forEach((wallet) => {\r\n          wallet.contracts.forEach((contract) => {\r\n            if (contract.state === 1 && contract.expiration_time <= newTimestamp) {\r\n              contract.state = 110;\r\n              contract.is_new = true;\r\n              wallet.recountNewContracts();\r\n            } else if (contract.state === 5 && contract.cancel_expiration_time <= newTimestamp) {\r\n              contract.state = 130;\r\n              contract.is_new = true;\r\n              wallet.recountNewContracts();\r\n            }\r\n          });\r\n        });\r\n      });\r\n\r\n      this.backend.getAppData((status, data) => {\r\n        if (data && Object.keys(data).length > 0) {\r\n          for (const key in data) {\r\n            if (data.hasOwnProperty(key) && this.variablesService.settings.hasOwnProperty(key)) {\r\n              this.variablesService.settings[key] = data[key];\r\n            }\r\n          }\r\n          if (this.variablesService.settings.hasOwnProperty('scale') && ['8px', '10px', '12px', '14px'].indexOf(this.variablesService.settings.scale) !== -1) {\r\n            this.renderer.setStyle(document.documentElement, 'font-size', this.variablesService.settings.scale);\r\n          } else {\r\n            this.variablesService.settings.scale = '10px';\r\n            this.renderer.setStyle(document.documentElement, 'font-size', this.variablesService.settings.scale);\r\n          }\r\n        }\r\n        this.translate.use(this.variablesService.settings.language);\r\n        this.setBackendLocalization();\r\n\r\n        this.backend.setLogLevel(this.variablesService.settings.appLog);\r\n        this.backend.setEnableTor(this.variablesService.settings.appUseTor);\r\n\r\n        if (!this.variablesService.settings.wallets || !this.variablesService.settings.wallets.length) {\r\n          return this.router.navigate([`${ paths.auth }/${ pathsChildrenAuth.noWallet }`]).then();\r\n        }\r\n\r\n        if (this.router.url !== '/login') {\r\n          this.backend.haveSecureAppData((statusPass) => {\r\n            if (statusPass) {\r\n              this.ngZone.run(() => {\r\n                this.router.navigate(['/login'], { queryParams: { type: 'auth' } });\r\n              });\r\n            } else {\r\n              if (Object.keys(data).length !== 0) {\r\n                this.needOpenWallets = JSON.parse(JSON.stringify(this.variablesService.settings.wallets));\r\n                this.ngZone.run(() => {\r\n                  this.variablesService.appLogin = true;\r\n                  this.router.navigate(['/']);\r\n                });\r\n              } else {\r\n                this.ngZone.run(() => {\r\n                  this.router.navigate(['/login'], { queryParams: { type: 'reg' } });\r\n                });\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      /** Start listening dispatchAsyncCallResult */\r\n      this.backend.dispatchAsyncCallResult();\r\n\r\n      /** Start listening handleCurrentActionState */\r\n      this.backend.handleCurrentActionState();\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.variablesService.disable_price_fetch$.pipe(takeUntil(this.destroy$)).subscribe((disable_price_fetch) => {\r\n      if (!disable_price_fetch) {\r\n        this.getMoneyEquivalent();\r\n        this.intervalUpdatePriceState = setInterval(() => {\r\n          this.getMoneyEquivalent();\r\n        }, 30000);\r\n      } else {\r\n        if (this.intervalUpdatePriceState) {\r\n          clearInterval(this.intervalUpdatePriceState);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    if (this.intervalUpdateContractsState) {\r\n      clearInterval(this.intervalUpdateContractsState);\r\n    }\r\n    if (this.intervalUpdatePriceState) {\r\n      clearInterval(this.intervalUpdatePriceState);\r\n    }\r\n    this.expMedTsEvent.unsubscribe();\r\n  }\r\n\r\n  getMoneyEquivalent(): void {\r\n    this.http.get('https://api.coingecko.com/api/v3/ping').subscribe(\r\n      () => {\r\n        this.http.get('https://api.coingecko.com/api/v3/simple/price?ids=zano&vs_currencies=usd&include_24hr_change=true').subscribe(\r\n          data => {\r\n            this.variablesService.moneyEquivalent = data['zano']['usd'];\r\n            this.variablesService.moneyEquivalentPercent = data['zano']['usd_24h_change'];\r\n          },\r\n          error => {\r\n            console.warn('api.coingecko.com price error: ', error);\r\n          }\r\n        );\r\n      },\r\n      error => {\r\n        console.warn('api.coingecko.com error: ', error);\r\n        setTimeout(() => {\r\n          this.getMoneyEquivalent();\r\n        }, 30000);\r\n      }\r\n    );\r\n  }\r\n\r\n  getAliases(): void {\r\n    this.backend.getAllAliases((status, data, error) => {\r\n\r\n      console.warn(error);\r\n\r\n      if (error === 'CORE_BUSY') {\r\n        window.setTimeout(() => {\r\n          this.getAliases();\r\n        }, 10000);\r\n      } else if (error === 'OVERFLOW') {\r\n        this.variablesService.aliases = [];\r\n        this.variablesService.enableAliasSearch = false;\r\n        this.variablesService.wallets.forEach(wallet => {\r\n          wallet.alias = this.backend.getWalletAlias(wallet.address);\r\n        });\r\n      } else {\r\n        this.variablesService.enableAliasSearch = true;\r\n        if (data.aliases && data.aliases.length) {\r\n          this.variablesService.aliases = [];\r\n          data.aliases.forEach(alias => {\r\n            const newAlias = {\r\n              name: '@' + alias.alias,\r\n              address: alias.address,\r\n              comment: alias.comment\r\n            };\r\n            this.variablesService.aliases.push(newAlias);\r\n          });\r\n          this.variablesService.wallets.forEach(wallet => {\r\n            wallet.alias = this.backend.getWalletAlias(wallet.address);\r\n          });\r\n          this.variablesService.aliases = this.variablesService.aliases.sort((a, b) => {\r\n            if (a.name.length > b.name.length) {\r\n              return 1;\r\n            }\r\n            if (a.name.length < b.name.length) {\r\n              return -1;\r\n            }\r\n            if (a.name > b.name) {\r\n              return 1;\r\n            }\r\n            if (a.name < b.name) {\r\n              return -1;\r\n            }\r\n            return 0;\r\n          });\r\n          this.variablesService.changeAliases();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  contextMenuCopy(target): void {\r\n    if (target && (target['nodeName'].toUpperCase() === 'TEXTAREA' || target['nodeName'].toUpperCase() === 'INPUT')) {\r\n      const start = (target['contextSelectionStart']) ? 'contextSelectionStart' : 'selectionStart';\r\n      const end = (target['contextSelectionEnd']) ? 'contextSelectionEnd' : 'selectionEnd';\r\n      const canUseSelection = ((target[start]) || (target[start] === '0'));\r\n      const SelectedText = (canUseSelection) ? target['value'].substring(target[start], target[end]) : target['value'];\r\n      this.backend.setClipboard(String(SelectedText));\r\n    }\r\n  }\r\n\r\n  contextMenuOnlyCopy(text): void {\r\n    if (text) {\r\n      this.backend.setClipboard(String(text));\r\n    }\r\n  }\r\n\r\n  contextMenuPaste(target): void {\r\n    if (target && (target['nodeName'].toUpperCase() === 'TEXTAREA' || target['nodeName'].toUpperCase() === 'INPUT')) {\r\n      this.backend.getClipboard((status, clipboard) => {\r\n        clipboard = String(clipboard);\r\n        if (typeof clipboard !== 'string' || clipboard.length) {\r\n          const start = (target['contextSelectionStart']) ? 'contextSelectionStart' : 'selectionStart';\r\n          const end = (target['contextSelectionEnd']) ? 'contextSelectionEnd' : 'selectionEnd';\r\n          const _pre = target['value'].substring(0, target[start]);\r\n          const _aft = target['value'].substring(target[end], target['value'].length);\r\n          let text = _pre + clipboard + _aft;\r\n          const cursorPosition = (_pre + clipboard).length;\r\n          if (target['maxLength'] && parseInt(target['maxLength'], 10) > 0) {\r\n            text = text.substr(0, parseInt(target['maxLength'], 10));\r\n          }\r\n          target['value'] = text;\r\n          target.setSelectionRange(cursorPosition, cursorPosition);\r\n          target.dispatchEvent(new Event('input'));\r\n          target['focus']();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  contextMenuSelect(target): void {\r\n    if (target && (target['nodeName'].toUpperCase() === 'TEXTAREA' || target['nodeName'].toUpperCase() === 'INPUT')) {\r\n      target['focus']();\r\n      setTimeout(() => {\r\n        target['select']();\r\n      });\r\n    }\r\n  }\r\n\r\n  addToStore(wallet, boolean): void {\r\n    const value = this.store.value.sync;\r\n    if (value && value.length) {\r\n      const sync = value.filter(item => item.wallet_id === wallet.wallet_id);\r\n      if (sync && sync.length) {\r\n        const result = value.map(item => {\r\n          if (item.wallet_id === wallet.wallet_id) {\r\n            return { sync: boolean, wallet_id: wallet.wallet_id };\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        this.store.set('sync', result);\r\n      } else {\r\n        value.push({ sync: boolean, wallet_id: wallet.wallet_id });\r\n        this.store.set('sync', value);\r\n      }\r\n    } else {\r\n      this.store.set('sync', [{ sync: boolean, wallet_id: wallet.wallet_id }]);\r\n    }\r\n  }\r\n}\r\n","<router-outlet *ngIf=\"[0, 1, 2, 6].indexOf(variablesService.daemon_state) !== -1\"></router-outlet>\r\n\r\n<div *ngIf=\"[3, 4, 5].indexOf(variablesService.daemon_state) !== -1\"\r\n\t\t class=\"preloader\">\r\n\t<p *ngIf=\"variablesService.daemon_state === 3\"\r\n\t\t class=\"mb-2\">{{ 'SIDEBAR.SYNCHRONIZATION.LOADING' | translate }}</p>\r\n\t<p *ngIf=\"variablesService.daemon_state === 4\"\r\n\t\t class=\"mb-2\">{{ 'SIDEBAR.SYNCHRONIZATION.ERROR' | translate }}</p>\r\n\t<p *ngIf=\"variablesService.daemon_state === 5\"\r\n\t\t class=\"mb-2\">{{ 'SIDEBAR.SYNCHRONIZATION.COMPLETE' | translate }}</p>\r\n\t<div class=\"loading-bar\"></div>\r\n</div>\r\n\r\n\r\n<context-menu #allContextMenu>\r\n\t<ng-template (execute)=\"contextMenuCopy($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.COPY' | translate }}</ng-template>\r\n\t<ng-template (execute)=\"contextMenuPaste($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.PASTE' | translate }}</ng-template>\r\n\t<ng-template (execute)=\"contextMenuSelect($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.SELECT' | translate }}</ng-template>\r\n</context-menu>\r\n\r\n<context-menu #onlyCopyContextMenu>\r\n\t<ng-template (execute)=\"contextMenuOnlyCopy($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.COPY' | translate }}</ng-template>\r\n</context-menu>\r\n\r\n<context-menu #pasteSelectContextMenu>\r\n\t<ng-template (execute)=\"contextMenuPaste($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.PASTE' | translate }}</ng-template>\r\n\t<ng-template (execute)=\"contextMenuSelect($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.SELECT' | translate }}</ng-template>\r\n</context-menu>\r\n\r\n\r\n<app-open-wallet-modal *ngIf=\"needOpenWallets.length\"\r\n\t\t\t\t\t\t\t\t\t\t\t [wallets]=\"needOpenWallets\"></app-open-wallet-modal>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { AddWalletComponent } from './add-wallet/add-wallet.component';\r\nimport { CreateWalletComponent } from './create-wallet/create-wallet.component';\r\nimport { OpenWalletComponent } from './open-wallet/open-wallet.component';\r\nimport { OpenWalletModalComponent } from './open-wallet-modal/open-wallet-modal.component';\r\nimport { RestoreWalletComponent } from './restore-wallet/restore-wallet.component';\r\nimport { SeedPhraseComponent } from './seed-phrase/seed-phrase.component';\r\nimport { WalletDetailsComponent } from './wallet-details/wallet-details.component';\r\nimport { AssignAliasComponent } from './assign-alias/assign-alias.component';\r\nimport { EditAliasComponent } from './edit-alias/edit-alias.component';\r\nimport { TransferAliasComponent } from './transfer-alias/transfer-alias.component';\r\nimport { WalletComponent } from './wallet/wallet.component';\r\nimport { SendComponent } from './send/send.component';\r\nimport { ReceiveComponent } from './receive/receive.component';\r\nimport { HistoryComponent } from './history/history.component';\r\nimport { ContractsComponent } from './contracts/contracts.component';\r\nimport { PurchaseComponent } from './purchase/purchase.component';\r\nimport { StakingComponent } from './staking/staking.component';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { BackendService } from './_helpers/services/backend.service';\r\nimport { ModalService } from './_helpers/services/modal.service';\r\nimport { PaginationStore } from './_helpers/services/pagination.store';\r\nimport { Store } from 'store';\r\nimport { InputValidateDirective } from './_helpers/directives/input-validate/input-validate.directive';\r\nimport { ModalContainerComponent } from './_helpers/modals/modal-container/modal-container.component';\r\nimport { TransactionDetailsComponent } from './_helpers/directives/transaction-details/transaction-details.component';\r\nimport { ContextMenuModule } from 'ngx-contextmenu';\r\nimport { ChartModule, HIGHCHARTS_MODULES } from 'angular-highcharts';\r\nimport * as highcharts from 'highcharts';\r\nimport exporting from 'highcharts/modules/exporting.src';\r\nimport { InputDisableSelectionDirective } from './_helpers/directives/input-disable-selection/input-disable-selection.directive';\r\nimport { SendModalComponent } from './send-modal/send-modal.component';\r\nimport { ContactsComponent } from './contacts/contacts.component';\r\nimport { AddContactsComponent } from './add-contacts/add-contacts.component';\r\nimport { ContactSendComponent } from './contact-send/contact-send.component';\r\nimport { ExportImportComponent } from './export-import/export-import.component';\r\nimport { ExportHistoryModalComponent } from './_helpers/modals/export-history-modal/export-history-modal.component';\r\nimport { ContractsTabComponent } from './contracts/contracts-tab/contracts-tab.component';\r\nimport { SendDetailsModalComponent } from './send-details-modal/send-details-modal.component';\r\nimport { DisablePriceFetchModule } from './_shared/directives/disable-price-fetch/disable-price-fetch.module';\r\nimport { SharedModule } from './_shared/shared.module';\r\nimport { SynchronizationStatusModule } from './synchronization-status/synchronization-status.module';\r\nimport { TooltipModule } from './_helpers/directives/tooltip/tooltip.module';\r\nimport { WithSidebarLayoutModule } from './layouts/with-sidebar-layout/with-sidebar-layout.module';\r\nimport { FullLayoutModule } from './layouts/full-layout/full-layout.module';\r\nimport { PipesModule } from './_helpers/pipes/pipes.module';\r\nimport { ConfirmModalModule } from './_helpers/modals/confirm-modal/confirm-modal.module';\r\nimport { DeeplinkModule } from './deeplink/deeplink.module';\r\nimport { StakingSwitchModule } from './_helpers/directives/staking-switch/staking-switch.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { ScrollXModule } from './_shared/components/scroll-x/scroll-x.module';\r\nimport { CardTokenModule } from './_shared/components/card-token/card-token.module';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { AddCustomTokenModule } from './_helpers/modals/add-custom-token/add-custom-token.module';\r\nimport { ShortStringPipeModule } from './_shared/pipes/short-string-pipe/short-string-pipe.module';\r\nimport { IsAvailableAliasNamePipeModule } from './_shared/pipes/is-available-alias-name-pipe/is-available-alias-name-pipe.module';\r\nimport { CopyButtonModule } from './_shared/components/copy-button/copy-button.module';\r\n\r\nexport function HttpLoaderFactory(httpClient: HttpClient) {\r\n  return new TranslateHttpLoader(httpClient, './assets/i18n/', '.json');\r\n}\r\n\r\nexport function highchartsFactory() {\r\n  highcharts.setOptions({\r\n    time: {\r\n      useUTC: false\r\n    }\r\n  });\r\n\r\n  return [exporting];\r\n}\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        LoginComponent,\r\n        SettingsComponent,\r\n        AddWalletComponent,\r\n        CreateWalletComponent,\r\n        OpenWalletComponent,\r\n        OpenWalletModalComponent,\r\n        RestoreWalletComponent,\r\n        SeedPhraseComponent,\r\n        WalletDetailsComponent,\r\n        AssignAliasComponent,\r\n        EditAliasComponent,\r\n        TransferAliasComponent,\r\n        WalletComponent,\r\n        SendComponent,\r\n        ReceiveComponent,\r\n        HistoryComponent,\r\n        ContractsComponent,\r\n        PurchaseComponent,\r\n        StakingComponent,\r\n        InputValidateDirective,\r\n        ModalContainerComponent,\r\n        TransactionDetailsComponent,\r\n        InputDisableSelectionDirective,\r\n        SendModalComponent,\r\n        ContactsComponent,\r\n        AddContactsComponent,\r\n        ContactSendComponent,\r\n        ExportImportComponent,\r\n        ExportHistoryModalComponent,\r\n        ContractsTabComponent,\r\n        SendDetailsModalComponent,\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        AppRoutingModule,\r\n        HttpClientModule,\r\n        TranslateModule.forRoot({\r\n            loader: {\r\n                provide: TranslateLoader,\r\n                useFactory: HttpLoaderFactory,\r\n                deps: [HttpClient]\r\n            }\r\n        }),\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        NgSelectModule,\r\n        ChartModule,\r\n        FlexLayoutModule,\r\n        DisablePriceFetchModule,\r\n        TooltipModule,\r\n        ConfirmModalModule,\r\n        PipesModule,\r\n        DeeplinkModule,\r\n        StakingSwitchModule,\r\n        FullLayoutModule,\r\n        WithSidebarLayoutModule,\r\n        SynchronizationStatusModule,\r\n        SharedModule,\r\n        ContextMenuModule.forRoot(),\r\n        ScrollXModule,\r\n        CardTokenModule,\r\n        OverlayModule,\r\n        AddCustomTokenModule,\r\n        ShortStringPipeModule,\r\n        IsAvailableAliasNamePipeModule,\r\n        CopyButtonModule\r\n    ],\r\n    providers: [\r\n        Store,\r\n        BackendService,\r\n        ModalService,\r\n        PaginationStore,\r\n        { provide: HIGHCHARTS_MODULES, useFactory: highchartsFactory }\r\n    ],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { MoneyToIntPipe } from '../_helpers/pipes/money-to-int.pipe';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\nimport BigNumber from 'bignumber.js';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-assign-alias',\r\n  templateUrl: './assign-alias.component.html',\r\n  styleUrls: ['./assign-alias.component.scss']\r\n})\r\nexport class AssignAliasComponent implements OnInit, OnDestroy {\r\n  wallet: Wallet;\r\n\r\n  assignForm = new FormGroup({\r\n    name: new FormControl('', [Validators.required, Validators.pattern(/^@?[a-z\\d\\.\\-]{6,25}$/)]),\r\n    comment: new FormControl('', [(g: FormControl) => {\r\n      if (g.value > this.variablesService.maxCommentLength) {\r\n        return { 'maxLength': true };\r\n      } else {\r\n        return null;\r\n      }\r\n    }])\r\n  });\r\n\r\n  assignFormSubscription: Subscription;\r\n\r\n  alias = {\r\n    name: '',\r\n    fee: this.variablesService.default_fee,\r\n    price: new BigNumber(0),\r\n    reward: '0',\r\n    rewardOriginal: '0',\r\n    comment: '',\r\n    exists: false\r\n  };\r\n\r\n  canRegister = false;\r\n\r\n  notEnoughMoney = false;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private ngZone: NgZone,\r\n    private location: Location,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private moneyToInt: MoneyToIntPipe,\r\n    private intToMoney: IntToMoneyPipe\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.wallet = this.variablesService.currentWallet;\r\n    this.assignFormSubscription = this.assignForm.get('name').valueChanges.subscribe(value => {\r\n      this.canRegister = false;\r\n      this.alias.exists = false;\r\n      const newName = value.toLowerCase().replace('@', '');\r\n      if (!(this.assignForm.controls['name'].errors && this.assignForm.controls['name'].errors.hasOwnProperty(\r\n        'pattern')) && newName.length >= 6 && newName.length <= 25) {\r\n        this.backend.getAliasByName(newName, status => {\r\n          this.ngZone.run(() => {\r\n            this.alias.exists = status;\r\n          });\r\n          if (!status) {\r\n            this.alias.price = new BigNumber(0);\r\n            this.backend.getAliasCoast(newName, (statusPrice, dataPrice) => {\r\n              this.ngZone.run(() => {\r\n                if (statusPrice) {\r\n                  this.alias.price = BigNumber.sum(dataPrice['coast'], this.variablesService.default_fee_big);\r\n                }\r\n                this.notEnoughMoney = this.alias.price.isGreaterThan(this.wallet.unlocked_balance);\r\n                this.alias.reward = this.intToMoney.transform(this.alias.price, false);\r\n                this.alias.rewardOriginal = this.intToMoney.transform(dataPrice['coast'], false);\r\n                this.canRegister = !this.notEnoughMoney;\r\n              });\r\n            });\r\n          } else {\r\n            this.notEnoughMoney = false;\r\n            this.alias.reward = '0';\r\n            this.alias.rewardOriginal = '0';\r\n          }\r\n        });\r\n      } else {\r\n        this.notEnoughMoney = false;\r\n        this.alias.reward = '0';\r\n        this.alias.rewardOriginal = '0';\r\n      }\r\n      this.alias.name = newName;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.assignFormSubscription.unsubscribe();\r\n  }\r\n\r\n  assignAlias(): void {\r\n    const alias = this.backend.getWalletAlias(this.wallet.address);\r\n    if (alias.hasOwnProperty('name')) {\r\n      this.modalService.prepareModal('info', 'ASSIGN_ALIAS.ONE_ALIAS');\r\n    } else {\r\n      this.alias.comment = this.assignForm.get('comment').value;\r\n      this.backend.registerAlias(this.wallet.wallet_id, this.alias.name, this.wallet.address, this.alias.fee, this.alias.comment,\r\n        this.alias.rewardOriginal, (status) => {\r\n          if (status) {\r\n            this.wallet.wakeAlias = true;\r\n            this.modalService.prepareModal('info', 'ASSIGN_ALIAS.REQUEST_ADD_REG');\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/wallet/']);\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ASSIGN_ALIAS' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/wallet/history']\">{{ wallet.name }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'BREADCRUMBS.ASSIGN_ALIAS' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form [formGroup]=\"assignForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label [delay]=\"50\"\r\n\t\t\t\t\t\t\t\t for=\"alias-name\"\r\n\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t tooltip=\"{{ 'ASSIGN_ALIAS.NAME.TOOLTIP' | translate }}\"\r\n\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip assign-alias-tooltip\">\r\n\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.NAME.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div class=\"has-no-edit-symbol\">\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'ASSIGN_ALIAS.NAME.PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t\t id=\"alias-name\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"assignForm.controls['name'].invalid &&  (assignForm.controls['name'].dirty || assignForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t*ngIf=\"assignForm.controls['name'].errors['pattern'] && assignForm.get('name').value.length > 6 && assignForm.get('name').value.length <= 25\">\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_WRONG' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"assignForm.get('name').value.length <= 6 || assignForm.get('name').value.length > 25\">\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"assignForm.controls['name'].hasError('required')\">\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"alias.exists\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_EXISTS' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"notEnoughMoney\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NO_MONEY' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field textarea\">\r\n\t\t\t\t\t<label [delay]=\"50\"\r\n\t\t\t\t\t\t\t\t for=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t tooltip=\"{{ 'ASSIGN_ALIAS.COMMENT.TOOLTIP' | translate }}\"\r\n\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip assign-alias-tooltip\">\r\n\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.COMMENT.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t\t[maxLength]=\"variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"scrolled-content\"\r\n\t\t\t\t\t\t\t\t\t\tformControlName=\"comment\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"{{ 'ASSIGN_ALIAS.COMMENT.PLACEHOLDER' | translate }}\">\r\n                    </textarea>\r\n\t\t\t\t\t<div *ngIf=\"assignForm.get('comment').value.length >= variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<p class=\"mb-2\">{{ \"ASSIGN_ALIAS.COST\" | translate : {\r\n\t\t\t\t\tvalue: alias.price | intToMoney, currency:\r\n\t\t\t\t\tvariablesService.defaultCurrency\r\n\t\t\t\t} }}</p>\r\n\r\n\t\t\t\t<button (click)=\"assignAlias()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!assignForm.valid || !canRegister || notEnoughMoney\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'ASSIGN_ALIAS.BUTTON_ASSIGN' | translate\r\n\t\t\t\t\t}}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-contact-send',\r\n  templateUrl: './contact-send.component.html',\r\n  styleUrls: ['./contact-send.component.scss']\r\n})\r\nexport class ContactSendComponent implements OnInit, OnDestroy {\r\n  queryRouting;\r\n\r\n  address;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private location: Location,\r\n    private route: ActivatedRoute,\r\n    private ngZone: NgZone,\r\n    private router: Router,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.address) {\r\n        this.address = params.address;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  goToWallet(id): void {\r\n    this.variablesService.setCurrentWallet(id);\r\n    this.variablesService.currentWallet.send_data['address'] = this.address;\r\n    this.ngZone.run(() => {\r\n      this.router.navigate(['/wallet/send'], { queryParams: { send: true } });\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'CONTACTS.TITLE' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/contacts']\">{{'CONTACTS.TITLE' | translate}}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'CONTACTS.SEND' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form class=\"form\">\r\n\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.SEND_FROM' | translate }}\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<ng-select [(ngModel)]=\"this.variablesService.selectWallet\"\r\n\t\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t [items]=\"this.variablesService.wallets\"\r\n\t\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t bindLabel=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t bindValue=\"wallet_id\"\r\n\t\t\t\t\t\t\t\t\t\t\t class=\"custom-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t name=\"wallets\">\r\n\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button [routerLink]=\"['/add-wallet']\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline w-100 mt-3 p-1\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.OPEN_ADD_WALLET' | translate }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"address\">{{ 'CONTACTS.SEND_TO' | translate }}</label>\r\n\t\t\t\t\t<input [(ngModel)]=\"address\"\r\n\t\t\t\t\t\t\t\t [readonly]=\"true\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t id=\"address\"\r\n\t\t\t\t\t\t\t\t name=\"address\"\r\n\t\t\t\t\t\t\t\t type=\"text\"/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button (click)=\"goToWallet(this.variablesService.selectWallet)\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!(this.variablesService.selectWallet === 0 || this.variablesService.selectWallet)\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t{{'CONTACTS.BUTTON.GO_TO_WALLET' | translate }}\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'CONTACTS.TITLE' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div fxFlex=\"1 1 auto\" fxLayout=\"row\">\r\n\t\t\t<ng-container *ngIf=\"this.variablesService.contacts.length !== 0; else emptyList\">\r\n\t\t\t\t<div class=\"contacts w-100\"\r\n\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"start stretch\"\r\n\t\t\t\t\t\t fxLayoutGap=\"2rem\">\r\n\t\t\t\t\t<div class=\"wrap-table scrolled-content\"\r\n\t\t\t\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t\t\t<table class=\"contacts-table\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr #head\r\n\t\t\t\t\t\t\t\t\t(window:resize)=\"calculateWidth()\">\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">{{ 'CONTACTS.TABLE.NAME' | translate }}</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">{{ 'CONTACTS.TABLE.ALIAS' | translate }}</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">{{ 'CONTACTS.TABLE.ADDRESS' | translate }}</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">{{ 'CONTACTS.TABLE.NOTES' | translate }}</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">&nbsp;</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<ng-container *ngFor=\"let contact of this.variablesService.contacts; let i = index\">\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{{ contact.name }}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"contact.alias\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{{ contact.alias }}</span>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, contact.address)\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"remote-address\">\r\n\t\t\t\t\t\t\t\t\t\t{{ contact.address | slice:0:6 }}...{{ contact.address | slice:-6 }}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td class=\"remote-notes\">\r\n\t\t\t\t\t\t\t\t\t\t{{ contact.notes }}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"button-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button [queryParams]=\"{ address: contact.address }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/contact-send/' + i]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon small circle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon arrow-up-square\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button [queryParams]=\"{ id: i }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/edit-contacts/' + i]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon small circle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon edit-square\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button (click)=\"delete(i)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon small circle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon delete\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ng-container *ngTemplateOutlet=\"tempButtonAdd\"></ng-container>\r\n\t\t\t\t</div>\r\n\t\t\t</ng-container>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<ng-template #emptyList>\r\n\t<div class=\"empty-list w-100\"\r\n\t\t\t fxLayout=\"column\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<h4 class=\"mb-2\">{{ 'CONTACTS.TABLE.EMPTY' | translate }}</h4>\r\n\t\t<ng-container *ngTemplateOutlet=\"tempButtonAdd\"></ng-container>\r\n\t</div>\r\n</ng-template>\r\n\r\n<ng-template #tempButtonAdd>\r\n\t<button [routerLink]=\"['/add-contacts']\"\r\n\t\t\t\t\tclass=\"primary big w-100 max-w-19-rem\">\r\n\t\t{{ 'CONTACTS.BUTTON.ADD' | translate }}\r\n\t</button>\r\n</ng-template>\r\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\n\r\n@Component({\r\n  selector: 'app-contacts',\r\n  templateUrl: './contacts.component.html',\r\n  styleUrls: ['./contacts.component.scss']\r\n})\r\nexport class ContactsComponent implements OnInit {\r\n  @ViewChild('head', { static: true }) head: ElementRef;\r\n\r\n  calculatedWidth = [];\r\n\r\n  constructor(\r\n    private location: Location,\r\n    public variablesService: VariablesService,\r\n    private backend: BackendService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.backend.getContactAlias();\r\n  }\r\n\r\n  delete(index: number): void {\r\n    if (this.variablesService.appPass) {\r\n      this.variablesService.contacts.splice(index, 1);\r\n      this.backend.storeSecureAppData();\r\n    }\r\n  }\r\n\r\n  calculateWidth(): void {\r\n    this.calculatedWidth = [];\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[0].clientWidth\r\n    );\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[1].clientWidth +\r\n      this.head.nativeElement.childNodes[2].clientWidth\r\n    );\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[3].clientWidth\r\n    );\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[4].clientWidth\r\n    );\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-contracts-tab',\r\n  templateUrl: './contracts-tab.component.html',\r\n  styleUrls: ['./contracts-tab.component.scss']\r\n})\r\nexport class ContractsTabComponent {\r\n}\r\n","<router-outlet></router-outlet>\r\n","<div *ngIf=\"variablesService.currentWallet.contracts.length; else emptyContracts\"\r\n\t\t class=\"container\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\">\r\n\t<div class=\"wrap-table scrolled-content mb-2\"\r\n\t\t\t fxFlex=\"1 1 auto\">\r\n\t\t<table class=\"contracts-table\">\r\n\t\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.CONTRACTS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.DATE' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.AMOUNT' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.STATUS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.COMMENTS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t</tr>\r\n\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t<ng-container *ngFor=\"let item of sortedArrayContracts\">\r\n\t\t\t\t<tr [routerLink]=\"'/wallet/contracts/purchase/' + item.contract_id\">\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div class=\"contract\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t\t\t\t\t<i *ngIf=\"!item.is_new\"\r\n\t\t\t\t\t\t\t\t class=\"icon alert mr-1\"></i>\r\n\t\t\t\t\t\t\t<i *ngIf=\"item.is_new\"\r\n\t\t\t\t\t\t\t\t class=\"icon new mr-1\"></i>\r\n\t\t\t\t\t\t\t<i [class.purchase-arrow-down]=\"item.is_a\"\r\n\t\t\t\t\t\t\t\t [class.purchase-arrow-up]=\"!item.is_a\"\r\n\t\t\t\t\t\t\t\t class=\"icon mr-1\"></i>\r\n\t\t\t\t\t\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-left\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ item.private_detailes.t }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip\">{{item.private_detailes.t}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div>{{item.timestamp * 1000 | date : 'dd-MM-yyyy HH:mm'}}</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div>{{item.private_detailes.to_pay | intToMoney}} {{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div [class.color-red]=\"item.state === 4\"\r\n\t\t\t\t\t\t\t\t [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t class=\"status\"\r\n\t\t\t\t\t\t\t\t placement=\"top\"\r\n\t\t\t\t\t\t\t\t tooltip=\"{{item.state | contractStatusMessages : item.is_a}}\"\r\n\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\">\r\n\t\t\t\t\t\t\t{{item.state | contractStatusMessages : item.is_a}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t [showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t\t\t\t class=\"comment\"\r\n\t\t\t\t\t\t\t\t placement=\"top-right\"\r\n\t\t\t\t\t\t\t\t tooltip=\"{{ item.private_detailes.c }}\"\r\n\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\">\r\n\t\t\t\t\t\t\t{{item.private_detailes.c}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t</ng-container>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n\t<div class=\"buttons-wrap w-100\"\r\n\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t<button [routerLink]=\"'/wallet/contracts/purchase'\"\r\n\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t'CONTRACTS.PURCHASE_BUTTON' | translate }}</button>\r\n\t</div>\r\n</div>\r\n\r\n<ng-template #emptyContracts>\r\n\t<div class=\"container\"\r\n\t\t\t fxFlexFill\r\n\t\t\t fxLayout=\"column\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<span class=\"mb-2\">{{ 'CONTRACTS.EMPTY' | translate }}</span>\r\n\t\t<button [routerLink]=\"'/wallet/contracts/purchase'\"\r\n\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t'CONTRACTS.PURCHASE_BUTTON' | translate }}</button>\r\n\t</div>\r\n</ng-template>\r\n","import { Component } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-contracts',\r\n  templateUrl: './contracts.component.html',\r\n  styleUrls: ['./contracts.component.scss']\r\n})\r\nexport class ContractsComponent {\r\n  constructor(\r\n    public variablesService: VariablesService\r\n  ) {\r\n  }\r\n\r\n  get sortedArrayContracts(): any[] {\r\n    return this.variablesService.currentWallet.contracts.sort((a, b) => {\r\n      if (a.is_new < b.is_new) {\r\n        return 1;\r\n      }\r\n      if (a.is_new > b.is_new) {\r\n        return -1;\r\n      }\r\n      if (a.timestamp < b.timestamp) {\r\n        return 1;\r\n      }\r\n      if (a.timestamp > b.timestamp) {\r\n        return -1;\r\n      }\r\n      if (a.contract_id < b.contract_id) {\r\n        return 1;\r\n      }\r\n      if (a.contract_id > b.contract_id) {\r\n        return -1;\r\n      }\r\n      return 0;\r\n    });\r\n  }\r\n}\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Router } from '@angular/router';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-create-wallet',\r\n  templateUrl: './create-wallet.component.html',\r\n  styleUrls: ['./create-wallet.component.scss']\r\n})\r\nexport class CreateWalletComponent {\r\n  createForm = new FormGroup({\r\n    name: new FormControl('', [Validators.required, (g: FormControl) => {\r\n      for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n        if (g.value === this.variablesService.wallets[i].name) {\r\n          return { 'duplicate': true };\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    password: new FormControl('', Validators.pattern(this.variablesService.pattern)),\r\n    confirm: new FormControl('')\r\n  }, function (g: FormGroup) {\r\n    return g.get('password').value === g.get('confirm').value ? null : { 'confirm_mismatch': true };\r\n  });\r\n\r\n  wallet = {\r\n    id: ''\r\n  };\r\n\r\n  walletSaved = false;\r\n\r\n  walletSavedName = '';\r\n\r\n  progressWidth = '9rem';\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService,\r\n    private location: Location,\r\n  ) {\r\n  }\r\n\r\n  createWallet(): void {\r\n    this.ngZone.run(() => {\r\n      this.progressWidth = '100%';\r\n      this.router.navigate(['/seed-phrase'], { queryParams: { wallet_id: this.wallet.id } });\r\n    });\r\n  }\r\n\r\n  saveWallet(): void {\r\n    if (this.createForm.valid && this.createForm.get('name').value.length <= this.variablesService.maxWalletNameLength) {\r\n      this.backend.saveFileDialog(this.translate.instant('CREATE_WALLET.TITLE_SAVE'), '*', this.variablesService.settings.default_path,\r\n        (file_status, file_data) => {\r\n          if (file_status) {\r\n            this.variablesService.settings.default_path = file_data.path.substr(0, file_data.path.lastIndexOf('/'));\r\n            this.walletSavedName = file_data.path.substr(file_data.path.lastIndexOf('/') + 1, file_data.path.length - 1);\r\n            this.backend.generateWallet(file_data.path, this.createForm.get('password').value,\r\n              (generate_status, generate_data, errorCode) => {\r\n                if (generate_status) {\r\n                  this.wallet.id = generate_data.wallet_id;\r\n                  this.variablesService.opening_wallet = new Wallet(\r\n                    generate_data.wallet_id,\r\n                    this.createForm.get('name').value,\r\n                    this.createForm.get('password').value,\r\n                    generate_data['wi'].path,\r\n                    generate_data['wi'].address,\r\n                    generate_data['wi'].balance,\r\n                    generate_data['wi'].unlocked_balance,\r\n                    generate_data['wi'].mined_total,\r\n                    generate_data['wi'].tracking_hey\r\n                  );\r\n                  this.variablesService.opening_wallet.alias = this.backend.getWalletAlias(generate_data['wi'].address);\r\n                  this.variablesService.opening_wallet.total_history_item = 0;\r\n                  this.variablesService.opening_wallet.pages = new Array(1).fill(1);\r\n                  this.variablesService.opening_wallet.totalPages = 1;\r\n                  this.variablesService.opening_wallet.currentPage = 1;\r\n                  this.ngZone.run(() => {\r\n                    this.walletSaved = true;\r\n                    this.progressWidth = '33%';\r\n                  });\r\n                } else {\r\n                  if (errorCode && errorCode === 'ALREADY_EXISTS') {\r\n                    this.modalService.prepareModal('error', 'CREATE_WALLET.ERROR_CANNOT_SAVE_TOP');\r\n                  } else {\r\n                    this.modalService.prepareModal('error', 'CREATE_WALLET.ERROR_CANNOT_SAVE_SYSTEM');\r\n                  }\r\n                }\r\n              });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/add-wallet']\">{{'BREADCRUMBS.ADD_WALLET' | translate }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{'BREADCRUMBS.CREATE_WALLET' | translate}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form [formGroup]=\"createForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-name\">{{'CREATE_WALLET.NAME' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [maxlength]=\"variablesService.maxWalletNameLength + ''\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"createForm.controls['name'].invalid && (createForm.controls['name'].dirty || createForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"createForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t{{ 'CREATE_WALLET.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"createForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'CREATE_WALLET.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"createForm.get('name').value.length >= variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'CREATE_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-password\">{{ 'CREATE_WALLET.PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_NEW' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"createForm.controls['password'].dirty && createForm.controls['password'].errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"createForm.controls['password'].errors.pattern\">\r\n\t\t\t\t\t\t\t{{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"confirm-wallet-password\">{{ 'CREATE_WALLET.CONFIRM' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [class.invalid]=\"createForm.errors && createForm.errors['confirm_mismatch'] && createForm.get('confirm').value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"confirm\"\r\n\t\t\t\t\t\t\t\t id=\"confirm-wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"createForm.controls['confirm'].dirty && createForm.controls['confirm'].dirty && createForm.errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"createForm.errors['confirm_mismatch'] && createForm.get('confirm').value.length > 0\">\r\n\t\t\t\t\t\t\t{{ 'CREATE_WALLET.FORM_ERRORS.CONFIRM_NOT_MATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button *ngIf=\"walletSaved\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\ttype=\"button\"><i class=\"icon check-circle mr-1\"></i>{{walletSavedName}}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<button (click)=\"saveWallet()\"\r\n\t\t\t\t\t\t\t\t*ngIf=\"!walletSaved\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!createForm.valid\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'CREATE_WALLET.BUTTON_SELECT' | translate }}</button>\r\n\r\n\t\t\t\t<button (click)=\"createWallet()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!walletSaved\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t\t\t'CREATE_WALLET.BUTTON_CREATE' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, HostBinding, NgZone, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { DeeplinkParams, PushOffer, Wallet } from '../_helpers/models/wallet.model';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { MIXIN } from '../_shared/constants';\r\nimport { Subject } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-deeplink-modal',\r\n  templateUrl: './deeplink-modal.component.html',\r\n  styleUrls: ['./deeplink-modal.component.scss']\r\n})\r\nexport class DeeplinkModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  secondStep = false;\r\n\r\n  walletToPayId = 0;\r\n\r\n  nextStepInterval;\r\n\r\n  marketplaceModalShow = true;\r\n\r\n  copyAnimation = false;\r\n\r\n  marketplaceConfirmHash: any = null;\r\n\r\n  actionData: DeeplinkParams = {};\r\n\r\n  defaultMixin = MIXIN;\r\n\r\n  walletsToPay: Array<Wallet> = [];\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private _router: Router,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private renderer: Renderer2\r\n  ) {\r\n    this.walletsToPay = this.variablesService.wallets.filter(wallet => !wallet.is_watch_only || !wallet.is_auditable);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n\r\n    this.variablesService.deeplink$\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe((deeplink) => {\r\n        this.actionData = {};\r\n\r\n        if (deeplink) {\r\n          if (!this.walletsToPay.length) {\r\n            this.canselAction();\r\n            return;\r\n          }\r\n          this.actionData = this.parseDeeplink(deeplink);\r\n          if (this.walletsToPay.length === 1) {\r\n            this.walletToPayId = this.walletsToPay[0].wallet_id;\r\n            const { daemon_state, sync_started } = this.variablesService;\r\n\r\n            if (daemon_state === 2 && sync_started === false) {\r\n              this.nextStep();\r\n            } else {\r\n              this.nextStepInterval = setInterval(() => {\r\n                if (daemon_state === 2 && sync_started === false) {\r\n                  this.nextStep();\r\n                  clearInterval(this.nextStepInterval);\r\n                }\r\n              }, 1500);\r\n            }\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.variablesService.deeplink$.next(null);\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  parseDeeplink(deeplink): DeeplinkParams {\r\n    const quotesRex = new RegExp(/'|\"|”|%E2%80%9D|%22/g);\r\n    const spaceSymbolRex = new RegExp(/%20/g);\r\n    const newObj = {};\r\n\r\n    const newString = deeplink.substr(5); // delete zano:;\r\n    newString.split('&').forEach((str) => {\r\n      const [key, value] = str.split('=');\r\n      newObj[key] = value.replace(quotesRex, '').replace(spaceSymbolRex, ' ').trim();\r\n    });\r\n    return newObj;\r\n  }\r\n\r\n  canselAction(): void {\r\n    this.variablesService.deeplink$.next(null);\r\n    this.variablesService.sendActionData$.next({});\r\n    this.actionData = {};\r\n    this.secondStep = false;\r\n  }\r\n\r\n  marketplaceSend(): void {\r\n    const offerObject: PushOffer = {\r\n      wallet_id: this.walletToPayId,\r\n      od: {\r\n        ap: this.actionData.price || '',\r\n        at: '1',\r\n        cat: this.actionData.category || '',\r\n        cnt: this.actionData.contact || '',\r\n        com: this.actionData.comment || this.actionData.comments || '',\r\n        do: this.actionData.description || '',\r\n        et: 10,\r\n        fee: new BigNumber('' + ((+this.actionData.fee || +this.variablesService.default_fee) * 1000000000000)),\r\n        lci: '',\r\n        lco: 'World Wide',\r\n        ot: 1,\r\n        pt: 'Credit cards, BTC, ZANO, ETH',\r\n        t: this.actionData.title || '',\r\n        url: this.actionData.url || this.actionData.img_url || '',\r\n      },\r\n    };\r\n    this.backend.push_offer(offerObject, (status, data) => {\r\n      this.ngZone.run(() => {\r\n        if (data.success) {\r\n          this.marketplaceModalShow = false;\r\n          this.marketplaceConfirmHash = data.tx_hash;\r\n        } else {\r\n          this.canselAction();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  copyHash(): void {\r\n    this.backend.setClipboard(this.marketplaceConfirmHash);\r\n    this.copyAnimation = true;\r\n    setTimeout(() => this.copyAnimation = false, 2000);\r\n  }\r\n\r\n  nextStep(): void {\r\n    if (this.actionData.action === 'send') {\r\n      this.variablesService.sendActionData$.next(this.actionData);\r\n      this.variablesService.deeplink$.next(null);\r\n      this.variablesService.setCurrentWallet(this.walletToPayId);\r\n      this._router.navigate(['/wallet/send']).then();\r\n      this.secondStep = false;\r\n    } else if (this.actionData.action === 'escrow') {\r\n      this.variablesService.sendActionData$.next(this.actionData);\r\n      this.variablesService.deeplink$.next(null);\r\n      this.variablesService.setCurrentWallet(this.walletToPayId);\r\n      this._router.navigate(['/wallet/contracts/purchase']).then();\r\n      this.secondStep = false;\r\n\r\n    } else {\r\n      this.secondStep = true;\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-h-100\"\r\n\t\t fxFlex=\"0 1 54rem\"\r\n\t\t fxLayout=\"column\">\r\n\t<ng-container *ngIf=\"walletsToPay.length > 1 && !secondStep\">\r\n\t\t<div class=\"content mb-2\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"form__field\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\">\r\n\t\t\t\t<label>Select wallet for action:</label>\r\n\t\t\t\t<ng-select [(ngModel)]=\"walletToPayId\"\r\n\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t [items]=\"walletsToPay\"\r\n\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t bindLabel=\"name\"\r\n\t\t\t\t\t\t\t\t\t bindValue=\"wallet_id\">\r\n\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t</ng-select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\"\r\n\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">{{ 'EXPORT_HISTORY.CANCEL' | translate }}</button>\r\n\t\t\t<button (click)=\"nextStep()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"submit\">Next...\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</ng-container>\r\n\r\n\t<ng-container *ngIf=\"secondStep && marketplaceModalShow && actionData.action === 'marketplace_offer_create'\">\r\n\t\t<h4 class=\"mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">\r\n\t\t\tCreating a marketplace offer\r\n\t\t</h4>\r\n\t\t<div class=\"content scrolled-content mb-2\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"table-info\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Offer title' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{ actionData.title }}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Description' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{ actionData.description }}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Category' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{ actionData.category }}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Price' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.price}} {{this.variablesService.defaultCurrency}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Preview url' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.url || actionData.img_url}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Contacts' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.contact}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Comments' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.comment || actionData.comments}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Mixins' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.mixins || defaultMixin}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Transaction fee' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">\r\n\t\t\t\t\t\t{{actionData.price * (actionData.fee || this.variablesService.default_fee)}}\r\n\t\t\t\t\t\t{{this.variablesService.defaultCurrency}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\"\r\n\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">{{ 'EXPORT_HISTORY.CANCEL' | translate }}</button>\r\n\t\t\t<button (click)=\"marketplaceSend()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"submit\">Sign & Send...\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t</ng-container>\r\n\r\n\t<ng-container *ngIf=\"marketplaceConfirmHash\">\r\n\t\t<h4 class=\"mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">\r\n\t\t\tOperation successful\r\n\t\t</h4>\r\n\r\n\t\t<div class=\"content scrolled-content mb-2\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"table-info\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Operation hash' | translate }}</div>\r\n\t\t\t\t\t<div (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, marketplaceConfirmHash)\"\r\n\t\t\t\t\t\t\t class=\"text\"\r\n\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t{{marketplaceConfirmHash}}\r\n\t\t\t\t\t\t<i (click)=\"copyHash()\"\r\n\t\t\t\t\t\t\t [class.check]=\"copyAnimation\"\r\n\t\t\t\t\t\t\t [class.copy]=\"!copyAnimation\"\r\n\t\t\t\t\t\t\t class=\"icon ml-1\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\tClose\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</ng-container>\r\n\r\n\t<ng-container *ngIf=\"!walletsToPay.length\">\r\n\t\t<h4 class=\"mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">\r\n\t\t\tYour wallets have not loaded yet. Try this action a little later.\r\n\t\t</h4>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\tOk\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</ng-container>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DeeplinkModalComponent } from './deeplink-modal.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n    declarations: [DeeplinkModalComponent],\r\n    imports: [\r\n        CommonModule,\r\n        NgSelectModule,\r\n        FormsModule,\r\n        FlexLayoutModule,\r\n        TranslateModule\r\n    ],\r\n    exports: [DeeplinkModalComponent]\r\n})\r\nexport class DeeplinkModalModule {\r\n}\r\n","import { delay, takeUntil } from 'rxjs/operators';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-deeplink',\r\n  templateUrl: './deeplink.component.html',\r\n  styleUrls: ['./deeplink.component.scss']\r\n})\r\nexport class DeeplinkComponent implements OnInit, OnDestroy {\r\n  deeplink$ = new BehaviorSubject<string | null>(null);\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.variablesService.deeplink$\r\n      .pipe(delay(200), takeUntil(this.destroy$))\r\n      .subscribe((data) => {\r\n        this.deeplink$.next(data);\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<ng-container *ngIf=\"deeplink$ | async\">\r\n\t<app-deeplink-modal\r\n\t\t*ngIf=\"(variablesService?.daemon_state === 2 || !variablesService?.sync_started)\"></app-deeplink-modal>\r\n\r\n\t<app-sync-modal *ngIf=\"(variablesService?.daemon_state !== 2 || variablesService?.sync_started)\">\r\n\t</app-sync-modal>\r\n</ng-container>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DeeplinkModalModule } from '../deeplink-modal/deeplink-modal.module';\r\nimport { SyncModalModule } from '../_helpers/modals/sync-modal/sync-modal.module';\r\nimport { DeeplinkComponent } from './deeplink.component';\r\n\r\n@NgModule({\r\n    declarations: [DeeplinkComponent],\r\n    imports: [\r\n        CommonModule,\r\n        DeeplinkModalModule,\r\n        SyncModalModule\r\n    ],\r\n    exports: [DeeplinkComponent, DeeplinkModalModule, SyncModalModule]\r\n})\r\nexport class DeeplinkModule {\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.EDIT_ALIAS' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/wallet/history']\">{{ wallet.name }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'BREADCRUMBS.EDIT_ALIAS' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form class=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"alias-name\">\r\n\t\t\t\t\t\t{{ 'EDIT_ALIAS.NAME.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input [value]=\"alias.name\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t id=\"alias-name\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'EDIT_ALIAS.NAME.PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field textarea\">\r\n\t\t\t\t\t<label for=\"alias-comment\">\r\n\t\t\t\t\t\t{{ 'EDIT_ALIAS.COMMENT.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]=\"alias.comment\"\r\n\t\t\t\t\t\t\t\t\t\t[maxlength]=\"variablesService.maxCommentLength + ''\"\r\n\t\t\t\t\t\t\t\t\t\t[ngModelOptions]=\"{standalone: true}\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"{{ 'EDIT_ALIAS.COMMENT.PLACEHOLDER' | translate }}\">\r\n            </textarea>\r\n\t\t\t\t\t<div *ngIf=\"alias.comment.length > 0 && notEnoughMoney\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'EDIT_ALIAS.FORM_ERRORS.NO_MONEY' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"alias.comment.length >= variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'EDIT_ALIAS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"alias-cost mb-2\">{{ \"EDIT_ALIAS.COST\" | translate : {\r\n\t\t\t\t\tvalue: variablesService.default_fee, currency:\r\n\t\t\t\t\tvariablesService.defaultCurrency\r\n\t\t\t\t} }}</div>\r\n\r\n\t\t\t\t<button (click)=\"updateAlias()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"notEnoughMoney || (oldAliasComment === alias.comment) || alias.comment.length > variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t\t\t'EDIT_ALIAS.BUTTON_EDIT' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\n\r\n@Component({\r\n  selector: 'app-edit-alias',\r\n  templateUrl: './edit-alias.component.html',\r\n  styleUrls: ['./edit-alias.component.scss']\r\n})\r\nexport class EditAliasComponent implements OnInit {\r\n  wallet: Wallet;\r\n\r\n  alias: any;\r\n\r\n  oldAliasComment: string;\r\n\r\n  notEnoughMoney: boolean;\r\n\r\n  requestProcessing = false;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private location: Location,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.wallet = this.variablesService.currentWallet;\r\n    const alias = this.backend.getWalletAlias(this.wallet.address);\r\n    this.alias = {\r\n      name: alias.name,\r\n      address: alias.address,\r\n      comment: alias.comment\r\n    };\r\n    this.oldAliasComment = alias.comment;\r\n    this.notEnoughMoney = this.wallet.unlocked_balance.isLessThan(this.variablesService.default_fee_big);\r\n  }\r\n\r\n  updateAlias(): void {\r\n    if (this.requestProcessing || this.notEnoughMoney || this.oldAliasComment === this.alias.comment || this.alias.comment.length > this.variablesService.maxCommentLength) {\r\n      return;\r\n    }\r\n    this.requestProcessing = true;\r\n    this.backend.updateAlias(this.wallet.wallet_id, this.alias, this.variablesService.default_fee, (status) => {\r\n      if (status) {\r\n        this.modalService.prepareModal('success', '');\r\n        this.wallet.alias['comment'] = this.alias.comment;\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/wallet/']);\r\n        });\r\n      }\r\n      this.requestProcessing = false;\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { Contact } from '../_helpers/models/contact.model';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Papa } from 'ngx-papaparse';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-export-import',\r\n  templateUrl: './export-import.component.html',\r\n  styleUrls: ['./export-import.component.scss']\r\n})\r\nexport class ExportImportComponent {\r\n  constructor(\r\n    private location: Location,\r\n    private variablesService: VariablesService,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private papa: Papa,\r\n    private translate: TranslateService,\r\n    private router: Router,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  import(): void {\r\n    this.backend.openFileDialog(\r\n      '',\r\n      '*',\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (file_status) {\r\n          this.variablesService.settings.default_path = file_data.path.substr(\r\n            0,\r\n            file_data.path.lastIndexOf('/')\r\n          );\r\n          if (this.isValid(file_data.path)) {\r\n            this.backend.loadFile(file_data.path, (status, data) => {\r\n              if (!status) {\r\n                this.modalService.prepareModal(\r\n                  'error',\r\n                  'CONTACTS.ERROR_IMPORT_EMPTY'\r\n                );\r\n              } else {\r\n                const options = {\r\n                  header: true\r\n                };\r\n                const elements = this.papa.parse(data, options);\r\n                const isArray = Array.isArray(elements.data);\r\n                if (isArray && elements.data.length !== 0 && !elements.errors.length) {\r\n                  if (!this.variablesService.contacts.length) {\r\n                    elements.data.forEach(element => {\r\n                      this.variablesService.contacts.push(element);\r\n                    });\r\n                  } else {\r\n                    elements.data.forEach(element => {\r\n                      const indexName = this.variablesService.contacts.findIndex(\r\n                        contact => contact.name === element.name\r\n                      );\r\n                      const indexAddress = this.variablesService.contacts.findIndex(\r\n                        contact => contact.address === element.address\r\n                      );\r\n                      if (indexAddress === -1 && indexName === -1) {\r\n                        this.variablesService.contacts.push(element);\r\n                      }\r\n                      if (indexName !== -1 && indexAddress === -1) {\r\n                        this.variablesService.contacts.push({\r\n                          name: `${ element.name } ${ this.translate.instant(\r\n                            'CONTACTS.COPY'\r\n                          ) }`,\r\n                          address: element.address,\r\n                          notes: element.notes\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                  this.backend.getContactAlias();\r\n                  this.ngZone.run(() => {\r\n                    this.router.navigate(['/contacts']);\r\n                  });\r\n                }\r\n                if (elements.errors.length) {\r\n                  this.modalService.prepareModal(\r\n                    'error',\r\n                    'CONTACTS.ERROR_IMPORT'\r\n                  );\r\n                  console.log(elements.errors);\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            this.modalService.prepareModal('error', 'CONTACTS.ERROR_TYPE_FILE');\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  export(): void {\r\n    const contacts: Array<Contact> = [];\r\n    this.variablesService.contacts.forEach(contact => {\r\n      delete contact.alias;\r\n      contacts.push(contact);\r\n    });\r\n\r\n    this.backend.saveFileDialog(\r\n      '',\r\n      '*',\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (!this.variablesService.contacts.length && !(file_data.error_code === 'CANCELED')) {\r\n          this.modalService.prepareModal('error', 'CONTACTS.ERROR_EMPTY_LIST');\r\n        }\r\n        const path = this.isValid(file_data.path) ? file_data.path : `${ file_data.path }.csv`;\r\n        if (file_status && this.isValid(path) && this.variablesService.contacts.length) {\r\n          this.backend.storeFile(path, this.papa.unparse(contacts));\r\n        }\r\n        if (!(file_data.error_code === 'CANCELED') && !this.isValid(path)) {\r\n          this.modalService.prepareModal('error', 'CONTACTS.ERROR_EXPORT');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  isValid(file): boolean {\r\n    return file.endsWith('.csv');\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'CONTACTS.IMPORT_EXPORT' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<div class=\"controls flex\">\r\n\t\t\t\t<button (click)=\"import()\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100 mr-1\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t{{ 'CONTACTS.IMPORT' | translate }}\r\n\t\t\t\t</button>\r\n\t\t\t\t<button (click)=\"export()\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t{{ 'CONTACTS.EXPORT' | translate }}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { AfterViewChecked, Component, ElementRef, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Transaction } from '../_helpers/models/transaction.model';\r\nimport BigNumber from 'bignumber.js';\r\nimport { PaginationService } from '../_helpers/services/pagination.service';\r\nimport { PaginationStore } from '../_helpers/services/pagination.store';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { Subject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-history',\r\n  templateUrl: './history.component.html',\r\n  styleUrls: ['./history.component.scss']\r\n})\r\nexport class HistoryComponent implements OnInit, OnDestroy, AfterViewChecked {\r\n  @ViewChild('head', { static: true }) head: ElementRef;\r\n\r\n  parentRouting;\r\n\r\n  openedDetails = '';\r\n\r\n  calculatedWidth = [];\r\n\r\n  stop_paginate = false;\r\n\r\n  mining = false;\r\n\r\n  wallet: Wallet;\r\n\r\n  x = new BigNumber(3);\r\n\r\n  y = new BigNumber(0.2);\r\n\r\n  private destroy$: Subject<void> = new Subject<void>();\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    public variablesService: VariablesService,\r\n    private pagination: PaginationService,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private paginationStore: PaginationStore,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.parentRouting = this.route.parent.params.subscribe(() => {\r\n      this.openedDetails = '';\r\n    });\r\n    let restore = false;\r\n    if (this.variablesService.after_sync_request.hasOwnProperty(this.variablesService.currentWallet.wallet_id)) {\r\n      restore = this.variablesService.after_sync_request[this.variablesService.currentWallet.wallet_id];\r\n    }\r\n    if (!this.variablesService.sync_started && restore && this.variablesService.currentWallet.wallet_id) {\r\n      this.wallet = this.variablesService.getNotLoadedWallet();\r\n      if (this.wallet) {\r\n        this.tick();\r\n      }\r\n      // if this is was restore wallet and it was selected on moment when sync completed\r\n      this.getRecentTransfers();\r\n      this.variablesService.after_sync_request[this.variablesService.currentWallet.wallet_id] = false;\r\n    }\r\n    let after_sync_request = false;\r\n    if (\r\n      this.variablesService.after_sync_request.hasOwnProperty(this.variablesService.currentWallet.wallet_id)\r\n    ) {\r\n      after_sync_request = this.variablesService.after_sync_request[\r\n        this.variablesService.currentWallet.wallet_id\r\n        ];\r\n    }\r\n    if (after_sync_request && !this.variablesService.sync_started) {\r\n      // if user click on the wallet at the first time after restore.\r\n      this.getRecentTransfers();\r\n    }\r\n\r\n    if (this.variablesService.stop_paginate.hasOwnProperty(this.variablesService.currentWallet.wallet_id)) {\r\n      this.stop_paginate = this.variablesService.stop_paginate[this.variablesService.currentWallet.wallet_id];\r\n    } else {\r\n      this.stop_paginate = false;\r\n    }\r\n    // this will hide pagination a bit earlier\r\n    this.wallet = this.variablesService.getNotLoadedWallet();\r\n    if (this.wallet) {\r\n      this.tick();\r\n    }\r\n\r\n    this.variablesService\r\n      .getWalletChangedEvent\r\n      .pipe(\r\n        filter(w => !!w),\r\n        takeUntil(this.destroy$)\r\n      ).subscribe((currentWallet: Wallet) => {\r\n      this.mining = currentWallet.exclude_mining_txs;\r\n    });\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    this.calculateWidth();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.parentRouting.unsubscribe();\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  strokeSize(item): number {\r\n    const rem = this.variablesService.settings.scale;\r\n    if ((this.variablesService.height_app - item.height >= 10 && item.height !== 0) || (item.is_mining === true && item.height === 0)) {\r\n      return 0;\r\n    } else {\r\n      if (item.height === 0 || this.variablesService.height_app - item.height < 0) {\r\n        return (4.5 * parseInt(rem, 10));\r\n      } else {\r\n        return ((4.5 * parseInt(rem, 10)) - (((4.5 * parseInt(rem, 10)) / 100) * ((this.variablesService.height_app - item.height) * 10)));\r\n      }\r\n    }\r\n  }\r\n\r\n  resetPaginationValues(): void {\r\n    this.ngZone.run(() => {\r\n      const total_history_item = this.variablesService.currentWallet\r\n        .total_history_item;\r\n      const count = this.variablesService.count;\r\n      this.variablesService.currentWallet.totalPages = Math.ceil(\r\n        total_history_item / count\r\n      );\r\n      this.variablesService.currentWallet.exclude_mining_txs = this.mining;\r\n      this.variablesService.currentWallet.currentPage = 1;\r\n\r\n      if (!this.variablesService.currentWallet.totalPages) {\r\n        this.variablesService.currentWallet.totalPages = 1;\r\n      }\r\n      this.variablesService.currentWallet.totalPages >\r\n      this.variablesService.maxPages\r\n        ? (this.variablesService.currentWallet.pages = new Array(5)\r\n          .fill(1)\r\n          .map((value, index) => value + index))\r\n        : (this.variablesService.currentWallet.pages = new Array(\r\n          this.variablesService.currentWallet.totalPages\r\n        )\r\n          .fill(1)\r\n          .map((value, index) => value + index));\r\n    });\r\n  }\r\n\r\n\r\n  setPage(pageNumber: number): void {\r\n    // this is will allow pagination for wallets that was open from existed wallets'\r\n    if (pageNumber === this.variablesService.currentWallet.currentPage) {\r\n      return;\r\n    }\r\n    if (\r\n      this.variablesService.currentWallet.open_from_exist &&\r\n      !this.variablesService.currentWallet.updated\r\n    ) {\r\n      this.variablesService.get_recent_transfers = false;\r\n      this.variablesService.currentWallet.updated = true;\r\n    }\r\n    // if not running get_recent_transfers callback\r\n    if (!this.variablesService.get_recent_transfers) {\r\n      this.variablesService.currentWallet.currentPage = pageNumber;\r\n    }\r\n    if (!this.variablesService.get_recent_transfers) {\r\n      this.getRecentTransfers();\r\n    }\r\n  }\r\n\r\n  toggleMiningTransactions(): void {\r\n    if (!this.variablesService.sync_started && !this.wallet) {\r\n      const value = this.paginationStore.value;\r\n      if (!value) {\r\n        this.paginationStore.setPage(1, 0, this.variablesService.currentWallet.wallet_id); // add back page for the first page\r\n      } else {\r\n        const pages = value.filter((item) => item.walletID === this.variablesService.currentWallet.wallet_id);\r\n        if (!pages.length) {\r\n          this.paginationStore.setPage(1, 0, this.variablesService.currentWallet.wallet_id); // add back page for the first page\r\n        }\r\n      }\r\n      this.mining = !this.mining;\r\n      this.resetPaginationValues();\r\n      this.getRecentTransfers();\r\n    }\r\n  }\r\n\r\n  getRecentTransfers(): void {\r\n    const offset = this.pagination.getOffset(this.variablesService.currentWallet.wallet_id);\r\n    const value = this.paginationStore.value;\r\n    const pages = value\r\n      ? value.filter((item) => item.walletID === this.variablesService.currentWallet.wallet_id)\r\n      : [];\r\n\r\n    this.backend.getRecentTransfers(\r\n      this.variablesService.currentWallet.wallet_id,\r\n      offset,\r\n      this.variablesService.count,\r\n      this.variablesService.currentWallet.exclude_mining_txs,\r\n      (status, data) => {\r\n        const isForward = this.paginationStore.isForward(\r\n          pages,\r\n          this.variablesService.currentWallet.currentPage\r\n        );\r\n        if (this.mining && isForward && pages && pages.length === 1) {\r\n          this.variablesService.currentWallet.currentPage = 1; // set init page after navigation back\r\n        }\r\n\r\n        const history = data && data.history;\r\n        this.variablesService.stop_paginate[this.variablesService.currentWallet.wallet_id] =\r\n          (history && history.length < this.variablesService.count) || !history;\r\n        this.stop_paginate = this.variablesService.stop_paginate[this.variablesService.currentWallet.wallet_id];\r\n        if (!this.variablesService.stop_paginate[this.variablesService.currentWallet.wallet_id]) {\r\n          const page = this.variablesService.currentWallet.currentPage + 1;\r\n          if (\r\n            isForward &&\r\n            this.mining &&\r\n            history &&\r\n            history.length === this.variablesService.count\r\n          ) {\r\n            this.paginationStore.setPage(\r\n              page,\r\n              data.last_item_index,\r\n              this.variablesService.currentWallet.wallet_id\r\n            ); // add back page for current page\r\n          }\r\n        }\r\n\r\n        this.pagination.calcPages(data);\r\n        this.pagination.prepareHistory(data, status);\r\n\r\n        this.ngZone.run(() => {\r\n          this.variablesService.get_recent_transfers = false;\r\n          if (\r\n            this.variablesService.after_sync_request.hasOwnProperty(\r\n              this.variablesService.currentWallet.wallet_id\r\n            )\r\n          ) {\r\n            // this is will complete get_recent_transfers request\r\n            // this will switch of\r\n            this.variablesService.after_sync_request[this.variablesService.currentWallet.wallet_id] = false;\r\n          }\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  tick(): void {\r\n    const walletInterval = setInterval(() => {\r\n      this.wallet = this.variablesService.getNotLoadedWallet();\r\n      if (!this.wallet) {\r\n        clearInterval(walletInterval);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  getHeight(item): number {\r\n    if ((this.variablesService.height_app - item.height >= 10 && item.height !== 0) || (item.is_mining === true && item.height === 0)) {\r\n      return 10;\r\n    } else {\r\n      if (item.height === 0 || this.variablesService.height_app - item.height < 0) {\r\n        return 0;\r\n      } else {\r\n        return (this.variablesService.height_app - item.height);\r\n      }\r\n    }\r\n  }\r\n\r\n  openDetails(tx_hash): void {\r\n    if (tx_hash === this.openedDetails) {\r\n      this.openedDetails = '';\r\n    } else {\r\n      this.openedDetails = tx_hash;\r\n    }\r\n  }\r\n\r\n  calculateWidth(): void {\r\n    this.calculatedWidth = [];\r\n    this.calculatedWidth.push(this.head.nativeElement.childNodes[0].clientWidth);\r\n    this.calculatedWidth.push(this.head.nativeElement.childNodes[1].clientWidth + this.head.nativeElement.childNodes[2].clientWidth);\r\n    this.calculatedWidth.push(this.head.nativeElement.childNodes[3].clientWidth);\r\n    this.calculatedWidth.push(this.head.nativeElement.childNodes[4].clientWidth);\r\n  }\r\n\r\n  time(item: Transaction): number {\r\n    const now = new Date().getTime();\r\n    const unlockTime = now + ((item.unlock_time - this.variablesService.height_max) * 60 * 1000);\r\n    return unlockTime;\r\n  }\r\n\r\n  isLocked(item: Transaction): boolean {\r\n    if ((item.unlock_time > 500000000) && (item.unlock_time > new Date().getTime() / 1000)) {\r\n      return true;\r\n    }\r\n    if ((item.unlock_time < 500000000) && (item.unlock_time > this.variablesService.height_max)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","<div class=\"history-wrap\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\">\r\n\t<div class=\"wrap-table scrolled-content mb-2\"\r\n\t\t\t fxFlex=\"1 1 auto\">\r\n\t\t<table class=\"history-table\">\r\n\t\t\t<thead>\r\n\t\t\t<tr #head\r\n\t\t\t\t\t(window:resize)=\"calculateWidth()\">\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.STATUS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.AMOUNT' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.FEE' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.ADDRESS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.DATE' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t</tr>\r\n\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t<ng-container *ngFor=\"let item of variablesService.currentWallet.history\">\r\n\t\t\t\t<tr (click)=\"openDetails(item.tx_hash)\"\r\n\t\t\t\t\t\t[class.locked-transaction]=\"!item.is_mining && item.unlock_time > 0\">\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div [ngClass]=\"item.is_income ? 'received' : 'send'\"\r\n\t\t\t\t\t\t\t\t class=\"status text-ellipsis\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"getHeight(item) < 10\">\r\n\t\t\t\t\t\t\t\t<svg [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"confirmation mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t\t\t style=\"transform: rotateZ(-90deg)\"\r\n\t\t\t\t\t\t\t\t\t\t tooltip=\"{{ 'HISTORY.STATUS_TOOLTIP' | translate : {'current': getHeight(item), 'total': 10} }}\"\r\n\t\t\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\">\r\n\t\t\t\t\t\t\t\t\t<circle cx=\"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcy=\"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"transparent\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tr=\"0.7rem\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"rgba(31, 143, 235, 0.33)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-dasharray=\"100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-dashoffset=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"0.3rem\">\r\n\t\t\t\t\t\t\t\t\t</circle>\r\n\t\t\t\t\t\t\t\t\t<circle [style.stroke-dashoffset]=\"strokeSize(item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[style.stroke]=\"item.is_income ? '#16d1d6' : '#1f8feb'\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"progress-circle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcx=\"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcy=\"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"transparent\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tr=\"0.7rem\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-dasharray=\"4.5rem\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-dashoffset=\"4.5rem\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"0.3rem\"></circle>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"getHeight(item) === 10\">\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"!item.is_income\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"status-transaction mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/blue/send.svg\">\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"item.is_income\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"status-transaction mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/aqua/receive.svg\">\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclass=\"status-transaction-text\">{{ (item.is_income ? 'HISTORY.RECEIVED' : 'HISTORY.SEND') | translate }}</span>\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"item.unlock_time !== 0 && item.tx_type !== 6\">\r\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"isLocked(item); else unlock\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"item.unlock_time < 500000000\">\r\n\t\t\t\t\t\t\t\t\t\t<i [class.position]=\"variablesService.height_app - item.height < 10 || item.height === 0 && item.timestamp > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t class=\"icon lock-transaction mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t\t\t\t tooltip=\"{{ 'HISTORY.LOCK_TOOLTIP' | translate : {'date': time(item) | date : 'MM.dd.yy'} }}\"\r\n\t\t\t\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\"></i>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"item.unlock_time > 500000000\">\r\n\t\t\t\t\t\t\t\t\t\t<i [class.position]=\"variablesService.height_app - item.height < 10 || item.height === 0 && item.timestamp > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t class=\"icon lock-transaction mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t\t\t\t tooltip=\"{{ 'HISTORY.LOCK_TOOLTIP' | translate : {'date': item.unlock_time * 1000 | date : 'MM.dd.yy'} }}\"\r\n\t\t\t\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\"></i>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t<ng-template #unlock>\r\n\t\t\t\t\t\t\t\t\t<i [class.position]=\"variablesService.height_app - item.height < 10 || item.height === 0 && item.timestamp > 0\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"icon unlock-transaction mr-1\"></i>\r\n\t\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div class=\"text-ellipsis\">\r\n                              <span *ngIf=\"item.sortAmount && item.sortAmount.toString() !== '0'\">\r\n                                  {{item.sortAmount | intToMoney}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{variablesService.defaultCurrency}}\r\n                              </span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div class=\"text-ellipsis\">\r\n                            <span *ngIf=\"item.sortFee && item.sortFee.toString() !== '0'\">\r\n                                {{item.sortFee | intToMoney}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{variablesService.defaultCurrency}}\r\n                            </span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"remote-address\">\r\n\t\t\t\t\t\t<ng-container *ngIf=\"!(item.tx_type === 0); else walletOrAliases\" class=\"text-ellipsis\">\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t*ngIf=\"!(item.tx_type === 0 && item.remote_addresses && item.remote_addresses[0])\">\r\n\t\t\t\t\t\t\t\t{{item | historyTypeMessages}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t<ng-template #walletOrAliases>\r\n\t\t\t\t\t\t\t<div *ngIf=\"item.tx_type === 0 && item.remote_addresses && item.remote_addresses[0] && !item.remote_aliases?.length\"\r\n\t\t\t\t\t\t\t\t\t class=\"text-ellipsis\">\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t(contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, item.remote_addresses[0])\">\r\n                                \t{{ item.remote_addresses[0] | slice:0:6 }}\r\n\t\t\t\t\t\t\t\t\t...{{ item.remote_addresses[0] | slice:-6 }}\r\n                            \t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"item.remote_aliases && item.remote_aliases.length\">\r\n\t\t\t\t\t\t\t\t<div fxLayout=\"row wrap\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngFor=\"let alias of item.remote_aliases\">\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"alias && alias.length\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, '@' + alias)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t [class.available]=\"alias.length >= 1 && alias.length <= 5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t [class.mb-0_5]=\"item.remote_aliases.length >= 2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t [class.mr-0_5]=\"item.remote_aliases.length >= 2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t class=\"alias\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t fxLayout=\"row inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ '@' + alias }}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div class=\"text-ellipsis\">\r\n\t\t\t\t\t\t\t{{item.timestamp * 1000 | date : 'dd-MM-yyyy HH:mm'}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t\t<tr [class.open]=\"item.tx_hash === openedDetails\"\r\n\t\t\t\t\t\tclass=\"details\">\r\n\t\t\t\t\t<td colspan=\"5\">\r\n\t\t\t\t\t\t<app-transaction-details *ngIf=\"item.tx_hash === openedDetails\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t [sizes]=\"calculatedWidth\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t [transaction]=\"item\"></app-transaction-details>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<div [class.hide]=\"item.tx_hash !== openedDetails\"\r\n\t\t\t\t\t\t class=\"row-divider\"></div>\r\n\t\t\t</ng-container>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n\t<div class=\"pagination-wrapper\">\r\n\t\t<div class=\"pagination\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t<div class=\"left\"\r\n\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t\t<button (click)=\"setPage(variablesService.currentWallet.currentPage - 1)\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"variablesService.currentWallet.currentPage === 1 || variablesService.sync_started || wallet\"\r\n\t\t\t\t\t\t\t\tclass=\"btn-icon circle small mr-1\">\r\n\t\t\t\t\t<i class=\"icon arrow-left-stroke\"></i>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<ng-container *ngIf=\"!mining\">\r\n\t\t\t\t\t<button (click)=\"setPage(page)\"\r\n\t\t\t\t\t\t\t\t\t*ngFor=\"let page of variablesService.currentWallet.pages\"\r\n\t\t\t\t\t\t\t\t\t[class.color-primary]=\"variablesService.currentWallet.currentPage === page\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mr-0_5\">{{page}}</button>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-container *ngIf=\"mining\">\r\n\t\t\t\t\t<button (click)=\"setPage(variablesService.currentWallet.currentPage)\"\r\n\t\t\t\t\t\t\t\t\t[disabled]=\"stop_paginate || variablesService.sync_started || wallet\"\r\n\t\t\t\t\t\t\t\t\t[ngClass]=\"{ 'color-primary': variablesService.currentWallet.currentPage, 'disabled': variablesService.sync_started || wallet}\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mr-0_5\">\r\n\t\t\t\t\t\t{{variablesService.currentWallet.currentPage}}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<button (click)=\"setPage(variablesService.currentWallet.currentPage + 1)\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"stop_paginate || variablesService.sync_started || wallet\"\r\n\t\t\t\t\t\t\t\tclass=\"btn-icon circle small ml-0_5\">\r\n\t\t\t\t\t<i class=\"icon arrow-right-stroke\"></i>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"right\"\r\n\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t\t<span class=\"switch-text mr-2\">Hide mining transactions</span>\r\n\t\t\t\t<app-switch (emitChange)=\"toggleMiningTransactions()\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"variablesService.sync_started || !!wallet\"\r\n\t\t\t\t\t\t\t\t\t\t[value]=\"mining\"></app-switch>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-full-layout',\r\n  templateUrl: './full-layout.component.html',\r\n  styleUrls: ['./full-layout.component.scss']\r\n})\r\nexport class FullLayoutComponent {\r\n}\r\n","<div class=\"overflow-auto p-2\"\r\n\t\t fxFlex=\"100\"\r\n\t\t fxFlexFill>\r\n\t<router-outlet></router-outlet>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FullLayoutComponent } from './full-layout.component';\r\nimport { AppRoutingModule } from '../../app-routing.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [FullLayoutComponent],\r\n  imports: [\r\n    AppRoutingModule,\r\n    FlexLayoutModule,\r\n    CommonModule\r\n  ],\r\n  exports: [FullLayoutComponent]\r\n})\r\nexport class FullLayoutModule {\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-with-sidebar-layout',\r\n  templateUrl: './with-sidebar-layout.component.html',\r\n  styleUrls: ['./with-sidebar-layout.component.scss']\r\n})\r\nexport class WithSidebarLayoutComponent {\r\n}\r\n","<app-sidebar></app-sidebar>\r\n\r\n<div class=\"overflow-auto p-2\"\r\n\t\t fxFlex=\"100\">\r\n\t<router-outlet></router-outlet>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WithSidebarLayoutComponent } from './with-sidebar-layout.component';\r\nimport { AppRoutingModule } from '../../app-routing.module';\r\nimport { SidebarModule } from '../../sidebar/sidebar.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [WithSidebarLayoutComponent],\r\n  imports: [\r\n    AppRoutingModule,\r\n    CommonModule,\r\n    FlexLayoutModule,\r\n    SidebarModule\r\n  ],\r\n  exports: [WithSidebarLayoutComponent]\r\n})\r\nexport class WithSidebarLayoutModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators, ValidationErrors } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n\r\n  queryRouting;\r\n\r\n  regForm = new FormGroup({\r\n    password: new FormControl('',\r\n      Validators.pattern(this.variablesService.pattern)),\r\n    confirmation: new FormControl('')\r\n  }, [function (g: FormGroup) {\r\n    return g.get('password').value === g.get('confirmation').value ? null : { 'mismatch': true };\r\n  }\r\n  ]);\r\n\r\n  authForm = new FormGroup({\r\n    password: new FormControl('')\r\n  });\r\n\r\n  type = 'reg';\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.type) {\r\n        this.type = params.type;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  onSubmitCreatePass(): void {\r\n    if (this.regForm.valid) {\r\n      this.variablesService.appPass = this.regForm.get('password').value;  // the pass what was written in input of login form by user\r\n\r\n      this.backend.setMasterPassword({ pass: this.variablesService.appPass }, (status, data) => {\r\n        if (status) {\r\n          this.backend.storeSecureAppData({ pass: this.variablesService.appPass });\r\n          this.variablesService.appLogin = true;\r\n          this.variablesService.dataIsLoaded = true;\r\n          if (this.variablesService.settings.appLockTime) {\r\n            this.variablesService.startCountdown();\r\n          }\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/']);\r\n          });\r\n        } else {\r\n          console.log(data['error_code']);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onSkipCreatePass(): void {\r\n    this.variablesService.appPass = '';\r\n    this.ngZone.run(() => {\r\n      this.variablesService.appLogin = true;\r\n      this.router.navigate(['/']);\r\n    });\r\n  }\r\n\r\n  dropSecureAppData(): void {\r\n    this.backend.dropSecureAppData(() => {\r\n      this.onSkipCreatePass();\r\n    });\r\n    this.variablesService.wallets = [];\r\n    this.variablesService.contacts = [];\r\n  }\r\n\r\n  onSubmitAuthPass(): void {\r\n    if (this.authForm.valid) {\r\n      this.variablesService.appPass = this.authForm.get('password').value;\r\n      if (this.variablesService.dataIsLoaded) {\r\n        this.backend.checkMasterPassword({ pass: this.variablesService.appPass }, (status) => {\r\n          if (status) {\r\n            this.variablesService.appLogin = true;\r\n            if (this.variablesService.settings.appLockTime) {\r\n              this.variablesService.startCountdown();\r\n            }\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/'], { queryParams: { prevUrl: 'login' } });\r\n            });\r\n          } else {\r\n            this.ngZone.run(() => {\r\n              this.setAuthPassError({ wrong_password: true });\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        this.getData(this.variablesService.appPass);\r\n      }\r\n    }\r\n  }\r\n\r\n  getData(appPass) {\r\n    this.backend.getSecureAppData({ pass: appPass }, (status, data) => {\r\n      if (!data.error_code) {\r\n        this.setAuthPassError(null);\r\n        this.variablesService.appLogin = true;\r\n        this.variablesService.dataIsLoaded = true;\r\n        if (this.variablesService.settings.appLockTime) {\r\n          this.variablesService.startCountdown();\r\n        }\r\n        this.variablesService.appPass = appPass;\r\n        const isEmptyObject = Object.keys(data).length === 0 && data.constructor === Object;\r\n\r\n        if (this.variablesService.wallets.length) {\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n          return;\r\n        }\r\n        if (data.hasOwnProperty('contacts')) {\r\n          if (Object.keys(data['contacts']).length !== 0) {\r\n            data['contacts'].map(contact => {\r\n              this.variablesService.contacts.push(contact);\r\n            });\r\n          }\r\n        }\r\n        if (data.hasOwnProperty('wallets')) {\r\n          if (Object.keys(data['wallets']).length !== 0) {\r\n            this.getWalletData(data['wallets']);\r\n          } else {\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/']);\r\n            });\r\n          }\r\n        }\r\n        if (!data.hasOwnProperty('wallets') && !data.hasOwnProperty('contacts')) {\r\n          if (data.length !== 0 && !isEmptyObject) {\r\n            this.getWalletData(data);\r\n          } else {\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/']);\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      if (data.error_code === 'WRONG_PASSWORD') {\r\n        this.ngZone.run(() => {\r\n          this.setAuthPassError({ wrong_password: true });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  getWalletData(walletData) {\r\n    let openWallets = 0;\r\n    let runWallets = 0;\r\n    walletData.forEach((wallet, wallet_index) => {\r\n      this.backend.openWallet(wallet.path, wallet.pass, this.variablesService.count, true, (open_status, open_data, open_error) => {\r\n        if (open_status || open_error === 'FILE_RESTORED') {\r\n          openWallets++;\r\n          this.ngZone.run(() => {\r\n            const new_wallet = new Wallet(\r\n              open_data.wallet_id,\r\n              wallet.name,\r\n              wallet.pass,\r\n              open_data['wi'].path,\r\n              open_data['wi'].address,\r\n              open_data['wi'].balance,\r\n              open_data['wi'].unlocked_balance,\r\n              open_data['wi'].mined_total,\r\n              open_data['wi'].tracking_hey\r\n            );\r\n            new_wallet.alias = this.backend.getWalletAlias(new_wallet.address);\r\n            if (wallet.staking) {\r\n              new_wallet.staking = true;\r\n              this.backend.startPosMining(new_wallet.wallet_id);\r\n            } else {\r\n              new_wallet.staking = false;\r\n            }\r\n            new_wallet.is_auditable = open_data['wi'].is_auditable;\r\n            new_wallet.is_watch_only = open_data['wi'].is_watch_only;\r\n            new_wallet.currentPage = 1;\r\n            new_wallet.exclude_mining_txs = false;\r\n            if (open_data.recent_history && open_data.recent_history.history) {\r\n              new_wallet.total_history_item = open_data.recent_history.total_history_items;\r\n              new_wallet.totalPages = Math.ceil(open_data.recent_history.total_history_items / this.variablesService.count);\r\n              new_wallet.totalPages > this.variablesService.maxPages\r\n                ? new_wallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n                : new_wallet.pages = new Array(new_wallet.totalPages).fill(1).map((value, index) => value + index);\r\n              new_wallet.prepareHistory(open_data.recent_history.history);\r\n            } else {\r\n              new_wallet.total_history_item = 0;\r\n              new_wallet.pages = new Array(1).fill(1);\r\n              new_wallet.totalPages = 1;\r\n            }\r\n            this.backend.getContracts(open_data.wallet_id, (contracts_status, contracts_data) => {\r\n              if (contracts_status && contracts_data.hasOwnProperty('contracts')) {\r\n                this.ngZone.run(() => {\r\n                  new_wallet.prepareContractsAfterOpen(\r\n                    contracts_data.contracts,\r\n                    this.variablesService.exp_med_ts,\r\n                    this.variablesService.height_app,\r\n                    this.variablesService.settings.viewedContracts,\r\n                    this.variablesService.settings.notViewedContracts\r\n                  );\r\n                });\r\n              }\r\n            });\r\n            this.variablesService.wallets.push(new_wallet);\r\n            if (this.variablesService.wallets.length === 1) {\r\n              this.router.navigate(['/wallet/']);\r\n            }\r\n          });\r\n          this.backend.runWallet(open_data.wallet_id, (run_status) => {\r\n            if (run_status) {\r\n              runWallets++;\r\n            } else {\r\n              if (wallet_index === walletData.length - 1 && runWallets === 0) {\r\n                this.ngZone.run(() => {\r\n                  this.router.navigate(['/']);\r\n                });\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          if (wallet_index === walletData.length - 1 && openWallets === 0) {\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/']);\r\n            });\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private setAuthPassError(errors: ValidationErrors | null) {\r\n    this.authForm.controls['password'].setErrors(errors);\r\n  }\r\n}\r\n","<div class=\"auth\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"row\"\r\n\t\t fxLayoutAlign=\"center center\">\r\n\t<div\r\n\t\tclass=\"card max-w-42-rem max-h-100 w-100 p-2 border-radius-0_8-rem bg-light-blue overflow-x-hidden\">\r\n\r\n\t\t<div class=\"logo border-radius-0_8-rem overflow-hidden mb-3\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t<img alt=\"zano-logo\"\r\n\t\t\t\t\t src=\"assets/icons/blue/zano-logo.svg\">\r\n\t\t</div>\r\n\r\n\t\t<form (ngSubmit)=\"onSubmitCreatePass()\"\r\n\t\t\t\t\t*ngIf=\"type === 'reg'\"\r\n\t\t\t\t\t[formGroup]=\"regForm\"\r\n\t\t\t\t\tclass=\"form bg-light-blue-details\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"form__field--wrapper pt-2 pl-2 pr-2 pb-1 mb-2 bg-light-blue-details border-radius-0_8-rem overflow-hidden\">\r\n\t\t\t\t<div class=\"form__field mb-2\">\r\n\t\t\t\t\t<label for=\"master-pass\">{{ 'LOGIN.SETUP_MASTER_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"master-pass\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"regForm.controls['password'].dirty && regForm.controls['password'].errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"regForm.controls['password'].errors.pattern\">\r\n\t\t\t\t\t\t\t{{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"confirm-pass\">{{ 'LOGIN.SETUP_CONFIRM_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"confirmation\"\r\n\t\t\t\t\t\t\t\t id=\"confirm-pass\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"regForm.controls['password'].dirty && regForm.controls['confirmation'].dirty && regForm.errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"regForm.errors['mismatch']\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.MISMATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button [disabled]=\"!regForm.controls['password'].value.length || !regForm.controls['confirmation'].value.length || (regForm.errors && regForm.errors['mismatch']) || regForm.controls['password'].errors\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100 mb-1\"\r\n\t\t\t\t\t\t\ttype=\"submit\">{{\r\n\t\t\t\t'LOGIN.BUTTON_NEXT' | translate }}</button>\r\n\r\n\t\t\t<button (click)=\"onSkipCreatePass()\"\r\n\t\t\t\t\t\t\t[disabled]=\"regForm.controls['password'].value.length || regForm.controls['confirmation'].value.length\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t\t'LOGIN.BUTTON_SKIP' | translate }}</button>\r\n\r\n\t\t</form>\r\n\r\n\t\t<form (ngSubmit)=\"onSubmitAuthPass()\"\r\n\t\t\t\t\t*ngIf=\"type !== 'reg'\"\r\n\t\t\t\t\t[formGroup]=\"authForm\"\r\n\t\t\t\t\tclass=\"form\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"form__field--wrapper pt-2 pl-2 pr-2 pb-1 mb-2 bg-light-blue-details border-radius-0_8-rem overflow-hidden\">\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"master-pass-login\">{{ 'LOGIN.MASTER_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t autofocus\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"master-pass-login\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"authForm.controls['password'].invalid && (authForm.controls['password'].dirty || authForm.controls['password'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"authForm.controls['password'].hasError('wrong_password')\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.INVALID_PASS' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button class=\"primary big w-100 mb-1\"\r\n\t\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t\t{{'LOGIN.BUTTON_NEXT' | translate }}</button>\r\n\r\n\t\t\t<button (click)=\"dropSecureAppData()\"\r\n\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t{{ 'LOGIN.BUTTON_RESET' | translate }}</button>\r\n\t\t</form>\r\n\t</div>\r\n\r\n\t<app-synchronization-status class=\"max-w-19-rem\"></app-synchronization-status>\r\n</div>\r\n","import { Component, HostBinding, Input, NgZone, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\n\r\n@Component({\r\n  selector: 'app-open-wallet-modal',\r\n  templateUrl: './open-wallet-modal.component.html',\r\n  styleUrls: ['./open-wallet-modal.component.scss']\r\n})\r\nexport class OpenWalletModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Input() wallets;\r\n\r\n  wallet = {\r\n    name: '',\r\n    path: '',\r\n    pass: '',\r\n    notFound: false,\r\n    emptyPass: false\r\n  };\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backend: BackendService,\r\n    private translate: TranslateService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private renderer: Renderer2\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    if (this.wallets.length) {\r\n      this.wallet = this.wallets[0];\r\n      this.wallet.pass = '';\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  openWallet(): void {\r\n    if (this.wallets.length === 0) {\r\n      return;\r\n    }\r\n    this.backend.openWallet(\r\n      this.wallet.path,\r\n      this.wallet.pass,\r\n      this.variablesService.count,\r\n      false,\r\n      (open_status, open_data, open_error) => {\r\n        if (open_error && open_error === 'FILE_NOT_FOUND') {\r\n          this.ngZone.run(() => {\r\n            this.wallet.notFound = true;\r\n          });\r\n          let error_translate = this.translate.instant('OPEN_WALLET.FILE_NOT_FOUND1');\r\n          error_translate += ':<br>' + this.wallet.path;\r\n          error_translate += this.translate.instant('OPEN_WALLET.FILE_NOT_FOUND2');\r\n          this.modalService.prepareModal('error', error_translate);\r\n        } else {\r\n          if (open_status || open_error === 'FILE_RESTORED') {\r\n\r\n            let exists = false;\r\n            this.variablesService.wallets.forEach((wallet) => {\r\n              if (wallet.address === open_data['wi'].address) {\r\n                exists = true;\r\n              }\r\n            });\r\n\r\n            if (exists) {\r\n              this.modalService.prepareModal('error', 'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN');\r\n              this.backend.closeWallet(open_data.wallet_id);\r\n            } else {\r\n              const new_wallet = new Wallet(\r\n                open_data.wallet_id,\r\n                this.wallet.name,\r\n                this.wallet.pass,\r\n                open_data['wi'].path,\r\n                open_data['wi'].address,\r\n                open_data['wi'].balance,\r\n                open_data['wi'].unlocked_balance,\r\n                open_data['wi'].mined_total,\r\n                open_data['wi'].tracking_hey\r\n              );\r\n              new_wallet.alias = this.backend.getWalletAlias(new_wallet.address);\r\n              new_wallet.is_auditable = open_data['wi'].is_auditable;\r\n              new_wallet.is_watch_only = open_data['wi'].is_watch_only;\r\n              new_wallet.currentPage = 1;\r\n              new_wallet.exclude_mining_txs = false;\r\n              if (open_data.recent_history && open_data.recent_history.history) {\r\n                new_wallet.total_history_item = open_data.recent_history.total_history_items;\r\n                new_wallet.totalPages = Math.ceil(open_data.recent_history.total_history_items / this.variablesService.count);\r\n                new_wallet.totalPages > this.variablesService.maxPages\r\n                  ? new_wallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n                  : new_wallet.pages = new Array(new_wallet.totalPages).fill(1).map((value, index) => value + index);\r\n                new_wallet.prepareHistory(open_data.recent_history.history);\r\n              } else {\r\n                new_wallet.total_history_item = 0;\r\n                new_wallet.pages = new Array(1).fill(1);\r\n                new_wallet.totalPages = 1;\r\n              }\r\n              this.backend.getContracts(open_data.wallet_id, (contracts_status, contracts_data) => {\r\n                if (contracts_status && contracts_data.hasOwnProperty('contracts')) {\r\n                  this.ngZone.run(() => {\r\n                    new_wallet.prepareContractsAfterOpen(\r\n                      contracts_data.contracts,\r\n                      this.variablesService.exp_med_ts,\r\n                      this.variablesService.height_app,\r\n                      this.variablesService.settings.viewedContracts,\r\n                      this.variablesService.settings.notViewedContracts\r\n                    );\r\n                  });\r\n                }\r\n              });\r\n              this.variablesService.wallets.push(new_wallet);\r\n              this.backend.runWallet(open_data.wallet_id);\r\n              this.skipWallet();\r\n            }\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  skipWallet(): void {\r\n    this.ngZone.run(() => {\r\n      if (this.wallets.length) {\r\n        this.wallets.splice(0, 1);\r\n        this.ngOnInit();\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-34-rem max-h-100 w-100 scrolled-content\">\r\n\t<div class=\"wrapper w-100\">\r\n\t\t<h3 class=\"mb-2\">{{ 'OPEN_WALLET.MODAL.TITLE' | translate }}</h3>\r\n\r\n\t\t<div class=\"word-break-break-all mb-2\">{{ wallet.name }}</div>\r\n\t\t<div class=\"word-break-break-all mb-2\">{{ wallet.path }}</div>\r\n\r\n\t\t<form (ngSubmit)=\"openWallet()\"\r\n\t\t\t\t\tclass=\"form\"\r\n\t\t\t\t\tfxLayout=\"column\">\r\n\r\n\t\t\t<div *ngIf=\"!wallet.notFound\"\r\n\t\t\t\t\t class=\"form__field\">\r\n\t\t\t\t<label for=\"password\">{{ 'OPEN_WALLET.MODAL.LABEL' | translate }}</label>\r\n\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t [(ngModel)]=\"wallet.pass\"\r\n\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t id=\"password\"\r\n\t\t\t\t\t\t\t name=\"password\"\r\n\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t<div *ngIf=\"wallet.notFound\"\r\n\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t{{ 'OPEN_WALLET.MODAL.NOT_FOUND' | translate }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div fxLayout=\"row nowrap\" fxLayoutGap=\"1rem\">\r\n\t\t\t\t<button [disabled]=\"wallet.notFound\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\">{{ 'OPEN_WALLET.MODAL.OPEN' | translate }}</button>\r\n\t\t\t\t<button (click)=\"skipWallet()\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'OPEN_WALLET.MODAL.SKIP' | translate }}</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators, ValidationErrors } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-open-wallet',\r\n  templateUrl: './open-wallet.component.html',\r\n  styleUrls: ['./open-wallet.component.scss']\r\n})\r\nexport class OpenWalletComponent implements OnInit, OnDestroy {\r\n  queryRouting;\r\n\r\n  filePath: string;\r\n\r\n  openForm = new FormGroup({\r\n    name: new FormControl('', [Validators.required, (g: FormControl) => {\r\n      for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n        if (g.value === this.variablesService.wallets[i].name) {\r\n          return { 'duplicate': true };\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    password: new FormControl('')\r\n  });\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private location: Location,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.path) {\r\n        this.filePath = params.path;\r\n        let filename = '';\r\n        if (params.path.lastIndexOf('.') === -1) {\r\n          filename = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n        } else {\r\n          filename = params.path.substr(params.path.lastIndexOf('/') + 1, params.path.lastIndexOf('.') - 1 - params.path.lastIndexOf('/'));\r\n        }\r\n        if (filename.length > 25) {\r\n          filename = filename.slice(0, 25);\r\n        }\r\n        this.openForm.get('name').setValue(filename);\r\n        this.openForm.get('name').markAsTouched();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  openWallet(): void {\r\n    if (this.openForm.valid && this.openForm.get('name').value.length <= this.variablesService.maxWalletNameLength) {\r\n      this.backend.openWallet(\r\n        this.filePath,\r\n        this.openForm.get('password').value,\r\n        this.variablesService.count,\r\n        false,\r\n        (open_status, open_data, open_error) => {\r\n          if (open_error === 'WRONG_PASSWORD') {\r\n            this.ngZone.run(() => {\r\n              this.openForm.get('password').setErrors({\r\n                wrong_password: {\r\n                  text: 'Wrong password'\r\n                }\r\n              } as ValidationErrors);\r\n            });\r\n          }\r\n          if (open_error && open_error === 'FILE_NOT_FOUND') {\r\n            let error_translate = this.translate.instant('OPEN_WALLET.FILE_NOT_FOUND1');\r\n            error_translate += ':<br>' + this.filePath;\r\n            error_translate += this.translate.instant('OPEN_WALLET.FILE_NOT_FOUND2');\r\n            this.modalService.prepareModal('error', error_translate);\r\n          } else {\r\n            if (open_status || open_error === 'FILE_RESTORED') {\r\n\r\n              let exists = false;\r\n              this.variablesService.wallets.forEach((wallet) => {\r\n                if (wallet.address === open_data['wi'].address) {\r\n                  exists = true;\r\n                }\r\n              });\r\n\r\n              if (exists) {\r\n                this.modalService.prepareModal('error', 'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN');\r\n                this.backend.closeWallet(open_data.wallet_id, () => {\r\n                  this.ngZone.run(() => {\r\n                    this.router.navigate(['/']);\r\n                  });\r\n                });\r\n              } else {\r\n                const new_wallet = new Wallet(\r\n                  open_data.wallet_id,\r\n                  this.openForm.get('name').value,\r\n                  this.openForm.get('password').value,\r\n                  open_data['wi'].path,\r\n                  open_data['wi'].address,\r\n                  open_data['wi'].balance,\r\n                  open_data['wi'].unlocked_balance,\r\n                  open_data['wi'].mined_total,\r\n                  open_data['wi'].tracking_hey\r\n                );\r\n                new_wallet.alias = this.backend.getWalletAlias(new_wallet.address);\r\n                new_wallet.currentPage = 1;\r\n                new_wallet.open_from_exist = true;\r\n                new_wallet.exclude_mining_txs = false;\r\n                new_wallet.is_auditable = open_data['wi'].is_auditable;\r\n                new_wallet.is_watch_only = open_data['wi'].is_watch_only;\r\n                if (open_data.recent_history && open_data.recent_history.history) {\r\n                  new_wallet.total_history_item = open_data.recent_history.total_history_items;\r\n                  new_wallet.totalPages = Math.ceil(open_data.recent_history.total_history_items / this.variablesService.count);\r\n                  new_wallet.totalPages > this.variablesService.maxPages\r\n                    ? new_wallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n                    : new_wallet.pages = new Array(new_wallet.totalPages).fill(1).map((value, index) => value + index);\r\n                  new_wallet.prepareHistory(open_data.recent_history.history);\r\n                } else {\r\n                  new_wallet.total_history_item = 0;\r\n                  new_wallet.pages = new Array(1).fill(1);\r\n                  new_wallet.totalPages = 1;\r\n                }\r\n                this.backend.getContracts(open_data.wallet_id, (contracts_status, contracts_data) => {\r\n                  if (contracts_status && contracts_data.hasOwnProperty('contracts')) {\r\n                    this.ngZone.run(() => {\r\n                      new_wallet.prepareContractsAfterOpen(\r\n                        contracts_data.contracts,\r\n                        this.variablesService.exp_med_ts,\r\n                        this.variablesService.height_app,\r\n                        this.variablesService.settings.viewedContracts,\r\n                        this.variablesService.settings.notViewedContracts);\r\n                    });\r\n                  }\r\n                });\r\n                this.variablesService.wallets.push(new_wallet);\r\n                this.backend.runWallet(open_data.wallet_id, (run_status, run_data) => {\r\n                  if (run_status) {\r\n                    if (this.variablesService.appPass) {\r\n                      this.backend.storeSecureAppData();\r\n                    }\r\n                    this.ngZone.run(() => {\r\n                      this.variablesService.setCurrentWallet(open_data.wallet_id);\r\n                      this.router.navigate(['/wallet/']);\r\n                    });\r\n                  } else {\r\n                    console.log(run_data['error_code']);\r\n                  }\r\n                });\r\n              }\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.OPEN_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/add-wallet']\">{{'BREADCRUMBS.ADD_WALLET' | translate }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{'BREADCRUMBS.OPEN_WALLET' | translate}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form [formGroup]=\"openForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-name\">{{ 'OPEN_WALLET.NAME' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [maxLength]=\"variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"openForm.controls['name'].invalid && (openForm.controls['name'].dirty || openForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"openForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t{{ 'OPEN_WALLET.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"openForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'OPEN_WALLET.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"openForm.get('name').value.length >= variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'OPEN_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-password\">{{ 'OPEN_WALLET.PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PASS_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"openForm.controls['password'].invalid && (openForm.controls['password'].dirty || openForm.controls['password'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ openForm.controls['password']?.errors['wrong_password']?.text }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<button (click)=\"openWallet()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!openForm.valid\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{'OPEN_WALLET.BUTTON' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","export enum paths {\r\n  auth = 'auth',\r\n  addWallet = 'add-wallet',\r\n  login = 'login',\r\n  wallet = 'wallet',\r\n  create = 'create',\r\n  open = 'open',\r\n  restore = 'restore',\r\n  seedPhrase = 'seed-phrase',\r\n  details = 'details',\r\n  assignAlias = 'assign-alias',\r\n  editAlias = 'edit-alias',\r\n  transferAlias = 'transfer-alias',\r\n  settings = 'settings',\r\n  contacts = 'contacts',\r\n  addContacts = 'add-contacts',\r\n  editContacts = 'edit-contacts',\r\n  contactSend = 'contact-send',\r\n  import = 'import',\r\n  deeplink = 'deeplink',\r\n  uiKit = 'ui-kit'\r\n}\r\n\r\nexport enum pathsChildrenAuth {\r\n  noWallet = 'no-wallet',\r\n}\r\n\r\nexport enum pathsChildrenWallet {\r\n  send = 'send',\r\n  receive = 'receive',\r\n  history = 'history',\r\n  contracts = 'contracts',\r\n  staking = 'staking'\r\n}\r\n\r\nexport enum pathsChildrenContracts {\r\n  purchase = 'purchase'\r\n}\r\n","import { Component, HostListener, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Location } from '@angular/common';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-purchase',\r\n  templateUrl: './purchase.component.html',\r\n  styleUrls: ['./purchase.component.scss']\r\n})\r\nexport class PurchaseComponent implements OnInit, OnDestroy {\r\n  isOpen = false;\r\n\r\n  localAliases = [];\r\n\r\n  currentWalletId;\r\n\r\n  newPurchase = false;\r\n\r\n  actionData = null;\r\n\r\n  historyBlock;\r\n\r\n  sameAmountChecked = false;\r\n\r\n  additionalOptions = false;\r\n\r\n  currentContract = null;\r\n\r\n  showTimeSelect = false;\r\n\r\n  showNullify = false;\r\n\r\n  purchaseForm = new FormGroup({\r\n    description: new FormControl('', Validators.required),\r\n    seller: new FormControl('', [Validators.required, (g: FormControl) => {\r\n      if (g.value === this.variablesService.currentWallet.address) {\r\n        return { 'address_same': true };\r\n      }\r\n      return null;\r\n    }, (g: FormControl) => {\r\n      this.localAliases = [];\r\n      if (g.value) {\r\n        if (g.value.indexOf('@') !== 0) {\r\n          this.isOpen = false;\r\n          this.backend.validateAddress(g.value, (valid_status) => {\r\n            this.ngZone.run(() => {\r\n              if (valid_status === false) {\r\n                g.setErrors(Object.assign({ 'address_not_valid': true }, g.errors));\r\n              } else {\r\n                if (g.hasError('address_not_valid')) {\r\n                  delete g.errors['address_not_valid'];\r\n                  if (Object.keys(g.errors).length === 0) {\r\n                    g.setErrors(null);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n          return (g.hasError('address_not_valid')) ? { 'address_not_valid': true } : null;\r\n        } else {\r\n          this.isOpen = true;\r\n          this.localAliases = this.variablesService.aliases.filter((item) => {\r\n            return item.name.indexOf(g.value) > -1;\r\n          });\r\n          if (!(/^@?[a-z\\d\\-]{6,25}$/.test(g.value))) {\r\n            g.setErrors(Object.assign({ 'alias_not_valid': true }, g.errors));\r\n          } else {\r\n            this.backend.getAliasByName(g.value.replace('@', ''), (alias_status, alias_data) => {\r\n              this.ngZone.run(() => {\r\n                if (alias_status) {\r\n                  if (alias_data.address === this.variablesService.currentWallet.address) {\r\n                    g.setErrors(Object.assign({ 'address_same': true }, g.errors));\r\n                  }\r\n                  if (g.hasError('alias_not_valid')) {\r\n                    delete g.errors['alias_not_valid'];\r\n                    if (Object.keys(g.errors).length === 0) {\r\n                      g.setErrors(null);\r\n                    }\r\n                  }\r\n                } else {\r\n                  g.setErrors(Object.assign({ 'alias_not_valid': true }, g.errors));\r\n                }\r\n              });\r\n            });\r\n          }\r\n          return (g.hasError('alias_not_valid')) ? { 'alias_not_valid': true } : null;\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    amount: new FormControl(null, [Validators.required, (g: FormControl) => {\r\n      if (parseFloat(g.value) === 0) {\r\n        return { 'amount_zero': true };\r\n      }\r\n      return null;\r\n    }]),\r\n    yourDeposit: new FormControl(null, Validators.required),\r\n    sellerDeposit: new FormControl(null, Validators.required),\r\n    sameAmount: new FormControl({ value: false, disabled: false }),\r\n    comment: new FormControl(''),\r\n    fee: new FormControl(this.variablesService.default_fee),\r\n    time: new FormControl({ value: 12, disabled: false }),\r\n    timeCancel: new FormControl({ value: 12, disabled: false }),\r\n    payment: new FormControl(''),\r\n    password: new FormControl('')\r\n  });\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private location: Location,\r\n    private intToMoneyPipe: IntToMoneyPipe\r\n  ) {\r\n  }\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  onClick(targetElement): void {\r\n    if (targetElement.id !== 'purchase-seller' && this.isOpen) {\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe(params => {\r\n      if (params.hasOwnProperty('id')) {\r\n        this.currentContract = this.variablesService.currentWallet.getContract(params['id']);\r\n        this.purchaseForm.controls['seller'].setValidators([]);\r\n        this.purchaseForm.updateValueAndValidity();\r\n        this.purchaseForm.setValue({\r\n          description: this.currentContract.private_detailes.t,\r\n          seller: this.currentContract.private_detailes.b_addr,\r\n          amount: this.intToMoneyPipe.transform(this.currentContract.private_detailes.to_pay),\r\n          yourDeposit: this.intToMoneyPipe.transform(this.currentContract.private_detailes.a_pledge),\r\n          sellerDeposit: this.intToMoneyPipe.transform(this.currentContract.private_detailes.b_pledge),\r\n          sameAmount: this.currentContract.private_detailes.to_pay.isEqualTo(this.currentContract.private_detailes.b_pledge),\r\n          comment: this.currentContract.private_detailes.c,\r\n          fee: this.variablesService.default_fee,\r\n          time: 12,\r\n          timeCancel: 12,\r\n          payment: this.currentContract.payment_id,\r\n          password: this.variablesService.appPass\r\n        });\r\n        this.purchaseForm.get('sameAmount').disable();\r\n        this.newPurchase = false;\r\n\r\n        if (this.currentContract.is_new) {\r\n          if (this.currentContract.is_a && this.currentContract.state === 2) {\r\n            this.currentContract.state = 120;\r\n          }\r\n          if (\r\n            this.currentContract.state === 130 &&\r\n            this.currentContract.cancel_expiration_time !== 0 &&\r\n            this.currentContract.cancel_expiration_time < this.variablesService.exp_med_ts\r\n          ) {\r\n            this.currentContract.state = 2;\r\n          }\r\n          this.variablesService.settings.viewedContracts = (this.variablesService.settings.viewedContracts) ? this.variablesService.settings.viewedContracts : [];\r\n          let findViewedCont = false;\r\n          for (let j = 0; j < this.variablesService.settings.viewedContracts.length; j++) {\r\n            if (\r\n              this.variablesService.settings.viewedContracts[j].contract_id === this.currentContract.contract_id &&\r\n              this.variablesService.settings.viewedContracts[j].is_a === this.currentContract.is_a\r\n            ) {\r\n              this.variablesService.settings.viewedContracts[j].state = this.currentContract.state;\r\n              findViewedCont = true;\r\n              break;\r\n            }\r\n          }\r\n          if (!findViewedCont) {\r\n            this.variablesService.settings.viewedContracts.push({\r\n              contract_id: this.currentContract.contract_id,\r\n              is_a: this.currentContract.is_a,\r\n              state: this.currentContract.state\r\n            });\r\n          }\r\n          this.currentContract.is_new = false;\r\n          setTimeout(() => {\r\n            this.variablesService.currentWallet.recountNewContracts();\r\n          }, 0);\r\n        }\r\n        this.checkAndChangeHistory();\r\n      } else {\r\n        this.newPurchase = true;\r\n      }\r\n    });\r\n\r\n    this.variablesService.getHeightAppEvent.pipe(takeUntil(this.destroy$)).subscribe((newHeight: number) => {\r\n      if (this.currentContract && this.currentContract.state === 201 && this.currentContract.height !== 0 && (newHeight - this.currentContract.height) >= 10) {\r\n        this.currentContract.state = 2;\r\n        this.currentContract.is_new = true;\r\n        this.variablesService.currentWallet.recountNewContracts();\r\n      } else if (this.currentContract && this.currentContract.state === 601 && this.currentContract.height !== 0 && (newHeight - this.currentContract.height) >= 10) {\r\n        this.currentContract.state = 6;\r\n        this.currentContract.is_new = true;\r\n        this.variablesService.currentWallet.recountNewContracts();\r\n      }\r\n    });\r\n\r\n    if (this.variablesService.appPass) {\r\n      this.purchaseForm.controls.password.setValidators([Validators.required, (g: FormControl) => {\r\n        if (g.value) {\r\n          this.backend.checkMasterPassword({ pass: g.value }, (status) => {\r\n            this.ngZone.run(() => {\r\n              if (status === false) {\r\n                g.setErrors(\r\n                  Object.assign({ password_not_match: true }, g.errors)\r\n                );\r\n              } else {\r\n                if (g.hasError('password_not_match')) {\r\n                  delete g.errors['password_not_match'];\r\n                  if (Object.keys(g.errors).length === 0) {\r\n                    g.setErrors(null);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n          return g.hasError('password_not_match')\r\n            ? { password_not_match: true }\r\n            : null;\r\n        }\r\n        return null;\r\n      }]);\r\n    }\r\n    this.variablesService.sendActionData$.pipe(takeUntil(this.destroy$)).subscribe((res) => {\r\n      if (res.action === 'escrow') {\r\n        this.actionData = res;\r\n        this.fillDeepLinkData();\r\n        this.variablesService.sendActionData$.next({});\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  checkAndChangeHistory(): void {\r\n    if (this.currentContract.state === 201) {\r\n      this.historyBlock = this.variablesService.currentWallet.history.find(\r\n        item => item.tx_type === 8 && item.contract[0].contract_id === this.currentContract.contract_id && item.contract[0].is_a === this.currentContract.is_a);\r\n    } else if (this.currentContract.state === 601) {\r\n      this.historyBlock = this.variablesService.currentWallet.history.find(\r\n        item => item.tx_type === 12 && item.contract[0].contract_id === this.currentContract.contract_id && item.contract[0].is_a === this.currentContract.is_a);\r\n    }\r\n  }\r\n\r\n  addressMouseDown(e): void {\r\n    if (e['button'] === 0 && this.purchaseForm.get('seller').value && this.purchaseForm.get('seller').value.indexOf('@') === 0) {\r\n      this.isOpen = true;\r\n    }\r\n  }\r\n\r\n  setAlias(alias): void {\r\n    this.purchaseForm.get('seller').setValue(alias);\r\n  }\r\n\r\n  fillDeepLinkData(): void {\r\n    this.additionalOptions = true;\r\n    this.purchaseForm.get('description').setValue(this.actionData.description || '');\r\n    this.purchaseForm.get('seller').setValue(this.actionData.seller_address || '');\r\n    this.purchaseForm.get('amount').setValue(this.actionData.amount || '');\r\n    this.purchaseForm.get('yourDeposit').setValue(this.actionData.my_deposit || '');\r\n    this.purchaseForm.get('sellerDeposit').setValue(this.actionData.seller_deposit || '');\r\n    this.purchaseForm.get('comment').setValue(this.actionData.comment || this.actionData.comments || '');\r\n  }\r\n\r\n  toggleOptions(): void {\r\n    this.additionalOptions = !this.additionalOptions;\r\n  }\r\n\r\n  getProgressBarWidth(): string {\r\n    let progress = '0';\r\n    if (!this.newPurchase) {\r\n      if (this.currentContract) {\r\n        if (this.currentContract.state === 1) {\r\n          progress = '10%';\r\n        }\r\n        if (this.currentContract.state === 201) {\r\n          progress = '25%';\r\n        }\r\n        if ([120, 2].indexOf(this.currentContract.state) !== -1) {\r\n          progress = '50%';\r\n        }\r\n        if ([5, 601].indexOf(this.currentContract.state) !== -1) {\r\n          progress = '75%';\r\n        }\r\n        if ([110, 130, 140, 3, 4, 6].indexOf(this.currentContract.state) !== -1) {\r\n          progress = '100%';\r\n        }\r\n      }\r\n    }\r\n    return progress;\r\n  }\r\n\r\n  sameAmountChange(): void {\r\n    if (!this.sameAmountChecked) {\r\n      this.purchaseForm.get('sellerDeposit').clearValidators();\r\n      this.purchaseForm.get('sellerDeposit').updateValueAndValidity();\r\n      this.sameAmountChecked = !this.sameAmountChecked;\r\n    } else {\r\n      this.purchaseForm.get('sellerDeposit').setValidators([Validators.required]);\r\n      this.purchaseForm.get('sellerDeposit').updateValueAndValidity();\r\n      this.sameAmountChecked = !this.sameAmountChecked;\r\n    }\r\n  }\r\n\r\n  createPurchase(): void {\r\n    if (this.purchaseForm.valid) {\r\n      const {\r\n        amount,\r\n        comment,\r\n        description,\r\n        payment,\r\n        sameAmount,\r\n        seller,\r\n        sellerDeposit,\r\n        time,\r\n        yourDeposit\r\n      } = this.purchaseForm.value;\r\n\r\n      const { wallet_id, address } = this.variablesService.currentWallet;\r\n\r\n      const b_pledge = sameAmount ? amount : sellerDeposit;\r\n\r\n      const callback = (create_status) => {\r\n        if (create_status) {\r\n          this.back();\r\n        }\r\n      };\r\n\r\n      if (seller.indexOf('@') !== 0) {\r\n        this.backend.createProposal(\r\n          wallet_id,\r\n          description,\r\n          comment,\r\n          address,\r\n          seller,\r\n          amount,\r\n          yourDeposit,\r\n          b_pledge,\r\n          time,\r\n          payment,\r\n          callback);\r\n      } else {\r\n        this.backend.getAliasByName(seller.replace('@', ''), (alias_status, alias_data) => {\r\n          this.ngZone.run(() => {\r\n            if (!alias_status) {\r\n              this.ngZone.run(() => {\r\n                this.purchaseForm.get('seller').setErrors({ 'alias_not_valid': true });\r\n              });\r\n            } else {\r\n              this.backend.createProposal(\r\n                wallet_id,\r\n                description,\r\n                comment,\r\n                address,\r\n                alias_data.address,\r\n                amount,\r\n                yourDeposit,\r\n                b_pledge,\r\n                time,\r\n                payment,\r\n                callback);\r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n\r\n  acceptState(): void {\r\n    this.backend.acceptProposal(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id, (accept_status) => {\r\n      if (accept_status) {\r\n        this.modalService.prepareModal('info', 'PURCHASE.ACCEPT_STATE_WAIT_BIG');\r\n        this.back();\r\n      }\r\n    });\r\n  }\r\n\r\n  ignoredContract(): void {\r\n    this.variablesService.settings.notViewedContracts = (this.variablesService.settings.notViewedContracts) ? this.variablesService.settings.notViewedContracts : [];\r\n    let findViewedCont = false;\r\n    for (let j = 0; j < this.variablesService.settings.notViewedContracts.length; j++) {\r\n      if (\r\n        this.variablesService.settings.notViewedContracts[j].contract_id === this.currentContract.contract_id &&\r\n        this.variablesService.settings.notViewedContracts[j].is_a === this.currentContract.is_a\r\n      ) {\r\n        this.variablesService.settings.notViewedContracts[j].state = 110;\r\n        this.variablesService.settings.notViewedContracts[j].time = this.currentContract.expiration_time;\r\n        findViewedCont = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!findViewedCont) {\r\n      this.variablesService.settings.notViewedContracts.push({\r\n        contract_id: this.currentContract.contract_id,\r\n        is_a: this.currentContract.is_a,\r\n        state: 110,\r\n        time: this.currentContract.expiration_time\r\n      });\r\n    }\r\n    this.currentContract.is_new = true;\r\n    this.currentContract.state = 110;\r\n    this.currentContract.time = this.currentContract.expiration_time;\r\n\r\n    this.variablesService.currentWallet.recountNewContracts();\r\n    this.modalService.prepareModal('info', 'PURCHASE.IGNORED_ACCEPT');\r\n    this.back();\r\n  }\r\n\r\n  productNotGot(): void {\r\n    this.backend.releaseProposal(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id, 'REL_B',\r\n      (release_status) => {\r\n        if (release_status) {\r\n          this.modalService.prepareModal('info', 'PURCHASE.BURN_PROPOSAL');\r\n          this.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  dealsDetailsFinish(): void {\r\n    this.backend.releaseProposal(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id, 'REL_N',\r\n      (release_status) => {\r\n        if (release_status) {\r\n          this.modalService.prepareModal('success', 'PURCHASE.SUCCESS_FINISH_PROPOSAL');\r\n          this.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  dealsDetailsCancel(): void {\r\n    this.backend.requestCancelContract(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id,\r\n      this.purchaseForm.get('timeCancel').value, (cancel_status) => {\r\n        if (cancel_status) {\r\n          this.modalService.prepareModal('info', 'PURCHASE.SEND_CANCEL_PROPOSAL');\r\n          this.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  dealsDetailsDontCanceling(): void {\r\n    this.variablesService.settings.notViewedContracts = this.variablesService.settings.notViewedContracts ? this.variablesService.settings.notViewedContracts : [];\r\n    let findViewedCont = false;\r\n    for (let j = 0; j < this.variablesService.settings.notViewedContracts.length; j++) {\r\n      if (\r\n        this.variablesService.settings.notViewedContracts[j].contract_id === this.currentContract.contract_id &&\r\n        this.variablesService.settings.notViewedContracts[j].is_a === this.currentContract.is_a\r\n      ) {\r\n        this.variablesService.settings.notViewedContracts[j].state = 130;\r\n        this.variablesService.settings.notViewedContracts[j].time = this.currentContract.cancel_expiration_time;\r\n        findViewedCont = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!findViewedCont) {\r\n      this.variablesService.settings.notViewedContracts.push({\r\n        contract_id: this.currentContract.contract_id,\r\n        is_a: this.currentContract.is_a,\r\n        state: 130,\r\n        time: this.currentContract.cancel_expiration_time\r\n      });\r\n    }\r\n    this.currentContract.is_new = true;\r\n    this.currentContract.state = 130;\r\n    this.currentContract.time = this.currentContract.cancel_expiration_time;\r\n    this.variablesService.currentWallet.recountNewContracts();\r\n    this.modalService.prepareModal('info', 'PURCHASE.IGNORED_CANCEL');\r\n    this.back();\r\n  }\r\n\r\n  dealsDetailsSellerCancel() {\r\n    this.backend.acceptCancelContract(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id, (accept_status) => {\r\n      if (accept_status) {\r\n        this.modalService.prepareModal('info', 'PURCHASE.DEALS_CANCELED_WAIT');\r\n        this.back();\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"container\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\"\r\n\t\t fxLayoutAlign=\"start strech\">\r\n\t<div class=\"breadcrumbs mb-2\">\r\n\t\t<div class=\"breadcrumb\">\r\n\t\t\t<a [routerLink]=\"'/wallet/contracts'\">{{ 'BREADCRUMBS.CONTRACTS' | translate }}</a>\r\n\t\t</div>\r\n\t\t<div *ngIf=\"newPurchase\"\r\n\t\t\t\t class=\"breadcrumb\">\r\n\t\t\t<span>{{ 'BREADCRUMBS.NEW_PURCHASE' | translate }}</span>\r\n\t\t</div>\r\n\t\t<div *ngIf=\"!newPurchase\"\r\n\t\t\t\t class=\"breadcrumb\">\r\n\t\t\t<span>{{ 'BREADCRUMBS.OLD_PURCHASE' | translate }}</span>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"scrolled-content\">\r\n\t\t<div class=\"form-wrap\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayout=\"row\">\r\n\t\t\t<form [formGroup]=\"purchaseForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"purchase-description\">{{ 'PURCHASE.DESCRIPTION' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.DESCRIPTION_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"description\"\r\n\t\t\t\t\t\t\t\t id=\"purchase-description\"\r\n\t\t\t\t\t\t\t\t maxlength=\"100\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['description'].invalid && (purchaseForm.controls['description'].dirty || purchaseForm.controls['description'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"newPurchase && purchaseForm.controls['description'].value.length >= 100\">\r\n\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.COMMENT_MAXIMUM' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['description'].hasError('required')\">\r\n\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.DESC_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t<div class=\"form__field form__field-dropdown\">\r\n\t\t\t\t\t\t<label for=\"purchase-seller\">{{ 'PURCHASE.SELLER' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"(!newPurchase) ? variablesService.onContextMenuOnlyCopy($event, purchaseForm.controls['seller'].value) : variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t (mousedown)=\"addressMouseDown($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.SELLER_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"seller\"\r\n\t\t\t\t\t\t\t\t\t id=\"purchase-seller\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\r\n\t\t\t\t\t\t<div *ngIf=\"isOpen\"\r\n\t\t\t\t\t\t\t\t class=\"dropdown py-0_5 border-radius-0_8-rem bg-light-blue-details scrolled-content\">\r\n\t\t\t\t\t\t\t<div (click)=\"setAlias(item.name)\"\r\n\t\t\t\t\t\t\t\t\t *ngFor=\"let item of localAliases\"\r\n\t\t\t\t\t\t\t\t\t class=\"item p-1 text-ellipsis\">{{item.name}}</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].invalid && (purchaseForm.controls['seller'].dirty || purchaseForm.controls['seller'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].errors['address_not_valid']\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.SELLER_NOT_VALID' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].errors['address_same']\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.SELLER_SAME' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].errors['alias_not_valid']\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.ALIAS_NOT_VALID' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.SELLER_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"purchase-amount\">{{ 'PURCHASE.AMOUNT' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.AMOUNT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"amount\"\r\n\t\t\t\t\t\t\t\t\t id=\"purchase-amount\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['amount'].invalid && (purchaseForm.controls['amount'].dirty || purchaseForm.controls['amount'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['amount'].errors['amount_zero']\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.AMOUNT_ZERO' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['amount'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.AMOUNT_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\tfor=\"purchase-your-deposit\">{{ ((currentContract && !currentContract.is_a) ? 'PURCHASE.BUYER_DEPOSIT' :\r\n\t\t\t\t\t\t\t'PURCHASE.YOUR_DEPOSIT') | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.DEPOSIT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"yourDeposit\"\r\n\t\t\t\t\t\t\t\t\t id=\"purchase-your-deposit\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['yourDeposit'].invalid && (purchaseForm.controls['yourDeposit'].dirty || purchaseForm.controls['yourDeposit'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['yourDeposit'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.YOUR_DEPOSIT_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"purchase-seller-deposit\">{{ ((currentContract && !currentContract.is_a) ? 'PURCHASE.YOUR_DEPOSIT' :\r\n\t\t\t\t\t\t\t\t'PURCHASE.SELLER_DEPOSIT') | translate }}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<app-checkbox\r\n\t\t\t\t\t\t\t\t(emitChange)=\"sameAmountChange()\"\r\n\t\t\t\t\t\t\t\tclass=\"ml-2\"\r\n\t\t\t\t\t\t\t\tformControlName=\"sameAmount\"\r\n\t\t\t\t\t\t\t\tlabel=\"{{ 'PURCHASE.SAME_AMOUNT' | translate }}\">\r\n\t\t\t\t\t\t\t</app-checkbox>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.SELLER_DEPOSIT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t [value]=\"sameAmountChecked ? purchaseForm.controls['amount'].value : ''\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"sellerDeposit\"\r\n\t\t\t\t\t\t\t\t\t id=\"purchase-seller-deposit\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['sellerDeposit'].invalid && (purchaseForm.controls['sellerDeposit'].dirty || purchaseForm.controls['sellerDeposit'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['sellerDeposit'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.SELLER_DEPOSIT_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"purchase-comment\">{{ 'PURCHASE.COMMENT' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"comment\"\r\n\t\t\t\t\t\t\t\t id=\"purchase-comment\"\r\n\t\t\t\t\t\t\t\t maxlength=\"100\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.COMMENT_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"newPurchase && purchaseForm.controls['comment'].value.length >= 100\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.COMMENT_MAXIMUM' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"variablesService.appPass\"\r\n\t\t\t\t\t\t class=\"form__field max-w-50-rem\">\r\n\t\t\t\t\t<label for=\"password\">{{ 'LOGIN.MASTER_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t autofocus\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"password\"\r\n\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['password'].invalid && (purchaseForm.controls['password'].dirty || purchaseForm.controls['password'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['password'].hasError('required')\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.PASS_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div *ngIf=\"purchaseForm.controls.password.errors && purchaseForm.controls.password.errors.password_not_match\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.MISMATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"details mb-2\">\r\n\t\t\t\t\t<button (click)=\"toggleOptions()\"\r\n\t\t\t\t\t\t\t\t\t[class.border-radius-all]=\"!additionalOptions\"\r\n\t\t\t\t\t\t\t\t\tclass=\"header\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<span>{{ 'PURCHASE.DETAILS'| translate }}</span>\r\n\t\t\t\t\t\t<i [class.dropdown-arrow-down]=\"!additionalOptions\"\r\n\t\t\t\t\t\t\t [class.dropdown-arrow-up]=\"additionalOptions\"\r\n\t\t\t\t\t\t\t class=\"icon ml-1\"></i>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<div *ngIf=\"additionalOptions\"\r\n\t\t\t\t\t\t\t class=\"content\">\r\n\t\t\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t\t<label for=\"purchase-fee\">{{ 'PURCHASE.FEE' | translate }}</label>\r\n\t\t\t\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t\t formControlName=\"fee\"\r\n\t\t\t\t\t\t\t\t\t\t\t id=\"purchase-fee\"\r\n\t\t\t\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"newPurchase\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field\">\r\n\t\t\t\t\t\t\t\t<label for=\"purchase-time\">{{ 'PURCHASE.WAITING_TIME' | translate }}</label>\r\n\t\t\t\t\t\t\t\t<ng-select [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t class=\"custom-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t formControlName=\"time\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t id=\"purchase-time\">\r\n\t\t\t\t\t\t\t\t\t<ng-option [value]=\"1\">1 {{ 'PURCHASE.HOUR' | translate }}</ng-option>\r\n\t\t\t\t\t\t\t\t\t<ng-option *ngFor=\"let title of [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t [value]=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t{{title}} {{ 'PURCHASE.HOURS' | translate }}\r\n\t\t\t\t\t\t\t\t\t</ng-option>\r\n\t\t\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t\t<label for=\"purchase-payment\">{{ 'PURCHASE.PAYMENT' | translate }}</label>\r\n\t\t\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t\t formControlName=\"payment\"\r\n\t\t\t\t\t\t\t\t\t\t\t id=\"purchase-payment\"\r\n\t\t\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PURCHASE_PAYMENT_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button (click)=\"createPurchase()\"\r\n\t\t\t\t\t\t\t\t*ngIf=\"newPurchase\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!purchaseForm.valid\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.SEND_BUTTON' | translate }}</button>\r\n\r\n\t\t\t\t<div *ngIf=\"!newPurchase\"\r\n\t\t\t\t\t\t class=\"purchase-states mt-2 mb-2\"\r\n\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"currentContract.state == 1 && !currentContract.is_a && currentContract.private_detailes.b_pledge.plus(variablesService.default_fee_big).plus(variablesService.default_fee_big).isGreaterThan(variablesService.currentWallet.unlocked_balance)\">\r\n\t\t\t\t\t\t<span>{{ 'PURCHASE.NEED_MONEY' | translate }}</span>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"!newPurchase\"\r\n\t\t\t\t\t\t class=\"purchase-buttons\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\r\n\t\t\t\t\t<ng-container *ngIf=\"!currentContract.is_a && currentContract.state == 1\">\r\n\t\t\t\t\t\t<button (click)=\"acceptState();\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"currentContract.private_detailes.b_pledge.plus(variablesService.default_fee_big).plus(variablesService.default_fee_big).isGreaterThan(variablesService.currentWallet.unlocked_balance)\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_MAKE_PLEDGE' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button (click)=\"ignoredContract();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_IGNORE' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"!showNullify && !showTimeSelect && currentContract.is_a && (currentContract.state == 201 || currentContract.state == 2 || currentContract.state == 120 || currentContract.state == 130)\">\r\n\t\t\t\t\t\t<button (click)=\"dealsDetailsFinish();\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"currentContract.cancel_expiration_time == 0 && (currentContract.height == 0 || (variablesService.height_app - currentContract.height) < 10)\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_RECEIVED' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button (click)=\"showNullify = true;\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"currentContract.cancel_expiration_time == 0 && (currentContract.height == 0 || (variablesService.height_app - currentContract.height) < 10)\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_NULLIFY' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button (click)=\"showTimeSelect = true;\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"currentContract.cancel_expiration_time == 0 && (currentContract.height == 0 || (variablesService.height_app - currentContract.height) < 10)\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_CANCEL_BUYER' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t<ng-container *ngIf=\"!currentContract.is_a && currentContract.state == 5\">\r\n\t\t\t\t\t\t<button (click)=\"dealsDetailsDontCanceling();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_NOT_CANCEL' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button (click)=\"dealsDetailsSellerCancel();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_CANCEL_SELLER' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"showNullify\"\r\n\t\t\t\t\t\t class=\"nullify-block-row\"\r\n\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t<div>{{'PURCHASE.NULLIFY_QUESTION' | translate}}</div>\r\n\t\t\t\t\t<div class=\"nullify-block-buttons my-1 mx-0 w-100\"\r\n\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t<button (click)=\"showNullify = false;\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.CANCEL' | translate\r\n\t\t\t\t\t\t\t}}</button>\r\n\t\t\t\t\t\t<button (click)=\"productNotGot();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.BUTTON_NULLIFY_SHORT' |\r\n\t\t\t\t\t\t\ttranslate }}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"showTimeSelect && !newPurchase && currentContract.is_a && (currentContract.state == 201 || currentContract.state == 2 || currentContract.state == 120 || currentContract.state == 130)\"\r\n\t\t\t\t\t\t class=\"time-cancel-block-row\"\r\n\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t<div class=\"time-cancel-block-question mb-1\">{{ 'PURCHASE.WAITING_TIME_QUESTION' | translate }}</div>\r\n\t\t\t\t\t<label class=\"mb-1\"\r\n\t\t\t\t\t\t\t\t for=\"purchase-timeCancel\">{{ 'PURCHASE.WAITING_TIME' | translate }}</label>\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<ng-select [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t formControlName=\"timeCancel\"\r\n\t\t\t\t\t\t\t\t\t\t\t id=\"purchase-timeCancel\">\r\n\t\t\t\t\t\t\t<ng-option [value]=\"1\">1 {{ 'PURCHASE.HOUR' | translate }}</ng-option>\r\n\t\t\t\t\t\t\t<ng-option *ngFor=\"let title of [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t [value]=\"title\">\r\n\t\t\t\t\t\t\t\t{{title}} {{ 'PURCHASE.HOURS' | translate }}\r\n\t\t\t\t\t\t\t</ng-option>\r\n\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"time-cancel-block-buttons  my-1 mx-0 w-100\"\r\n\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t<button (click)=\"showTimeSelect = false;\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.CANCEL' | translate\r\n\t\t\t\t\t\t\t}}</button>\r\n\t\t\t\t\t\t<button (click)=\"dealsDetailsCancel();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.BUTTON_CANCEL_BUYER' |\r\n\t\t\t\t\t\t\ttranslate }}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- TODO - Do not delete, may be needed later. 12.05 decided to temporarily remove.  -->\r\n\t<!--    <div class=\"progress-bar-container\">-->\r\n\t<!--        <div class=\"progress-bar\">-->\r\n\t<!--            <div class=\"progress-bar-full\"-->\r\n\t<!--                 [style.width]=\"getProgressBarWidth()\"></div>-->\r\n\t<!--        </div>-->\r\n\t<!--        <div class=\"progress-labels h-100\" fxLayout=\"column\" fxLayoutAlign=\"center center\">-->\r\n\t<!--            <ng-container *ngIf=\"newPurchase\">-->\r\n\t<!--                <span>{{ 'PURCHASE.STATUS_MESSAGES.NEW_PURCHASE' | translate }}</span>-->\r\n\t<!--            </ng-container>-->\r\n\r\n\t<!--            <ng-container *ngIf=\"!newPurchase && currentContract.is_a\">-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 1\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_SELLER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 110\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_SELLER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 120\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_DELIVERY' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 130\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_CANCEL_SELLER' | translate-->\r\n\t<!--                    }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 140\">{{ 'PURCHASE.STATUS_MESSAGES.EXPIRED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 2\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_SELLER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 201\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_CONFIRMATION' | translate }}-->\r\n\t<!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n\t<!--        <ng-container-->\r\n\t<!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n\t<!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n\t<!--      </span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 3\">{{ 'PURCHASE.STATUS_MESSAGES.COMPLETED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 4\"-->\r\n\t<!--                      class=\"color-red\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.NOT_RECEIVED' | translate }}. {{ 'PURCHASE.STATUS_MESSAGES.NULLIFIED' | translate-->\r\n\t<!--                    }}-->\r\n\t<!--      </span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 5\">{{ 'PURCHASE.STATUS_MESSAGES.PROPOSAL_CANCEL_SELLER' | translate-->\r\n\t<!--                    }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 6\">{{ 'PURCHASE.STATUS_MESSAGES.CANCELLED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 601\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.BEING_CANCELLED' | translate }}-->\r\n\t<!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n\t<!--        <ng-container-->\r\n\t<!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n\t<!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n\t<!--      </span>-->\r\n\t<!--            </ng-container>-->\r\n\r\n\t<!--            <ng-container *ngIf=\"!newPurchase && !currentContract.is_a\">-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 1\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_BUYER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 110\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_BUYER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 130\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_CANCEL_BUYER' | translate-->\r\n\t<!--                    }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 140\">{{ 'PURCHASE.STATUS_MESSAGES.EXPIRED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 2\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_DELIVERY' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 201\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.WAITING_CONFIRMATION' | translate }}-->\r\n\t<!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n\t<!--        <ng-container-->\r\n\t<!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n\t<!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n\t<!--      </span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 3\">{{ 'PURCHASE.STATUS_MESSAGES.COMPLETED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 4\"-->\r\n\t<!--                      class=\"color-red\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.NOT_RECEIVED' | translate }}. {{ 'PURCHASE.STATUS_MESSAGES.NULLIFIED' | translate}}-->\r\n\t<!--      </span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 5\">{{ 'PURCHASE.STATUS_MESSAGES.PROPOSAL_CANCEL_BUYER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 6\">{{ 'PURCHASE.STATUS_MESSAGES.CANCELLED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 601\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.BEING_CANCELLED' | translate }}-->\r\n\t<!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n\t<!--        <ng-container-->\r\n\t<!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n\t<!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n\t<!--      </span>-->\r\n\t<!--            </ng-container>-->\r\n\t<!--        </div>-->\r\n\t<!--        <div class=\"progress-time\"-->\r\n\t<!--             *ngIf=\"!newPurchase\">-->\r\n\t<!--            <span *ngIf=\"currentContract.is_a && currentContract.state == 1\">-->\r\n\t<!--                {{currentContract.expiration_time | contractTimeLeft: 0}}-->\r\n\t<!--            </span>-->\r\n\t<!--            <span *ngIf=\"currentContract.is_a && currentContract.state == 5\">-->\r\n\t<!--                {{currentContract.cancel_expiration_time | contractTimeLeft: 2}}-->\r\n\t<!--            </span>-->\r\n\t<!--            <span *ngIf=\"!currentContract.is_a && currentContract.state == 1\">-->\r\n\t<!--                {{currentContract.expiration_time | contractTimeLeft: 1}}-->\r\n\t<!--            </span>-->\r\n\t<!--            <span *ngIf=\"!currentContract.is_a && currentContract.state == 5\">-->\r\n\t<!--                {{currentContract.cancel_expiration_time | contractTimeLeft: 1}}-->\r\n\t<!--            </span>-->\r\n\t<!--        </div>-->\r\n\t<!--    </div>-->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport QRCode from 'qrcode';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { RCV_ADDR_QR_SCALE } from '../_shared/constants';\r\n\r\n@Component({\r\n  selector: 'app-receive',\r\n  templateUrl: './receive.component.html',\r\n  styleUrls: ['./receive.component.scss']\r\n})\r\nexport class ReceiveComponent implements OnInit {\r\n  qrImageSrc: string;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    QRCode.toDataURL(this.variablesService.currentWallet.address, {\r\n      width: 200 * RCV_ADDR_QR_SCALE,\r\n      height: 200 * RCV_ADDR_QR_SCALE\r\n    }).then(url => {\r\n      this.qrImageSrc = url;\r\n    }).catch(err => {\r\n      console.error(err);\r\n    });\r\n  }\r\n}\r\n","<div class=\"container overflow-auto\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\"\r\n\t\t fxLayoutAlign=\"center center\">\r\n\t<div class=\"wrap-qr overflow-hidden border-radius-0_8-rem mb-2\"\r\n\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t fxLayout=\"column\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<img alt=\"qr-code\"\r\n\t\t\t\t src=\"{{qrImageSrc}}\">\r\n\t</div>\r\n\r\n\t<div class=\"address border-radius-0_8-rem overflow-hidden pl-1 pr-0_5 pt-0_5 pb-0_5\"\r\n\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"space-between center\">\r\n        <span\r\n\t\t\t\t\t[delay]=\"150\"\r\n\t\t\t\t\t[placement]=\"'bottom'\"\r\n\t\t\t\t\t[timeout]=\"0\"\r\n\t\t\t\t\t[tooltipClass]=\"'table-tooltip'\"\r\n\t\t\t\t\t[tooltip]=\"variablesService.currentWallet.address\"\r\n\t\t\t\t\tclass=\"text-ellipsis mr-1\">{{ variablesService.currentWallet.address | zanoShortString: 9: 9 }}</span>\r\n\t\t<app-copy-button\r\n\t\t\t[value]=\"variablesService.currentWallet.address\">\r\n\t\t</app-copy-button>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { pairwise, startWith, takeUntil } from 'rxjs/operators';\r\nimport { Location } from '@angular/common';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-restore-wallet',\r\n  templateUrl: './restore-wallet.component.html',\r\n  styleUrls: ['./restore-wallet.component.scss'],\r\n})\r\nexport class RestoreWalletComponent implements OnInit, OnDestroy {\r\n  restoreForm = new FormGroup(\r\n    {\r\n      name: new FormControl('', [\r\n        Validators.required,\r\n        (g: FormControl) => {\r\n          for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n            if (g.value === this.variablesService.wallets[i].name) {\r\n              return { duplicate: true };\r\n            }\r\n          }\r\n          return null;\r\n        },\r\n      ]),\r\n      key: new FormControl('', Validators.required),\r\n      password: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n      confirm: new FormControl(''),\r\n      seedPassword: new FormControl('', Validators.pattern(this.variablesService.pattern)),\r\n    },\r\n    function (g: FormGroup) {\r\n      return g.get('password').value === g.get('confirm').value\r\n        ? null\r\n        : { confirm_mismatch: true };\r\n    }\r\n  );\r\n\r\n  wallet = {\r\n    id: '',\r\n  };\r\n\r\n  walletSaved = false;\r\n\r\n  walletSavedName = '';\r\n\r\n  progressWidth = '9rem';\r\n\r\n  seedPhraseInfo = null;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private location: Location,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.checkValidSeedPhrasePassword();\r\n    this.changeDetectionSeedPhrasePassword();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  changeDetectionSeedPhrasePassword(): void {\r\n    this.restoreForm.controls.seedPassword.valueChanges\r\n      .pipe(startWith(null), pairwise(), takeUntil(this.destroy$))\r\n      .subscribe(() => {\r\n        this.checkValidSeedPhrasePassword();\r\n      });\r\n    this.restoreForm.controls.key.valueChanges\r\n      .pipe(startWith(null), pairwise(), takeUntil(this.destroy$))\r\n      .subscribe(() => {\r\n        this.checkValidSeedPhrasePassword();\r\n      });\r\n  }\r\n\r\n  checkValidSeedPhrasePassword(): void {\r\n    const seed_password = this.restoreForm.controls.seedPassword.value;\r\n    const seed_phrase = this.restoreForm.controls.key.value;\r\n    this.backend.getSeedPhraseInfo({ seed_phrase, seed_password }, (status, data) => {\r\n      this.ngZone.run(() => {\r\n        this.seedPhraseInfo = data;\r\n      });\r\n    });\r\n  }\r\n\r\n  createWallet(): void {\r\n    this.ngZone.run(() => {\r\n      this.progressWidth = '100%';\r\n      this.runWallet();\r\n    });\r\n  }\r\n\r\n  saveWallet(): void {\r\n    if (\r\n      this.restoreForm.valid &&\r\n      this.restoreForm.get('name').value.length <=\r\n      this.variablesService.maxWalletNameLength\r\n    ) {\r\n      this.backend.isValidRestoreWalletText(\r\n        {\r\n          seed_phrase: this.restoreForm.get('key').value,\r\n          seed_password: this.restoreForm.get('seedPassword').value,\r\n        },\r\n        (valid_status, valid_data) => {\r\n          if (valid_data !== 'TRUE') {\r\n            this.ngZone.run(() => {\r\n              this.restoreForm.get('key').setErrors({ key_not_valid: true });\r\n            });\r\n          } else {\r\n            this.backend.saveFileDialog(\r\n              this.translate.instant('RESTORE_WALLET.CHOOSE_PATH'),\r\n              '*',\r\n              this.variablesService.settings.default_path,\r\n              (save_status, save_data) => {\r\n                if (save_status) {\r\n                  this.variablesService.settings.default_path = save_data.path.substr(\r\n                    0,\r\n                    save_data.path.lastIndexOf('/')\r\n                  );\r\n                  this.walletSavedName = save_data.path.substr(\r\n                    save_data.path.lastIndexOf('/') + 1,\r\n                    save_data.path.length - 1\r\n                  );\r\n                  this.backend.restoreWallet(\r\n                    save_data.path,\r\n                    this.restoreForm.get('password').value,\r\n                    this.restoreForm.get('key').value,\r\n                    this.restoreForm.get('seedPassword').value,\r\n                    (restore_status, restore_data) => {\r\n                      if (restore_status) {\r\n                        this.wallet.id = restore_data.wallet_id;\r\n                        this.variablesService.opening_wallet = new Wallet(\r\n                          restore_data.wallet_id,\r\n                          this.restoreForm.get('name').value,\r\n                          this.restoreForm.get('password').value,\r\n                          restore_data['wi'].path,\r\n                          restore_data['wi'].address,\r\n                          restore_data['wi'].balance,\r\n                          restore_data['wi'].unlocked_balance,\r\n                          restore_data['wi'].mined_total,\r\n                          restore_data['wi'].tracking_hey\r\n                        );\r\n                        this.variablesService.opening_wallet.is_auditable =\r\n                          restore_data['wi'].is_auditable;\r\n                        this.variablesService.opening_wallet.is_watch_only =\r\n                          restore_data['wi'].is_watch_only;\r\n                        this.variablesService.opening_wallet.currentPage = 1;\r\n                        this.variablesService.opening_wallet.alias = this.backend.getWalletAlias(\r\n                          this.variablesService.opening_wallet.address\r\n                        );\r\n                        this.variablesService.opening_wallet.pages = new Array(\r\n                          1\r\n                        ).fill(1);\r\n                        this.variablesService.opening_wallet.totalPages = 1;\r\n                        this.variablesService.opening_wallet.currentPage = 1;\r\n                        this.variablesService.opening_wallet.total_history_item = 0;\r\n                        this.variablesService.opening_wallet.restore = true;\r\n                        if (\r\n                          restore_data.recent_history &&\r\n                          restore_data.recent_history.history\r\n                        ) {\r\n                          this.variablesService.opening_wallet.totalPages = Math.ceil(\r\n                            restore_data.recent_history.total_history_items /\r\n                            this.variablesService.count\r\n                          );\r\n                          this.variablesService.opening_wallet.totalPages >\r\n                          this.variablesService.maxPages\r\n                            ? (this.variablesService.opening_wallet.pages = new Array(\r\n                              5\r\n                            )\r\n                              .fill(1)\r\n                              .map((value, index) => value + index))\r\n                            : (this.variablesService.opening_wallet.pages = new Array(\r\n                              this.variablesService.opening_wallet.totalPages\r\n                            )\r\n                              .fill(1)\r\n                              .map((value, index) => value + index));\r\n                          this.variablesService.opening_wallet.prepareHistory(\r\n                            restore_data.recent_history.history\r\n                          );\r\n                        }\r\n                        this.backend.getContracts(\r\n                          this.variablesService.opening_wallet.wallet_id,\r\n                          (contracts_status, contracts_data) => {\r\n                            if (\r\n                              contracts_status &&\r\n                              contracts_data.hasOwnProperty('contracts')\r\n                            ) {\r\n                              this.ngZone.run(() => {\r\n                                this.variablesService.opening_wallet.prepareContractsAfterOpen(\r\n                                  contracts_data.contracts,\r\n                                  this.variablesService.exp_med_ts,\r\n                                  this.variablesService.height_app,\r\n                                  this.variablesService.settings\r\n                                    .viewedContracts,\r\n                                  this.variablesService.settings\r\n                                    .notViewedContracts\r\n                                );\r\n                              });\r\n                            }\r\n                          }\r\n                        );\r\n                        this.ngZone.run(() => {\r\n                          this.walletSaved = true;\r\n                          this.progressWidth = '50%';\r\n                        });\r\n                      } else {\r\n                        this.modalService.prepareModal(\r\n                          'error',\r\n                          'RESTORE_WALLET.NOT_CORRECT_FILE_OR_PASSWORD'\r\n                        );\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  runWallet(): void {\r\n    // add flag when wallet was restored form seed\r\n    this.variablesService.after_sync_request[this.wallet.id] = true;\r\n    let exists = false;\r\n    this.variablesService.wallets.forEach((wallet) => {\r\n      if (wallet.address === this.variablesService.opening_wallet.address) {\r\n        exists = true;\r\n      }\r\n    });\r\n    if (!exists) {\r\n      this.backend.runWallet(this.wallet.id, (run_status, run_data) => {\r\n        if (run_status) {\r\n          this.variablesService.wallets.push(\r\n            this.variablesService.opening_wallet\r\n          );\r\n          if (this.variablesService.appPass) {\r\n            this.backend.storeSecureAppData();\r\n          }\r\n          this.ngZone.run(() => {\r\n            this.variablesService.setCurrentWallet(this.wallet.id);\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n        } else {\r\n          console.log(run_data['error_code']);\r\n        }\r\n      });\r\n    } else {\r\n      this.variablesService.opening_wallet = null;\r\n      this.modalService.prepareModal(\r\n        'error',\r\n        'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN'\r\n      );\r\n      this.backend.closeWallet(this.wallet.id, () => {\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/']);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/add-wallet']\">{{'BREADCRUMBS.ADD_WALLET' | translate }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{'BREADCRUMBS.RESTORE_WALLET' | translate}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form [formGroup]=\"restoreForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-name\">{{ 'RESTORE_WALLET.LABEL_NAME' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [maxLength]=\"variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"restoreForm.controls['name'].invalid && (restoreForm.controls['name'].dirty || restoreForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.get('name').value.length >= variablesService.maxWalletNameLength\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.get('name').value.length >= variablesService.maxWalletNameLength\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-password\">{{ 'RESTORE_WALLET.PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.WALET_PASSWORD_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"restoreForm.controls['password'].dirty && restoreForm.controls['password'].errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.controls['password'].errors.pattern\">\r\n\t\t\t\t\t\t\t{{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"confirm-wallet-password\">{{ 'RESTORE_WALLET.CONFIRM' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [class.invalid]=\"restoreForm.controls['password'].dirty && restoreForm.controls['confirm'].dirty && restoreForm.errors && restoreForm.get('confirm').value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"confirm\"\r\n\t\t\t\t\t\t\t\t id=\"confirm-wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.CONFIRM_WALET_PASSWORD_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"restoreForm.controls['password'].dirty && restoreForm.controls['confirm'].dirty && restoreForm.errors && restoreForm.get('confirm').value.length > 0\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.errors['confirm_mismatch']\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.CONFIRM_NOT_MATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"phrase-key\">{{ 'RESTORE_WALLET.LABEL_PHRASE_KEY' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.SEED_PHRASE_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"key\"\r\n\t\t\t\t\t\t\t\t id=\"phrase-key\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"restoreForm.controls['key'].invalid && (restoreForm.controls['key'].dirty || restoreForm.controls['key'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.controls['key'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.KEY_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"(restoreForm.controls['key'].dirty || restoreForm.controls['key'].touched) && !this.seedPhraseInfo?.syntax_correct\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'Seed phrase not valid' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div *ngIf=\"this.seedPhraseInfo?.syntax_correct && this.seedPhraseInfo?.require_password\"\r\n\t\t\t\t\t\t class=\"form__field\">\r\n\t\t\t\t\t<label for=\"seed-password\">{{ 'RESTORE_WALLET.SEED_PASSWORD' | translate }}</label>\r\n\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"seedPassword\"\r\n\t\t\t\t\t\t\t\t id=\"seed-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.SEED_PHRASE_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"(restoreForm.controls['seedPassword'].dirty || restoreForm.controls['seedPassword'].touched) && !this.seedPhraseInfo?.hash_sum_matched\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<span>{{ 'RESTORE_WALLET.FORM_ERRORS.INCORRECT_PASSWORD' | translate }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"this.seedPhraseInfo?.hash_sum_matched\"\r\n\t\t\t\t\t\t\t class=\"success\">\r\n\t\t\t\t\t\t<span>{{ 'RESTORE_WALLET.OK' | translate }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<button *ngIf=\"walletSaved\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t<i class=\"icon\"></i>\r\n\t\t\t\t\t{{walletSavedName}}\r\n\t\t\t\t</button>\r\n\t\t\t\t<button (click)=\"saveWallet()\"\r\n\t\t\t\t\t\t\t\t*ngIf=\"!walletSaved\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"(!this.seedPhraseInfo?.syntax_correct || !this.seedPhraseInfo?.require_password || !this.seedPhraseInfo?.hash_sum_matched) && (!this.seedPhraseInfo?.syntax_correct || this.seedPhraseInfo?.require_password)\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'RESTORE_WALLET.BUTTON_SELECT' | translate }}</button>\r\n\t\t\t\t<button (click)=\"createWallet()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!walletSaved\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{'RESTORE_WALLET.BUTTON_CREATE' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-seed-phrase',\r\n  templateUrl: './seed-phrase.component.html',\r\n  styleUrls: ['./seed-phrase.component.scss']\r\n})\r\nexport class SeedPhraseComponent implements OnInit, OnDestroy {\r\n  queryRouting;\r\n\r\n  seedPhrase = '';\r\n\r\n  showSeed = false;\r\n\r\n  wallet_id: number;\r\n\r\n  seedPhraseCopied = false;\r\n\r\n  progressWidth = '66%';\r\n\r\n  detailsForm = new FormGroup({\r\n    name: new FormControl('', [\r\n      Validators.required,\r\n      (g: FormControl) => {\r\n        for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n          if (g.value === this.variablesService.wallets[i].name) {\r\n            if (\r\n              this.variablesService.wallets[i].wallet_id ===\r\n              this.variablesService.currentWallet.wallet_id\r\n            ) {\r\n              return { same: true };\r\n            } else {\r\n              return { duplicate: true };\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      },\r\n    ]),\r\n    path: new FormControl(''),\r\n  });\r\n\r\n  seedPhraseForm = new FormGroup(\r\n    {\r\n      password: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n      confirmPassword: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n    },\r\n    { validators: this.checkPasswords }\r\n  );\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private location: Location,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.showSeed = false;\r\n    this.getWalletId();\r\n    this.setWalletInfoNamePath();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  checkPasswords(group: FormGroup) {\r\n    const pass = group.controls.password.value;\r\n    const confirmPass = group.controls.confirmPassword.value;\r\n\r\n    return pass === confirmPass ? null : { notSame: true };\r\n  }\r\n\r\n  runWallet(): void {\r\n    let exists = false;\r\n    this.variablesService.wallets.forEach((wallet) => {\r\n      if (wallet.address === this.variablesService.opening_wallet.address) {\r\n        exists = true;\r\n      }\r\n    });\r\n    if (!exists) {\r\n      this.backend.runWallet(this.wallet_id, (run_status, run_data) => {\r\n        if (run_status) {\r\n          this.variablesService.wallets.push(this.variablesService.opening_wallet);\r\n          if (this.variablesService.appPass) {\r\n            this.backend.storeSecureAppData();\r\n          }\r\n          this.ngZone.run(() => {\r\n            this.variablesService.setCurrentWallet(this.wallet_id);\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n        } else {\r\n          console.log(run_data['error_code']);\r\n        }\r\n      });\r\n    } else {\r\n      this.variablesService.opening_wallet = null;\r\n      this.modalService.prepareModal('error', 'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN');\r\n      this.backend.closeWallet(this.wallet_id, () => {\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/']);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  copySeedPhrase(): void {\r\n    this.backend.setClipboard(this.seedPhrase, () => {\r\n      this.ngZone.run(() => {\r\n        setTimeout(() => {\r\n          this.seedPhraseCopied = false;\r\n        }, 4000);\r\n        this.seedPhraseCopied = true;\r\n      });\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n\r\n  showSeedPhrase(): void {\r\n    this.showSeed = true;\r\n    this.progressWidth = '100%';\r\n  }\r\n\r\n  onSubmitSeed(): void {\r\n    if (this.seedPhraseForm.valid) {\r\n      this.showSeedPhrase();\r\n      const wallet_id = this.wallet_id;\r\n      const seed_password = this.seedPhraseForm.controls.password.value;\r\n      this.backend.getSmartWalletInfo(\r\n        { wallet_id, seed_password },\r\n        (status, data) => {\r\n          if (data.hasOwnProperty('seed_phrase')) {\r\n            this.ngZone.run(() => {\r\n              this.seedPhrase = data['seed_phrase'].trim();\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  private setWalletInfoNamePath(): void {\r\n    this.detailsForm\r\n      .get('name')\r\n      .setValue(this.variablesService.opening_wallet.name);\r\n    this.detailsForm\r\n      .get('path')\r\n      .setValue(this.variablesService.opening_wallet.path);\r\n  }\r\n\r\n  private getWalletId(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.wallet_id) {\r\n        this.wallet_id = params.wallet_id;\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/add-wallet']\">{{'BREADCRUMBS.ADD_WALLET' | translate }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{'BREADCRUMBS.SAVE_PHRASE' | translate}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<div class=\"wrap-seed-phrase\"\r\n\t\t\t\t\t fxFlex=\"100\"\r\n\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t<form [formGroup]=\"detailsForm\"\r\n\t\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label>{{ 'WALLET_DETAILS.LABEL_NAME' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [maxLength]=\"variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].invalid && (detailsForm.controls['name'].dirty || detailsForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.get('name').value.length >= variablesService.maxWalletNameLength\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"wallet-location\">{{ 'WALLET_DETAILS.LABEL_FILE_LOCATION' | translate }}</label>\r\n\t\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"path\"\r\n\t\t\t\t\t\t\t\t\t id=\"wallet-location\"\r\n\t\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<ng-container *ngIf=\"!showSeed else seedPhraseContent\">\r\n\t\t\t\t\t<form (ngSubmit)=\"onSubmitSeed()\"\r\n\t\t\t\t\t\t\t\t[formGroup]=\"seedPhraseForm\"\r\n\t\t\t\t\t\t\t\tclass=\"form bg-light-blue-details p-2\">\r\n\r\n\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t<label for=\"create-password\">{{ 'WALLET_DETAILS.CREATE_PASSWORD_SECURE' | translate }}</label>\r\n\t\t\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t id=\"create-password\"\r\n\t\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PASSWORD_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t<label for=\"confirm-password\">{{ 'WALLET_DETAILS.FORM.CONFIRM_PASSWORD' | translate }}</label>\r\n\t\t\t\t\t\t\t<input [class.invalid]=\"seedPhraseForm.invalid && seedPhraseForm.get('confirmPassword').value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t formControlName=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t id=\"confirm-password\"\r\n\t\t\t\t\t\t\t\t\t\t placeholder=\"{{'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate}}\"\r\n\t\t\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"seedPhraseForm.invalid && (seedPhraseForm.controls['confirmPassword'].dirty || seedPhraseForm.controls['confirmPassword'].touched)\"\r\n\t\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t\t<div *ngIf=\"seedPhraseForm.invalid && seedPhraseForm.get('confirmPassword').value.length > 0\">\r\n\t\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.PASSWORDS_DONT_MATCH' | translate }}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button [disabled]=\"!seedPhraseForm.valid\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary w-100 big mb-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t\t\t\t\t<i class=\"icon check-shield mr-1\"></i>\r\n\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM.GENERATE_SECURE_SEED' | translate }}\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<p class=\"text-align-center color-primary\">\r\n\t\t\t\t\t\t\t<i class=\"icon info-circle mr-1\"></i>\r\n\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM.SECURED_SEED_WILL_REQUIRE' | translate }}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-template #seedPhraseContent>\r\n\t\t\t\t\t<div class=\"seed-phrase bg-light-blue-details p-2 border-radius-0_8-rem\">\r\n\t\t\t\t\t\t<div class=\"header mb-2\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t\t<span>{{ 'WALLET_DETAILS.LABEL_SEED_PHRASE' | translate }}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right\">\r\n                                <span *ngIf=\"seedPhraseForm.controls.password.value.length == 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"status color-red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n                                    {{ 'WALLET_DETAILS.SEED_IS_UNSECURED' | translate }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon unsecured ml-1\"></i>\r\n                                </span>\r\n\t\t\t\t\t\t\t\t<span *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"status color-aqua\"\r\n\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n                                    {{ 'WALLET_DETAILS.SEED_IS_SECURED' | translate }}\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon secured ml-1\"></i>\r\n                                </span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, seedPhrase)\"\r\n\t\t\t\t\t\t\t\t class=\"content mb-1\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row wrap\">\r\n\t\t\t\t\t\t\t<ng-container *ngFor=\"let word of seedPhrase.split(' '); let index = index\">\r\n\t\t\t\t\t\t\t\t<div class=\"item p-1 mr-1 mb-1 border-radius-0_8-rem\"\r\n\t\t\t\t\t\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"number p-1 mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">{{ index + 1 }}</div>\r\n\t\t\t\t\t\t\t\t\t<span class=\"word\">{{ word }}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"footer max-w-50-rem w-100\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"showSeed\"\r\n\t\t\t\t\t\t\t\t\t class=\"wrap-buttons w-100 mb-2\"\r\n\t\t\t\t\t\t\t\t\t fxLayout=\"row nowrap\">\r\n\t\t\t\t\t\t\t\t<button (click)=\"runWallet()\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"primary big w-100 mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t\t\t\t\t\t\t'SEED_PHRASE.BUTTON_CREATE_ACCOUNT' | translate }}</button>\r\n\t\t\t\t\t\t\t\t<button (click)=\"copySeedPhrase()\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"outline big w-100 ml-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"!seedPhraseCopied\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"icon copy mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t{{ 'SEED_PHRASE.BUTTON_COPY' | translate }}\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"seedPhraseCopied\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"icon check mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t{{ 'SEED_PHRASE.BUTTON_COPIED' | translate }}\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"text-align-center\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon info-circle mr-1\"></i>\r\n\t\t\t\t\t\t\t\t<span class=\"color-primary\">{{ 'WALLET_DETAILS.REMEMBER_YOU_WILL_REQUIRE' | translate}}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</ng-template>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2, ViewChild } from '@angular/core';\r\nimport { AsyncCommandResults, BackendService, CurrentActionState, ResponseAsyncTransfer, StatusCurrentActionState } from '../_helpers/services/backend.service';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\n\r\nconst successfulStatuses: string[] = [\r\n  StatusCurrentActionState.STATE_SENDING,\r\n  StatusCurrentActionState.STATE_SENT_SUCCESS,\r\n  StatusCurrentActionState.STATE_INITIALIZING,\r\n  StatusCurrentActionState.STATE_DOWNLOADING_CONSENSUS,\r\n  StatusCurrentActionState.STATE_MAKING_TUNNEL_A,\r\n  StatusCurrentActionState.STATE_MAKING_TUNNEL_B,\r\n  StatusCurrentActionState.STATE_CREATING_STREAM,\r\n  StatusCurrentActionState.STATE_SUCCESS\r\n];\r\n\r\nconst failedStatuses: string[] = [StatusCurrentActionState.STATE_SEND_FAILED, StatusCurrentActionState.STATE_FAILED];\r\n\r\n@Component({\r\n  selector: 'app-send-details-modal',\r\n  templateUrl: './send-details-modal.component.html',\r\n  styleUrls: ['./send-details-modal.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SendDetailsModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  /** Working id is traceable */\r\n  @Input() job_id: number;\r\n\r\n  @Output() close: EventEmitter<never> = new EventEmitter<never>();\r\n\r\n  @ViewChild('elDetailsList', { static: true }) elDetailsList: ElementRef;\r\n\r\n  /** BehaviorSubject with ResponseAsyncTransfer */\r\n  responseData$ = new BehaviorSubject<ResponseAsyncTransfer>(null);\r\n\r\n  /** BehaviorSubject flag for stateDetails */\r\n  stateDetails$ = new BehaviorSubject<boolean>(false);\r\n\r\n  /** BehaviorSubject with CurrentActionState */\r\n  currentActionState$ = new BehaviorSubject<CurrentActionState>(null);\r\n\r\n  /** BehaviorSubject with CurrentActionState[] */\r\n  currentActionStates$ = new BehaviorSubject<CurrentActionState[]>([]);\r\n\r\n  private destroy$: Subject<void> = new Subject<void>();\r\n\r\n  constructor(\r\n    private backendService: BackendService,\r\n    private variablesService: VariablesService,\r\n    private renderer: Renderer2) {\r\n  }\r\n\r\n  get currentActionState(): CurrentActionState {\r\n    return this.currentActionState$.value;\r\n  }\r\n\r\n  get currentActionStates(): CurrentActionState[] {\r\n    return this.currentActionStates$.value;\r\n  }\r\n\r\n  /** True, if currentActionState.status = success */\r\n  get isSentSuccess(): boolean {\r\n    return this.currentActionState && this.currentActionState.status === StatusCurrentActionState.STATE_SENT_SUCCESS;\r\n  }\r\n\r\n  /** True, if currentActionState.status = failed */\r\n  get isSentFailed(): boolean {\r\n    return this.currentActionState && this.currentActionState.status === StatusCurrentActionState.STATE_SEND_FAILED;\r\n  }\r\n\r\n  /** True, responseData$ or currentActionStates$ not empty */\r\n  get isDetailsNotEmpty(): boolean {\r\n    return !!(this.responseData$.value || this.currentActionStates$.value.length);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    const { currentWallet: { wallet_id }, settings: { appUseTor } } = this.variablesService;\r\n\r\n    if (appUseTor) {\r\n      /** Listening handleCurrentActionState */\r\n      this.backendService.handleCurrentActionState$\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe((currentActionState: CurrentActionState) => {\r\n          this.currentActionState$.next(currentActionState);\r\n          this.currentActionStates$.next([...this.currentActionStates, currentActionState]);\r\n        });\r\n    } else {\r\n      const actionState: CurrentActionState = {\r\n        status: StatusCurrentActionState.STATE_INITIALIZING,\r\n        wallet_id\r\n      };\r\n      this.currentActionState$.next(actionState);\r\n      this.currentActionStates$.next([...this.currentActionStates, actionState]);\r\n    }\r\n\r\n    /** Listening dispatchAsyncCallResult */\r\n    this.backendService.dispatchAsyncCallResult$\r\n      .pipe(\r\n        filter(({ job_id, response }: AsyncCommandResults) => this.job_id === job_id && !!response),\r\n        takeUntil(this.destroy$)\r\n      ).subscribe(({ response }: AsyncCommandResults) => {\r\n      const { response_data: { success } } = response;\r\n      if (!appUseTor || !success) {\r\n        const actionState: CurrentActionState = {\r\n          status: success ? StatusCurrentActionState.STATE_SENT_SUCCESS : StatusCurrentActionState.STATE_SEND_FAILED,\r\n          wallet_id\r\n        };\r\n        this.currentActionState$.next(actionState);\r\n        this.currentActionStates$.next([...this.currentActionStates, actionState]);\r\n      }\r\n\r\n      this.responseData$.next(response);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  /** Show/Hide details transaction */\r\n  toggleDetails(): void {\r\n    this.stateDetails$.next(!this.stateDetails$.value);\r\n    setTimeout(() => this.scrollToBottomDetailsList(), 100);\r\n  }\r\n\r\n  /** identification item by *ngFor */\r\n  trackBy(index: number): number {\r\n    return index;\r\n  }\r\n\r\n  /** True, if status success */\r\n  isSuccess(action: CurrentActionState): boolean {\r\n    return successfulStatuses.includes(action && action.status);\r\n  }\r\n\r\n  /** True, if status failed */\r\n  isFailed(action: CurrentActionState): boolean {\r\n    return failedStatuses.includes(action && action.status);\r\n  }\r\n\r\n  /** Scroll elDetailsWrapper to bottom */\r\n  private scrollToBottomDetailsList() {\r\n    if (this.elDetailsList) {\r\n      const { nativeElement } = this.elDetailsList;\r\n      nativeElement.scrollTop = nativeElement.scrollHeight;\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue w-100 max-h-100\"\r\n\t\t fxFlex=\"0 1 54rem\">\r\n\t<div class=\"wrapper w-100\"\r\n\t\t\t fxFlex\r\n\t\t\t fxLayout=\"column\">\r\n\t\t<h3 class=\"title mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">{{ 'SEND_DETAILS_MODAL.TITLE1' | translate }}</h3>\r\n\r\n\t\t<div class=\"content mb-2 overflow-x-hidden overflow-y-auto\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"status mb-2\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\r\n\t\t\t\t<div *ngIf=\"isSentSuccess\"\r\n\t\t\t\t\t\t class=\"image\">\r\n\t\t\t\t\t<img alt=\"success\"\r\n\t\t\t\t\t\t\t src=\"assets/icons/aqua/transaction_success.svg\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"isSentFailed\"\r\n\t\t\t\t\t\t class=\"image\">\r\n\t\t\t\t\t<img alt=\"failed\"\r\n\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t src=\"assets/icons/red/transaction_failed.svg\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"!isSentSuccess && !isSentFailed\"\r\n\t\t\t\t\t\t class=\"loader\"></div>\r\n\r\n\t\t\t\t<p class=\"color-primary mt-2\">\r\n\t\t\t\t\t{{ ((currentActionState$ | async) ? 'TOR_LIB_STATE' + '.' + (currentActionState$ | async)?.status : 'TOR_LIB_STATE.STATE_INITIALIZING') | translate }}\r\n\t\t\t\t\t{{!isSentSuccess && !isSentFailed ? '...' : ''}}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"details border-radius-0_8-rem overflow-hidden\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t<div (click)=\"isDetailsNotEmpty && toggleDetails()\"\r\n\t\t\t\t\t\t class=\"header overflow-hidden py-1 px-2 w-100 cursor-pointer\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t<p class=\"title text-ellipsis mr-2\">{{ 'SEND_DETAILS_MODAL.TITLE2' | translate }}</p>\r\n\t\t\t\t\t<button *ngIf=\"isDetailsNotEmpty\"\r\n\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t<img *ngIf=\"!(stateDetails$ | async)\"\r\n\t\t\t\t\t\t\t\t alt=\"dropdown-arrow-down\"\r\n\t\t\t\t\t\t\t\t src=\"assets/icons/white/dropdown-arrow-down.svg\">\r\n\t\t\t\t\t\t<img *ngIf=\"(stateDetails$ | async)\"\r\n\t\t\t\t\t\t\t\t alt=\"dropdown-arrow-up\"\r\n\t\t\t\t\t\t\t\t src=\"assets/icons/white/dropdown-arrow-up.svg\">\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div [class.px-2]=\"(stateDetails$ | async)\"\r\n\t\t\t\t\t\t [class.py-1]=\"(stateDetails$ | async)\"\r\n\t\t\t\t\t\t [fxHide]=\"!(stateDetails$ | async)\"\r\n\t\t\t\t\t\t class=\"details-wrapper\"\r\n\t\t\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t\t\t fxLayout=\"row\">\r\n\t\t\t\t\t<ul #elDetailsList\r\n\t\t\t\t\t\t\tclass=\"details-list scrolled-content\">\r\n\t\t\t\t\t\t<li *ngFor=\"let action of (currentActionStates$ | async); let last = last; trackBy: trackBy\"\r\n\t\t\t\t\t\t\t\tclass=\"item mb-1 color-primary\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\" center\">\r\n              <span\r\n\t\t\t\t\t\t\t\tclass=\"text text-ellipsis mr-1\">{{ 'TOR_LIB_STATE' + '.' + action?.status | translate }}{{ last && !isSentSuccess && !isSentFailed ? '...' : '' }}</span>\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"!last\">\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"isSuccess(action)\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/blue/check_with_blue_bg.svg\">\r\n\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"isFailed(action)\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"failed\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/red/transaction_failed.svg\">\r\n\t\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"last\">\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"last && isSentSuccess\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/blue/check_with_blue_bg.svg\">\r\n\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"last && isSentFailed\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"failed\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/red/transaction_failed.svg\">\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t<ng-container *ngIf=\"(responseData$ | async)\">\r\n\t\t\t\t\t\t\t<li class=\"item mb-1 color-primary\"\r\n\t\t\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\t\tfxLayoutAlign=\" center\">\r\n\t\t\t\t\t\t\t\t<span class=\"word-break-break-all\">tx id: {{ (responseData$ | async).response_data.tx_hash }}</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li class=\"item mb-1 color-primary\"\r\n\t\t\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\t\tfxLayoutAlign=\" center\">\r\n\t\t\t\t\t\t\t\t<div class=\"word-break-break-all\">tx\r\n\t\t\t\t\t\t\t\t\tsize: {{ (responseData$ | async).response_data.tx_blob_size }}\r\n\t\t\t\t\t\t\t\t\tbytes\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\">\r\n\t\t\t<button (click)=\"close.emit()\"\r\n\t\t\t\t\t\t\t[disabled]=\"!isSentSuccess && !isSentFailed\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\">{{ 'Ok' | translate }}</button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2 } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-send-modal',\r\n  templateUrl: './send-modal.component.html',\r\n  styleUrls: ['./send-modal.component.scss']\r\n})\r\nexport class SendModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Input() form: FormGroup;\r\n\r\n  @Output() confirmed: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  confirmForm = new FormGroup({\r\n    password: new FormControl('')\r\n  });\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private renderer: Renderer2\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    if (this.variablesService.appPass) {\r\n      this.confirmForm.controls['password'].setValidators([Validators.required]);\r\n      this.confirmForm.updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  submit(): void {\r\n    if (this.variablesService.appPass) {\r\n      if (this.confirmForm.controls['password'].value === '') {\r\n        this.confirmForm.controls['password'].setErrors({ requiredPass: true });\r\n        return;\r\n      }\r\n      this.confirmForm.controls['password'].setErrors({ requiredPass: false });\r\n      if (this.variablesService.appPass === this.confirmForm.controls['password'].value) {\r\n        this.confirmed.emit(true);\r\n      } else {\r\n        this.confirmForm.controls['password'].setErrors({ passwordNotMatch: true });\r\n      }\r\n    } else {\r\n      this.confirmed.emit(true);\r\n    }\r\n  }\r\n\r\n  onClose(): void {\r\n    this.confirmed.emit(false);\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\"\r\n\t\t fxLayout=\"row\">\r\n\t<div class=\"wrapper\">\r\n\t\t<form (ngSubmit)=\"submit()\"\r\n\t\t\t\t\t[formGroup]=\"confirmForm\"\r\n\t\t\t\t\tclass=\"overflow-hidden\"\r\n\t\t\t\t\tfxFlexFill\r\n\t\t\t\t\tfxLayout=\"column\">\r\n\t\t\t<h3 class=\"title mb-2\"\r\n\t\t\t\t\tfxFlex=\"0 0 auto\">{{ 'CONFIRM.TITLE' | translate }}</h3>\r\n\r\n\t\t\t<div class=\"content mb-2 w-100 overflow-x-hidden overflow-y-auto\"\r\n\t\t\t\t\t fxFlex=\"1 1 auto\">\r\n\t\t\t\t<div class=\"table-info mb-2\">\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'CONFIRM.MESSAGE.SEND' | translate }}</div>\r\n\t\t\t\t\t\t<div class=\"text\">{{ +form.get('amount').value }} {{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'CONFIRM.MESSAGE.FROM' | translate }}</div>\r\n\t\t\t\t\t\t<div class=\"text\">{{ variablesService.currentWallet.address }}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'CONFIRM.MESSAGE.TO' | translate }}</div>\r\n\t\t\t\t\t\t<div class=\"text\">{{ form.get('address').value }}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<ng-container *ngIf=\"!!form.get('comment').value\">\r\n\t\t\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'CONFIRM.MESSAGE.COMMENT' | translate }}</div>\r\n\t\t\t\t\t\t\t<div class=\"text\">{{ form.get('comment').value }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"variablesService.appPass\"\r\n\t\t\t\t\t\t class=\"form__field mb-0\">\r\n\t\t\t\t\t<label for=\"password\">{{ 'LOGIN.MASTER_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t autofocus\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"password\"\r\n\t\t\t\t\t\t\t\t name=\"password\"\r\n\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t<div *ngIf=\"confirmForm.controls['password'].invalid && (confirmForm.controls['password'].dirty || confirmForm.controls['password'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t*ngIf=\"confirmForm.controls['password'].errors && confirmForm.controls['password'].errors.passwordNotMatch\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.MISMATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"confirmForm.controls['password'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.PASS_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"controls w-100\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t\t<button (click)=\"onClose()\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'CONFIRM.BUTTON_CANCEL' | translate }}</button>\r\n\t\t\t\t<button class=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\">{{ 'CONFIRM.BUTTON_CONFIRM' | translate }}</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","import { Component, HostListener, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { MIXIN } from '../_shared/constants';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { MoneyToIntPipe } from '../_helpers/pipes/money-to-int.pipe';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\ninterface WrapInfo {\r\n  tx_cost: {\r\n    usd_needed_for_erc20: string;\r\n    zano_needed_for_erc20: string;\r\n  };\r\n  unwraped_coins_left: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-send',\r\n  templateUrl: './send.component.html',\r\n  styleUrls: ['./send.component.scss']\r\n})\r\nexport class SendComponent implements OnInit, OnDestroy {\r\n  job_id: number;\r\n\r\n  isOpen = false;\r\n\r\n  localAliases = [];\r\n\r\n  isModalDialogVisible = false;\r\n\r\n  isModalDetailsDialogVisible = false;\r\n\r\n  hideWalletAddress = false;\r\n\r\n  mixin: number;\r\n\r\n  wrapInfo: WrapInfo;\r\n\r\n  isLoading = true;\r\n\r\n  isWrapShown = false;\r\n\r\n  currentAliasAddress: string;\r\n\r\n  lenghtOfAdress: number;\r\n\r\n  additionalOptions = false;\r\n\r\n  parentRouting;\r\n\r\n  actionData;\r\n\r\n  sendForm = new FormGroup({\r\n    address: new FormControl('', [Validators.required, (g: FormControl) => {\r\n      this.localAliases = [];\r\n      if (g.value) {\r\n        this.currentAliasAddress = '';\r\n        if (g.value.indexOf('@') !== 0) {\r\n          this.isOpen = false;\r\n          this.backend.validateAddress(g.value, (valid_status, data) => {\r\n            this.ngZone.run(() => {\r\n              this.isWrapShown = (data.error_code === 'WRAP');\r\n              this.sendForm.get('amount').setValue(this.sendForm.get('amount').value);\r\n              if (valid_status === false && !this.isWrapShown) {\r\n                g.setErrors(Object.assign({ 'address_not_valid': true }, g.errors));\r\n              } else {\r\n                if (g.hasError('address_not_valid')) {\r\n                  delete g.errors['address_not_valid'];\r\n                  if (Object.keys(g.errors).length === 0) {\r\n                    g.setErrors(null);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n          return (g.hasError('address_not_valid')) ? { 'address_not_valid': true } : null;\r\n        } else {\r\n          this.isOpen = true;\r\n          this.localAliases = this.variablesService.aliases.filter((item) => {\r\n            return item.name.indexOf(g.value) > -1;\r\n          });\r\n          if (!(/^@?[a-z\\d\\-]{0,25}$/.test(g.value))) {\r\n            g.setErrors(Object.assign({ 'alias_not_valid': true }, g.errors));\r\n          } else {\r\n            this.backend.getAliasByName(g.value.replace('@', ''), (alias_status, alias_data) => {\r\n              this.ngZone.run(() => {\r\n                this.currentAliasAddress = alias_data.address;\r\n                this.lenghtOfAdress = g.value.length;\r\n                if (alias_status) {\r\n                  if (g.hasError('alias_not_valid')) {\r\n                    delete g.errors['alias_not_valid'];\r\n                    if (Object.keys(g.errors).length === 0) {\r\n                      g.setErrors(null);\r\n                    }\r\n                  }\r\n                } else {\r\n                  g.setErrors(Object.assign({ 'alias_not_valid': true }, g.errors));\r\n                }\r\n              });\r\n            });\r\n          }\r\n          return (g.hasError('alias_not_valid')) ? { 'alias_not_valid': true } : null;\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    amount: new FormControl(undefined, [Validators.required, (g: FormControl) => {\r\n      if (!g.value) {\r\n        return null;\r\n      }\r\n\r\n      if (g.value === 0) {\r\n        return { 'zero': true };\r\n      }\r\n      const bigAmount = this.moneyToInt.transform(g.value) as BigNumber;\r\n      if (this.isWrapShown) {\r\n        if (!this.wrapInfo) {\r\n          return { wrap_info_null: true };\r\n        }\r\n        if (bigAmount.isGreaterThan(new BigNumber(this.wrapInfo.unwraped_coins_left))) {\r\n          return { great_than_unwraped_coins: true };\r\n        }\r\n        if (bigAmount.isLessThan(new BigNumber(this.wrapInfo.tx_cost.zano_needed_for_erc20))) {\r\n          return { less_than_zano_needed: true };\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    comment: new FormControl(''),\r\n    mixin: new FormControl(MIXIN, Validators.required),\r\n    fee: new FormControl(this.variablesService.default_fee, [Validators.required, (g: FormControl) => {\r\n      if ((new BigNumber(g.value)).isLessThan(this.variablesService.default_fee)) {\r\n        return { 'less_min': true };\r\n      }\r\n      return null;\r\n    }]),\r\n    hide: new FormControl(false)\r\n  });\r\n\r\n  private dLActionSubscribe;\r\n\r\n  constructor(\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private http: HttpClient,\r\n    private moneyToInt: MoneyToIntPipe,\r\n  ) {\r\n  }\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  onClick(targetElement): void {\r\n    if (targetElement.id !== 'send-address' && this.isOpen) {\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.mixin = this.variablesService.currentWallet.send_data['mixin'] || MIXIN;\r\n    if (this.variablesService.currentWallet.is_auditable) {\r\n      this.mixin = 0;\r\n      this.sendForm.controls['mixin'].disable();\r\n    }\r\n    this.hideWalletAddress = this.variablesService.currentWallet.is_auditable && !this.variablesService.currentWallet.is_watch_only;\r\n    if (this.hideWalletAddress) {\r\n      this.sendForm.controls['hide'].disable();\r\n    }\r\n    this.sendForm.reset({\r\n      address: this.variablesService.currentWallet.send_data['address'],\r\n      amount: this.variablesService.currentWallet.send_data['amount'],\r\n      comment: this.variablesService.currentWallet.send_data['comment'],\r\n      mixin: this.mixin,\r\n      fee: this.variablesService.currentWallet.send_data['fee'] || this.variablesService.default_fee,\r\n      hide: this.variablesService.currentWallet.send_data['hide'] || false\r\n    });\r\n\r\n    this.getWrapInfo();\r\n    this.dLActionSubscribe = this.variablesService.sendActionData$.subscribe((res) => {\r\n      if (res.action === 'send') {\r\n        this.actionData = res;\r\n        setTimeout(() => {\r\n          this.fillDeepLinkData();\r\n        }, 100);\r\n        this.variablesService.sendActionData$.next({});\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.dLActionSubscribe.unsubscribe();\r\n    this.variablesService.currentWallet.send_data = {\r\n      address: this.sendForm.get('address').value,\r\n      amount: this.sendForm.get('amount').value,\r\n      comment: this.sendForm.get('comment').value,\r\n      mixin: this.sendForm.get('mixin').value,\r\n      fee: this.sendForm.get('fee').value,\r\n      hide: this.sendForm.get('hide').value\r\n    };\r\n    this.actionData = {};\r\n  }\r\n\r\n  getShorterAddress(): string {\r\n    const tempArr = this.currentAliasAddress.split('');\r\n    return this.currentAliasAddress.split('', 13).join('') + '...' + tempArr.splice((tempArr.length - 4), 4).join('');\r\n  }\r\n\r\n  addressMouseDown(e): void {\r\n    if (e['button'] === 0 && this.sendForm.get('address').value && this.sendForm.get('address').value.indexOf('@') === 0) {\r\n      this.isOpen = true;\r\n    }\r\n  }\r\n\r\n  setAlias(alias): void {\r\n    this.sendForm.get('address').setValue(alias);\r\n  }\r\n\r\n  showDialog(): void {\r\n    this.isModalDialogVisible = true;\r\n  }\r\n\r\n  confirmed(confirmed: boolean): void {\r\n    this.isModalDialogVisible = false;\r\n    if (confirmed) {\r\n      this.onSend();\r\n    }\r\n  }\r\n\r\n  fillDeepLinkData(): void {\r\n    this.additionalOptions = true;\r\n    this.sendForm.reset({\r\n      address: this.actionData.address,\r\n      amount: null,\r\n      comment: this.actionData.comment || this.actionData.comments || '',\r\n      mixin: this.actionData.mixins || this.mixin,\r\n      fee: this.actionData.fee || this.variablesService.default_fee,\r\n      hide: this.actionData.hide_sender === 'true'\r\n    });\r\n  }\r\n\r\n  addressToLowerCase(): void | null {\r\n    const control = this.sendForm.get('address');\r\n    const value = control.value;\r\n    const condition = value.indexOf('@') === 0;\r\n    return condition ? control.patchValue(value.toLowerCase()) : null;\r\n  }\r\n\r\n  onSend(): void {\r\n    if (this.sendForm.valid) {\r\n      if (this.sendForm.get('address').value.indexOf('@') !== 0) {\r\n        this.backend.validateAddress(this.sendForm.get('address').value, (valid_status, data) => {\r\n          if (valid_status === false && !(data.error_code === 'WRAP')) {\r\n            this.ngZone.run(() => {\r\n              this.sendForm.get('address').setErrors({ 'address_not_valid': true });\r\n            });\r\n          } else {\r\n            this.backend.sendMoney(\r\n              this.variablesService.currentWallet.wallet_id,\r\n              this.sendForm.get('address').value,\r\n              this.sendForm.get('amount').value,\r\n              this.sendForm.get('fee').value,\r\n              this.sendForm.get('mixin').value,\r\n              this.sendForm.get('comment').value,\r\n              this.sendForm.get('hide').value,\r\n              (job_id) => {\r\n                this.ngZone.run(() => {\r\n                  this.job_id = job_id;\r\n                  this.isModalDetailsDialogVisible = true;\r\n                  this.variablesService.currentWallet.send_data = {\r\n                    address: null,\r\n                    amount: null,\r\n                    comment: null,\r\n                    mixin: null,\r\n                    fee: null,\r\n                    hide: null\r\n                  };\r\n                  this.sendForm.reset({\r\n                    address: null,\r\n                    amount: null,\r\n                    comment: null,\r\n                    mixin: this.mixin,\r\n                    fee: this.variablesService.default_fee,\r\n                    hide: false\r\n                  });\r\n                  this.sendForm.markAsUntouched();\r\n                });\r\n              });\r\n          }\r\n        });\r\n      } else {\r\n        this.backend.getAliasByName(this.sendForm.get('address').value.replace('@', ''), (alias_status, alias_data) => {\r\n          this.ngZone.run(() => {\r\n            if (alias_status === false) {\r\n              this.ngZone.run(() => {\r\n                this.sendForm.get('address').setErrors({ 'alias_not_valid': true });\r\n              });\r\n            } else {\r\n              this.backend.sendMoney(\r\n                this.variablesService.currentWallet.wallet_id,\r\n                alias_data.address, // this.sendForm.get('address').value,\r\n                this.sendForm.get('amount').value,\r\n                this.sendForm.get('fee').value,\r\n                this.sendForm.get('mixin').value,\r\n                this.sendForm.get('comment').value,\r\n                this.sendForm.get('hide').value,\r\n                (job_id) => {\r\n                  this.ngZone.run(() => {\r\n                    this.job_id = job_id;\r\n                    this.isModalDetailsDialogVisible = true;\r\n                    this.variablesService.currentWallet.send_data = {\r\n                      address: null,\r\n                      amount: null,\r\n                      comment: null,\r\n                      mixin: null,\r\n                      fee: null,\r\n                      hide: null\r\n                    };\r\n                    this.sendForm.reset({\r\n                      address: null,\r\n                      amount: null,\r\n                      comment: null,\r\n                      mixin: this.mixin,\r\n                      fee: this.variablesService.default_fee,\r\n                      hide: false\r\n                    });\r\n                    this.sendForm.markAsUntouched();\r\n                  });\r\n                });\r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  toggleOptions(): void {\r\n    this.additionalOptions = !this.additionalOptions;\r\n  }\r\n\r\n  getReceivedValue(): number | BigNumber {\r\n    const amount = this.moneyToInt.transform(this.sendForm.value.amount);\r\n    const needed = new BigNumber(this.wrapInfo.tx_cost.zano_needed_for_erc20);\r\n    if (amount && needed) {\r\n      return (amount as BigNumber).minus(needed);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  handeCloseDetailsModal(): void {\r\n    this.isModalDetailsDialogVisible = false;\r\n    this.job_id = null;\r\n  }\r\n\r\n  private getWrapInfo(): void {\r\n    this.http.get<WrapInfo>('https://wrapped.zano.org/api2/get_wrap_info')\r\n      .pipe(finalize(() => {\r\n        this.isLoading = false;\r\n      }))\r\n      .subscribe(info => {\r\n        this.wrapInfo = info;\r\n      });\r\n  }\r\n}\r\n","<div class=\"container scrolled-content\"\r\n\t\t fxFlex=\"1 1 auto\">\r\n\t<form (ngSubmit)=\"showDialog()\"\r\n\t\t\t\t*ngIf=\"!isLoading\"\r\n\t\t\t\t[formGroup]=\"sendForm\"\r\n\t\t\t\tclass=\"form\"\r\n\t\t\t\tfxFlex=\"0 1 50rem\"\r\n\t\t\t\tfxLayout=\"column\"\r\n\t\t\t\tfxLayoutAlign=\"start stretch\">\r\n\r\n\t\t<div class=\"form__field--row\">\r\n\t\t\t<div class=\"form__field form__field-dropdown\">\r\n\t\t\t\t<label for=\"send-address\">{{ 'SEND.ADDRESS' | translate }}</label>\r\n\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t (input)=\"addressToLowerCase()\"\r\n\t\t\t\t\t\t\t (mousedown)=\"addressMouseDown($event)\"\r\n\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.ADRESS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t formControlName=\"address\"\r\n\t\t\t\t\t\t\t id=\"send-address\"\r\n\t\t\t\t\t\t\t type=\"text\">\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\t*ngIf=\"isOpen && !!localAliases.length\"\r\n\t\t\t\t\tclass=\"dropdown py-0_5 border-radius-0_8-rem bg-light-blue-details\">\r\n\t\t\t\t\t<div (click)=\"setAlias(item.name)\"\r\n\t\t\t\t\t\t\t *ngFor=\"let item of localAliases\"\r\n\t\t\t\t\t\t\t class=\"item\">\r\n\t\t\t\t\t\t<div [class.available]=\"item.name.length >= 2 && item.name.length <= 6\" [class.pl-1]=\"item.name.length > 6\"\r\n\t\t\t\t\t\t\t\t class=\"alias\">\r\n\t\t\t\t\t\t\t<div class=\"text-ellipsis\">{{item.name}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"sendForm.controls['address'].invalid && (sendForm.controls['address'].dirty || sendForm.controls['address'].touched)\"\r\n\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['address'].errors['address_not_valid']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.ADDRESS_NOT_VALID' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['address'].errors['alias_not_valid']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.ALIAS_NOT_VALID' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['address'].hasError('required')\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.ADDRESS_REQUIRED' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div *ngIf=\"currentAliasAddress\"\r\n\t\t\t\t\t\t class=\"info text-ellipsis\">\r\n\t\t\t\t\t<span>{{getShorterAddress()}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"form__field\">\r\n\t\t\t\t<label for=\"send-amount\">{{ 'SEND.AMOUNT' | translate }}</label>\r\n\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.AMOUNT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t formControlName=\"amount\"\r\n\t\t\t\t\t\t\t id=\"send-amount\"\r\n\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].invalid && (sendForm.controls['amount'].dirty || sendForm.controls['amount'].touched)\"\r\n\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].errors['zero']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.AMOUNT_ZERO' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].errors['great_than_unwraped_coins']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.GREAT_THAN_UNWRAPPED_COINS' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].errors['less_than_zano_needed']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.LESS_THAN_ZANO_NEEDED' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].errors['wrap_info_null']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.WRAP_INFO_NULL' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].hasError('required')\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.AMOUNT_REQUIRED' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"form__field\">\r\n\t\t\t<label for=\"send-comment\">{{ 'SEND.COMMENT' | translate }}</label>\r\n\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t [maxLength]=\"variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t formControlName=\"comment\"\r\n\t\t\t\t\t\t id=\"send-comment\"\r\n\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.COMMENT_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t type=\"text\">\r\n\t\t\t<div *ngIf=\"sendForm.get('comment').value && sendForm.get('comment').value.length >= variablesService.maxCommentLength\"\r\n\t\t\t\t\t class=\"error\">\r\n\t\t\t\t{{ 'SEND.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf=\"isWrapShown && wrapInfo && !isLoading\"\r\n\t\t\t\t class=\"wrap mt-2 mb-2 p-2\">\r\n\t\t\t<div class=\"title\">\r\n\t\t\t\t{{ 'SEND.WRAP.TITLE' | translate }}\r\n\t\t\t\t<i class=\"icon info-circle\"></i>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"text-wrap\">\r\n\t\t\t\t{{ 'SEND.WRAP.MAIN_TEXT' | translate }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\">{{ 'SEND.WRAP.ESTIMATE' | translate }}</div>\r\n\t\t\t<table class=\"text-wrap\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>{{ 'SEND.WRAP.WILL_RECEIVE' | translate }}</td>\r\n\t\t\t\t\t<td *ngIf=\"!sendForm.controls['amount'].errors\">{{getReceivedValue() | intToMoney}} {{ 'SEND.WRAP.wZANO' |\r\n\t\t\t\t\t\ttranslate }}</td>\r\n\t\t\t\t\t<td *ngIf=\"sendForm.controls['amount'].errors\">-</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>{{ 'SEND.WRAP.FEE' | translate }}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{wrapInfo?.tx_cost?.zano_needed_for_erc20 | intToMoney: 3 }}\r\n\t\t\t\t\t\t{{ 'SEND.WRAP.ZANO' | translate }}(${{wrapInfo?.tx_cost?.usd_needed_for_erc20}})\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"details mb-2\">\r\n\t\t\t<button (click)=\"toggleOptions()\"\r\n\t\t\t\t\t\t\t[class.border-radius-all]=\"!additionalOptions\"\r\n\t\t\t\t\t\t\tclass=\"header\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<span>{{ 'SEND.DETAILS' | translate }}</span>\r\n\t\t\t\t<i [class.dropdown-arrow-down]=\"!additionalOptions\"\r\n\t\t\t\t\t [class.dropdown-arrow-up]=\"additionalOptions\"\r\n\t\t\t\t\t class=\"icon ml-1\"></i>\r\n\t\t\t</button>\r\n\r\n\t\t\t<div *ngIf=\"additionalOptions\"\r\n\t\t\t\t\t class=\"content\">\r\n\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"send-mixin\">{{ 'SEND.MIXIN' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.AMOUNT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"integer\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"mixin\"\r\n\t\t\t\t\t\t\t\t\t id=\"send-mixin\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['mixin'].invalid && (sendForm.controls['mixin'].dirty || sendForm.controls['mixin'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['mixin'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.AMOUNT_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"send-fee\">{{ 'SEND.FEE' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.FEE_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"fee\"\r\n\t\t\t\t\t\t\t\t\t id=\"send-fee\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['fee'].invalid && (sendForm.controls['fee'].dirty || sendForm.controls['fee'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['fee'].errors['less_min']\">\r\n\t\t\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.FEE_MINIMUM' | translate : { fee: variablesService.default_fee } }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['fee'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.FEE_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<app-checkbox [label]=\"'SEND.HIDE' | translate\"\r\n\t\t\t\t\t\t\t\t\t\t\t[value]=\"hideWalletAddress || sendForm.controls['hide'].value\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tformControlName=\"hide\"></app-checkbox>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<button [disabled]=\"!sendForm.valid || !variablesService.currentWallet.loaded\"\r\n\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t{{'SEND.BUTTON' | translate }}\r\n\t\t</button>\r\n\t</form>\r\n</div>\r\n\r\n<app-send-modal (confirmed)=\"confirmed($event)\"\r\n\t\t\t\t\t\t\t\t*ngIf=\"isModalDialogVisible\"\r\n\t\t\t\t\t\t\t\t[form]=\"sendForm\"></app-send-modal>\r\n\r\n<app-send-details-modal (close)=\"handeCloseDetailsModal()\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t*ngIf=\"isModalDetailsDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t[job_id]=\"job_id\"></app-send-details-modal>\r\n","import { Component, NgZone, OnInit, Renderer2 } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Location } from '@angular/common';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { scaleItems } from '../_helpers/data/scale-items';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.component.html',\r\n  styleUrls: ['./settings.component.scss']\r\n})\r\nexport class SettingsComponent implements OnInit {\r\n  ifSaved = false;\r\n\r\n  scale: string;\r\n\r\n  appUseTor: boolean;\r\n\r\n  changeForm: any;\r\n\r\n  public currentNotificationsState;\r\n\r\n  languagesOptions = [\r\n    {\r\n      name: 'en',\r\n      language: 'SETTINGS.LANGUAGE.EN'\r\n    },\r\n    {\r\n      name: 'fr',\r\n      language: 'SETTINGS.LANGUAGE.FR'\r\n    },\r\n    {\r\n      name: 'de',\r\n      language: 'SETTINGS.LANGUAGE.DE'\r\n    },\r\n    {\r\n      name: 'id',\r\n      language: 'SETTINGS.LANGUAGE.ID'\r\n    },\r\n    {\r\n      name: 'it',\r\n      language: 'SETTINGS.LANGUAGE.IT'\r\n    },\r\n    {\r\n      name: 'pt',\r\n      language: 'SETTINGS.LANGUAGE.PT'\r\n    }\r\n  ];\r\n\r\n  appLockOptions = [\r\n    {\r\n      id: 5,\r\n      name: 'SETTINGS.APP_LOCK.TIME1'\r\n    },\r\n    {\r\n      id: 15,\r\n      name: 'SETTINGS.APP_LOCK.TIME2'\r\n    },\r\n    {\r\n      id: 60,\r\n      name: 'SETTINGS.APP_LOCK.TIME3'\r\n    },\r\n    {\r\n      id: 0,\r\n      name: 'SETTINGS.APP_LOCK.TIME4'\r\n    }\r\n  ];\r\n\r\n  appScaleOptions = scaleItems;\r\n\r\n  appLogOptions = [\r\n    {\r\n      id: -1\r\n    },\r\n    {\r\n      id: 0\r\n    },\r\n    {\r\n      id: 1\r\n    },\r\n    {\r\n      id: 2\r\n    },\r\n    {\r\n      id: 3\r\n    },\r\n    {\r\n      id: 4\r\n    }\r\n  ];\r\n\r\n  currentBuild = '';\r\n\r\n  appPass: any;\r\n\r\n  constructor(\r\n    public translate: TranslateService,\r\n    public variablesService: VariablesService,\r\n    private renderer: Renderer2,\r\n    private backend: BackendService,\r\n    private location: Location,\r\n    private ngZone: NgZone\r\n  ) {\r\n    this.scale = this.variablesService.settings.scale;\r\n    this.appUseTor = this.variablesService.settings.appUseTor;\r\n    this.changeForm = new FormGroup({\r\n      password: new FormControl(''),\r\n      new_password: new FormControl('', Validators.pattern(this.variablesService.pattern)),\r\n      new_confirmation: new FormControl('')\r\n    }, [(g: FormGroup) => {\r\n      return g.get('new_password').value === g.get('new_confirmation').value ? null : { 'confirm_mismatch': true };\r\n    }, (g: FormGroup) => {\r\n      if (this.variablesService.appPass) {\r\n        return g.get('password').value === this.variablesService.appPass ? null : { 'pass_mismatch': true };\r\n      }\r\n      return null;\r\n    }]);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.backend.getVersion((version, type) => {\r\n      this.ngZone.run(() => {\r\n        this.currentBuild = version;\r\n        this.variablesService.testnet = false;\r\n        if (type === 'testnet') {\r\n          this.currentBuild += ' TESTNET';\r\n          this.variablesService.testnet = true;\r\n        }\r\n        this.variablesService.networkType = type;\r\n      });\r\n    });\r\n    this.backend.getIsDisabledNotifications((res) => {\r\n      this.currentNotificationsState = res;\r\n    });\r\n  }\r\n\r\n  setScale(): void {\r\n    this.scale = this.variablesService.settings.scale;\r\n    this.renderer.setStyle(document.documentElement, 'font-size', this.scale);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  onSubmitChangePass(): void {\r\n    if (this.changeForm.valid) {\r\n      this.onSave();\r\n      this.variablesService.appPass = this.changeForm.get('new_password').value;\r\n      if (this.variablesService.appPass) {\r\n        this.backend.setMasterPassword({ pass: this.variablesService.appPass }, (status, data) => {\r\n          if (status) {\r\n            this.backend.storeSecureAppData({ pass: this.variablesService.appPass });\r\n            this.variablesService.appLogin = true;\r\n            this.variablesService.dataIsLoaded = true;\r\n            if (this.variablesService.settings.appLockTime) {\r\n              this.variablesService.startCountdown();\r\n            }\r\n          } else {\r\n            console.log(data['error_code']);\r\n          }\r\n        });\r\n      } else {\r\n        // this.backend.dropSecureAppData((status, data) => {\r\n        // });\r\n      }\r\n      this.changeForm.reset();\r\n    }\r\n  }\r\n\r\n  toggleNotifications(): void {\r\n    if (!this.currentNotificationsState) {\r\n      this.backend.setIsDisabledNotifications('true');\r\n      this.currentNotificationsState = true;\r\n    } else {\r\n      this.backend.setIsDisabledNotifications('false');\r\n      this.currentNotificationsState = false;\r\n    }\r\n  }\r\n\r\n  toggleUseTor(): void {\r\n    this.appUseTor = !this.appUseTor;\r\n    this.variablesService.settings.appUseTor = this.appUseTor;\r\n    this.backend.setEnableTor(this.appUseTor);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  onSave(): void {\r\n    this.ifSaved = true;\r\n    setTimeout(() => {\r\n      this.ifSaved = false;\r\n    }, 3000);\r\n  }\r\n\r\n  onLockChange(): void {\r\n    if (this.variablesService.appLogin && this.variablesService.settings.appLockTime) {\r\n      this.variablesService.restartCountdown();\r\n    }\r\n  }\r\n\r\n  onLogChange(): void {\r\n    this.backend.setLogLevel(this.variablesService.settings.appLog);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  onLanguageChange(): void {\r\n    this.translate.use(this.variablesService.settings.language);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'SETTINGS.TITLE' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<div class=\"settings\"\r\n\t\t\t\t\t fxFlex=\"0 1 50rem\"\r\n\t\t\t\t\t fxFlexFill\r\n\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t fxLayoutAlign=\"start stretch\"\r\n\t\t\t\t\t fxLayoutGap=\"2rem\">\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.LANGUAGE.TITLE' | translate }}</label>\r\n\t\t\t\t\t<ng-select (change)=\"onLanguageChange()\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"variablesService.settings.language\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"languagesOptions\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"language\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"with-circle\">\r\n\t\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t\t{{item.language | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t\t{{item.language | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.APP_LOCK.TITLE' | translate }}</label>\r\n\t\t\t\t\t<ng-select (change)=\"onLockChange()\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"variablesService.settings.appLockTime\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"appLockOptions\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"id\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"with-circle\">\r\n\t\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t\t{{item.name | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t\t{{item.name | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.SCALE.TITLE' | translate }}</label>\r\n\t\t\t\t\t<ng-select (change)=\"setScale()\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"variablesService.settings.scale\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"appScaleOptions\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"with-circle\">\r\n\t\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t\t{{item.name | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t\t{{item.name | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.APP_LOG_TITLE' | translate }}</label>\r\n\t\t\t\t\t<ng-select (change)=\"onLogChange()\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"variablesService.settings.appLog\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"appLogOptions\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"id\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"id\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"with-circle\">\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.NOTIFICATIONS' | translate }}</label>\r\n\t\t\t\t\t<app-switch\r\n\t\t\t\t\t\t(emitChange)=\"toggleNotifications()\"\r\n\t\t\t\t\t\t[value]=\"currentNotificationsState\"></app-switch>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.USE_TOR_TO_RELAY_TRANSACTIONS' | translate }}</label>\r\n\t\t\t\t\t<app-switch\r\n\t\t\t\t\t\t(emitChange)=\"toggleUseTor()\"\r\n\t\t\t\t\t\t[value]=\"appUseTor\"></app-switch>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<form (ngSubmit)=\"onSubmitChangePass()\"\r\n\t\t\t\t\t\t\t[formGroup]=\"changeForm\"\r\n\t\t\t\t\t\t\tclass=\"form\">\r\n\r\n\t\t\t\t\t<h4 class=\"master-password-title mb-2\">{{ 'SETTINGS.MASTER_PASSWORD.TITLE' | translate }}</h4>\r\n\r\n\t\t\t\t\t<div *ngIf=\"variablesService.appPass\"\r\n\t\t\t\t\t\t\t class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"old-password\">{{ 'SETTINGS.MASTER_PASSWORD.OLD' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t\t [class.invalid]=\"changeForm.invalid && changeForm.controls['password'].valid && (changeForm.controls['password'].dirty || changeForm.controls['password'].touched) && changeForm.errors && changeForm.errors['pass_mismatch'] && changeForm.get('password').value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t\t id=\"old-password\"\r\n\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_OLD' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t\t<div *ngIf=\"changeForm.invalid && changeForm.controls['password'].valid && (changeForm.controls['password'].dirty || changeForm.controls['password'].touched) && changeForm.errors && changeForm.errors['pass_mismatch'] && changeForm.get('password').value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t{{ 'SETTINGS.FORM_ERRORS.PASS_NOT_MATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"new-password\">{{ 'SETTINGS.MASTER_PASSWORD.NEW' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t\t [class.invalid]=\"changeForm.controls['new_password'].errors\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"new_password\"\r\n\t\t\t\t\t\t\t\t\t id=\"new-password\"\r\n\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_NEW' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t\t<div *ngIf=\"changeForm.controls['new_password'].dirty && changeForm.controls['new_password'].errors\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"changeForm.controls['new_password'].errors.pattern\">\r\n\t\t\t\t\t\t\t\t{{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"confirm-password\">{{ 'SETTINGS.MASTER_PASSWORD.CONFIRM' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t\t [class.invalid]=\"changeForm.invalid && (changeForm.controls['new_confirmation'].dirty || changeForm.controls['new_confirmation'].touched) && changeForm.errors && changeForm.errors['confirm_mismatch'] && changeForm.get('new_confirmation').value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"new_confirmation\"\r\n\t\t\t\t\t\t\t\t\t id=\"confirm-password\"\r\n\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t\t<div *ngIf=\"changeForm.invalid && (changeForm.controls['new_confirmation'].dirty || changeForm.controls['new_confirmation'].touched) && changeForm.errors && changeForm.errors['confirm_mismatch'] && changeForm.get('new_confirmation').value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t{{ 'SETTINGS.FORM_ERRORS.CONFIRM_NOT_MATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"submit-button-container\">\r\n\t\t\t\t\t\t<button [disabled]=\"!changeForm.valid\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\">{{ 'SETTINGS.MASTER_PASSWORD.BUTTON' | translate }}</button>\r\n\t\t\t\t\t\t<span *ngIf=\"ifSaved\"\r\n\t\t\t\t\t\t\t\t\t[class.active]=\"ifSaved\"\r\n\t\t\t\t\t\t\t\t\tclass=\"ml-1 color-aqua\">{{ 'SETTINGS.SETTINGS_SAVED' | translate }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t\t<p>Build version: {{ currentBuild }}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { DOWNLOADS_PAGE_URL, LOCKED_BALANCE_HELP_PAGE } from '../_shared/constants';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\n\r\n@Component({\r\n  selector: 'app-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.scss']\r\n})\r\nexport class SidebarComponent {\r\n  isModalDialogVisible = false;\r\n\r\n  closeWalletId: number;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modal: ModalService,\r\n    private translate: TranslateService,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  goMainPage(): void {\r\n    if (this.route.snapshot.queryParams && this.route.snapshot.queryParams.prevUrl === 'login') {\r\n      this.ngZone.run(() => {\r\n        this.router.navigate(['/'], { queryParams: { prevUrl: 'login' } });\r\n      });\r\n    } else {\r\n      this.ngZone.run(() => {\r\n        this.router.navigate(['/']);\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  selectWallet(id: number): void {\r\n    this.ngZone.run(() => {\r\n      this.variablesService.setCurrentWallet(id);\r\n      this.router.navigate(['/wallet/history']);\r\n    });\r\n  }\r\n\r\n  contactsRoute(): void {\r\n    if (this.variablesService.appPass) {\r\n      this.ngZone.run(() => {\r\n        this.router.navigate(['/contacts']);\r\n      });\r\n\r\n    } else {\r\n      this.modal.prepareModal(\r\n        'error',\r\n        'CONTACTS.FORM_ERRORS.SET_MASTER_PASSWORD'\r\n      );\r\n    }\r\n  }\r\n\r\n  drop(event: CdkDragDrop<Wallet[]>): void {\r\n    moveItemInArray(this.variablesService.wallets, event.previousIndex, event.currentIndex);\r\n  }\r\n\r\n  showDialog(wallet_id): void {\r\n    this.isModalDialogVisible = true;\r\n    this.closeWalletId = wallet_id;\r\n  }\r\n\r\n  confirmed(confirmed: boolean): void {\r\n    if (confirmed) {\r\n      this.closeWallet(this.closeWalletId);\r\n    }\r\n    this.isModalDialogVisible = false;\r\n  }\r\n\r\n  closeWallet(wallet_id): void {\r\n    this.backend.closeWallet(wallet_id, () => {\r\n      for (let i = this.variablesService.wallets.length - 1; i >= 0; i--) {\r\n        if (this.variablesService.wallets[i].wallet_id === this.variablesService.currentWallet.wallet_id) {\r\n          this.variablesService.wallets.splice(i, 1);\r\n        }\r\n      }\r\n      this.ngZone.run(() => {\r\n        if (this.variablesService.wallets.length) {\r\n          this.variablesService.currentWallet = this.variablesService.wallets[0];\r\n          this.router.navigate(['/wallet/']);\r\n        } else {\r\n          this.router.navigate(['/']);\r\n        }\r\n      });\r\n      if (this.variablesService.appPass) {\r\n        this.backend.storeSecureAppData();\r\n      }\r\n    });\r\n  }\r\n\r\n  getUpdate(): void {\r\n    this.backend.openUrlInBrowser(DOWNLOADS_PAGE_URL);\r\n  }\r\n\r\n  logOut(): void {\r\n    this.variablesService.stopCountdown();\r\n    this.variablesService.appLogin = false;\r\n    this.variablesService.appPass = '';\r\n    this.ngZone.run(() => {\r\n      this.router.navigate(['/login'], { queryParams: { type: 'auth' } });\r\n    });\r\n  }\r\n\r\n  getBalanceTooltip(id: number): null | any {\r\n    const wallet = this.variablesService.getWallet(id);\r\n    if (!wallet) {\r\n      return null;\r\n    }\r\n    let tooltip;\r\n    tooltip = document.createElement('div');\r\n    const available = document.createElement('span');\r\n    available.setAttribute('class', 'available');\r\n    available.innerHTML = this.translate.instant('WALLET.AVAILABLE_BALANCE', {\r\n      available: this.intToMoneyPipe.transform(\r\n        wallet.unlocked_balance\r\n      ),\r\n      currency: this.variablesService.defaultCurrency,\r\n    });\r\n    tooltip.appendChild(available);\r\n    const locked = document.createElement('span');\r\n    locked.setAttribute('class', 'locked');\r\n    locked.innerHTML = this.translate.instant('WALLET.LOCKED_BALANCE', {\r\n      locked: this.intToMoneyPipe.transform(\r\n        wallet.balance.minus(\r\n          wallet.unlocked_balance\r\n        )\r\n      ),\r\n      currency: this.variablesService.defaultCurrency,\r\n    });\r\n    tooltip.appendChild(locked);\r\n    const link = document.createElement('span');\r\n    link.setAttribute('class', 'link');\r\n    link.innerHTML = this.translate.instant('WALLET.LOCKED_BALANCE_LINK');\r\n    link.addEventListener('click', () => {\r\n      this.openInBrowser(LOCKED_BALANCE_HELP_PAGE);\r\n    });\r\n    tooltip.appendChild(link);\r\n    return tooltip;\r\n  }\r\n\r\n  openInBrowser(link): void {\r\n    this.backend.openUrlInBrowser(link);\r\n  }\r\n}\r\n","<div class=\"sidebar-header mb-2\">\r\n\t<div class=\"logo\">\r\n\t\t<img alt=\"zano-logo\"\r\n\t\t\t\t src=\"assets/icons/blue/zano-logo.svg\">\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"sidebar-content\">\r\n\t<div (cdkDropListDropped)=\"drop($event)\"\r\n\t\t\t cdkDropList\r\n\t\t\t cdkDropListLockAxis=\"y\"\r\n\t\t\t class=\"sidebar-content-list scrolled-content mb-1\">\r\n\t\t<ng-container *ngFor=\"let wallet of variablesService.wallets\">\r\n\t\t\t<div (click)=\"selectWallet(wallet.wallet_id)\"\r\n\t\t\t\t\t [cdkDragData]=\"wallet\"\r\n\t\t\t\t\t [class.active]=\"wallet?.wallet_id === variablesService?.currentWallet?.wallet_id\"\r\n\t\t\t\t\t [class.auditable]=\"wallet.is_auditable && !wallet.is_watch_only\"\r\n\t\t\t\t\t [class.watch-only]=\"wallet.is_watch_only\"\r\n\t\t\t\t\t cdkDrag\r\n\t\t\t\t\t class=\"wallet\"\r\n\t\t\t\t\t >\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t<div class=\"name text-ellipsis\">\r\n                            <span *ngIf=\"wallet.new_contracts\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"indicator\">\r\n                                {{ wallet.new_contracts }}\r\n                            </span>\r\n\r\n\t\t\t\t\t\t\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-left\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ wallet.name }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\">\r\n                              {{!wallet.alias['name'] ? wallet.name : wallet.alias['name']}}\r\n                          </span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"right\">\r\n\t\t\t\t\t\t\t<button (click)=\"showDialog(wallet.wallet_id)\"\r\n\t\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.CLOSE' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon close\"></i>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"balance\">\r\n\t\t\t\t\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t[placement]=\"'bottom'\"\r\n\t\t\t\t\t\t\t\t\t[timeout]=\"0\"\r\n\t\t\t\t\t\t\t\t\t[tooltipClass]=\"'balance-tooltip'\"\r\n\t\t\t\t\t\t\t\t\t[tooltip]=\"getBalanceTooltip(wallet.wallet_id)\"\r\n\t\t\t\t\t\t\t\t\tclass=\"text-ellipsis mr-1\">{{wallet.balance | intToMoney : '3' }}</span>\r\n\t\t\t\t\t\t<span>{{variablesService.defaultCurrency}}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<h4 *appDisablePriceFetch\r\n\t\t\t\t\t\t\tclass=\"price\">\r\n\t\t\t\t\t\t${{wallet.getMoneyEquivalent(variablesService.moneyEquivalent) | intToMoney | number :'1.2-2'}}\r\n\r\n\t\t\t\t\t\t<span [class.red]=\"variablesService.moneyEquivalentPercent < 0\"\r\n\t\t\t\t\t\t\t\t\tclass=\"percent\">\r\n                            {{ variablesService.moneyEquivalentPercent | number : '1.1-2' }}%\r\n                    </span>\r\n\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"(!wallet.is_auditable && !wallet.is_watch_only && wallet.balance.gt(0)) || (wallet.is_auditable && !wallet.is_watch_only && wallet.balance.gt(0))\">\r\n\t\t\t\t\t\t<div *ngIf=\"!(!wallet.loaded && variablesService.daemon_state === 2)\"\r\n\t\t\t\t\t\t\t\t class=\"staking\">\r\n\t\t\t\t\t\t\t<span class=\"text\">{{ 'SIDEBAR.ACCOUNT.STAKING' | translate }}</span>\r\n\t\t\t\t\t\t\t<app-staking-switch [(staking)]=\"wallet.staking\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[wallet_id]=\"wallet.wallet_id\"></app-staking-switch>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t<div *ngIf=\"!wallet.loaded && variablesService.daemon_state === 2\"\r\n\t\t\t\t\t\t\t class=\"account-synchronization\">\r\n\t\t\t\t\t\t<div class=\"progress-bar\">\r\n\t\t\t\t\t\t\t<div [style.width]=\"wallet.progress + '%'\"\r\n\t\t\t\t\t\t\t\t\t class=\"fill\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"progress-percent\">{{ wallet.progress }}%</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ng-container>\r\n\t</div>\r\n\r\n\t<div class=\"sidebar-nav scrolled-content\">\r\n\t\t<!-- ui-kit -->\r\n\t\t<ng-container *ngIf=\"false\">\r\n\t\t\t<button [routerLink]=\"['/ui-kit']\"\r\n\t\t\t\t\t\t\tclass=\"outline small w-100 mb-1 px-2\"\r\n\t\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"start center\"\r\n\t\t\t\t\t\t\trouterLinkActive=\"active\">\r\n\t\t\t\t<span>ui-kit</span>\r\n\t\t\t</button>\r\n\t\t</ng-container>\r\n\r\n\t\t<!-- add wallet -->\r\n\t\t<button (click)=\"goMainPage()\"\r\n\t\t\t\t\t\tclass=\"outline small w-100 mb-1 px-2\"\r\n\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n\t\t\t<i class=\"icon plus mr-1\"></i>\r\n\t\t\t<span>{{ 'SIDEBAR.ADD_NEW' | translate }}</span>\r\n\t\t</button>\r\n\r\n\t\t<!-- contact -->\r\n\t\t<!-- TODO: Uncomment if needed page contact. If you want deleted, please ask Ravaga -->\r\n\r\n\t\t<!--        <ng-container *ngIf=\"variablesService.appPass === ''; else contactsShow\">-->\r\n\t\t<!--            <button class=\"outline small w-100 mb-1 px-2\"-->\r\n\t\t<!--                    fxLayout=\"row inline wrap\"-->\r\n\t\t<!--                    fxLayoutAlign=\"start center\"-->\r\n\t\t<!--                    routerLinkActive=\"active\"-->\r\n\t\t<!--                    tooltip=\"{{ 'SIDEBAR.CONTACTS_TOOLTIP' | translate }}\"-->\r\n\t\t<!--                    placement=\"top\"-->\r\n\t\t<!--                    tooltipClass=\"table-tooltip account-tooltip\"-->\r\n\t\t<!--                    [delay]=\"500\"-->\r\n\t\t<!--                    [timeDelay]=\"500\"-->\r\n\t\t<!--                    [disabled]=\"variablesService.daemon_state !== 2 || variablesService.appPass === ''\"-->\r\n\t\t<!--                    (click)=\"contactsRoute()\">-->\r\n\t\t<!--                <i class=\"icon contacts mr-1\"></i>-->\r\n\t\t<!--                <span>{{ 'SIDEBAR.CONTACTS' | translate }}</span>-->\r\n\t\t<!--            </button>-->\r\n\t\t<!--        </ng-container>-->\r\n\r\n\t\t<!--        <ng-template #contactsShow>-->\r\n\t\t<!--            <button class=\"outline small w-100 mb-1 px-2\"-->\r\n\t\t<!--                    fxLayout=\"row inline wrap\"-->\r\n\t\t<!--                    fxLayoutAlign=\"start center\"-->\r\n\t\t<!--                    routerLinkActive=\"active\"-->\r\n\t\t<!--                    (click)=\"contactsRoute()\"-->\r\n\t\t<!--                    [disabled]=\"variablesService.daemon_state !== 2\">-->\r\n\t\t<!--                <i class=\"icon contacts mr-1\"></i>-->\r\n\t\t<!--                <span>{{ 'SIDEBAR.CONTACTS' | translate }}</span>-->\r\n\t\t<!--            </button>-->\r\n\t\t<!--        </ng-template>-->\r\n\r\n\t\t<!-- settings -->\r\n\t\t<button [routerLink]=\"['/settings']\"\r\n\t\t\t\t\t\tclass=\"outline small w-100 mb-1 px-2\"\r\n\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\tfxLayoutAlign=\"start center\"\r\n\t\t\t\t\t\trouterLinkActive=\"active\">\r\n\t\t\t<i class=\"icon settings mr-1\"></i>\r\n\t\t\t<span> {{ 'SIDEBAR.SETTINGS' | translate }}</span>\r\n\t\t</button>\r\n\r\n\t\t<!-- Log out -->\r\n\t\t<ng-container *ngIf=\"variablesService.appPass === ''; else masterPass\">\r\n\t\t\t<button (click)=\"logOut()\"\r\n\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t[disabled]=\"variablesService.appPass === ''\"\r\n\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\tclass=\"outline small w-100 px-2\"\r\n\t\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"start center\"\r\n\t\t\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\t\t\ttooltip=\"{{ 'SIDEBAR.LOG_OUT_TOOLTIP' | translate }}\"\r\n\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\">\r\n\t\t\t\t<i class=\"icon logout mr-1\"></i>\r\n\t\t\t\t<span> {{ 'SIDEBAR.LOG_OUT' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t</ng-container>\r\n\r\n\t\t<ng-template #masterPass>\r\n\t\t\t<button (click)=\"logOut()\"\r\n\t\t\t\t\t\t\tclass=\"outline small w-100 px-2\"\r\n\t\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n\t\t\t\t<i class=\"icon logout mr-1\"></i>\r\n\t\t\t\t<span> {{ 'SIDEBAR.LOG_OUT' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t</ng-template>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"sidebar-footer\">\r\n\t<app-synchronization-status></app-synchronization-status>\r\n</div>\r\n\r\n<app-confirm-modal (confirmed)=\"confirmed($event)\"\r\n\t\t\t\t\t\t\t\t\t *ngIf=\"isModalDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t [message]=\" 'WALLET.CONFIRM.MESSAGE' | translate \"\r\n\t\t\t\t\t\t\t\t\t [title]=\" 'WALLET.CONFIRM.TITLE' | translate \"></app-confirm-modal>\r\n\r\n<app-deeplink></app-deeplink>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SidebarComponent } from './sidebar.component';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { TooltipModule } from '../_helpers/directives/tooltip/tooltip.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SynchronizationStatusModule } from '../synchronization-status/synchronization-status.module';\r\nimport { PipesModule } from '../_helpers/pipes/pipes.module';\r\nimport { DisablePriceFetchModule } from '../_shared/directives/disable-price-fetch/disable-price-fetch.module';\r\nimport { ConfirmModalModule } from '../_helpers/modals/confirm-modal/confirm-modal.module';\r\nimport { DeeplinkModule } from '../deeplink/deeplink.module';\r\nimport { StakingSwitchModule } from '../_helpers/directives/staking-switch/staking-switch.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [SidebarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    DragDropModule,\r\n    TooltipModule,\r\n    PipesModule,\r\n    TranslateModule,\r\n    DisablePriceFetchModule,\r\n    ConfirmModalModule,\r\n    SynchronizationStatusModule,\r\n    DeeplinkModule,\r\n    StakingSwitchModule,\r\n    FlexLayoutModule\r\n  ],\r\n  exports: [SidebarComponent]\r\n})\r\nexport class SidebarModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { Chart } from 'angular-highcharts';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Component({\r\n  selector: 'app-staking',\r\n  templateUrl: './staking.component.html',\r\n  styleUrls: ['./staking.component.scss']\r\n})\r\nexport class StakingComponent implements OnInit, OnDestroy {\r\n  parentRouting;\r\n\r\n  heightAppEvent;\r\n\r\n  refreshStackingEvent;\r\n\r\n  periods = [\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.WEEK1'),\r\n      key: '1 week',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.WEEK2'),\r\n      key: '2 week',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.MONTH1'),\r\n      key: '1 month',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.MONTH3'),\r\n      key: '3 month',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.MONTH6'),\r\n      key: '6 month',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.YEAR'),\r\n      key: '1 year',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.ALL'),\r\n      key: 'All',\r\n      active: true\r\n    }\r\n  ];\r\n\r\n  groups = [\r\n    {\r\n      title: this.translate.instant('STAKING.GROUP.DAY'),\r\n      key: 'day',\r\n      active: true\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.GROUP.WEEK'),\r\n      key: 'week',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.GROUP.MONTH'),\r\n      key: 'month',\r\n      active: false\r\n    }\r\n  ];\r\n\r\n  selectedGroup = this.groups[0].key;\r\n\r\n  selectedDate = {\r\n    date: null,\r\n    amount: null\r\n  };\r\n\r\n  originalData = [];\r\n\r\n  chart: Chart;\r\n\r\n  total = new BigNumber(0);\r\n\r\n  pending = {\r\n    list: [],\r\n    total: new BigNumber(0)\r\n  };\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  static makeGroupTime(key, date) {\r\n    if (key === 'day') {\r\n      return date.setHours(0, 0, 0, 0);\r\n    } else if (key === 'week') {\r\n      return new Date(date.setDate(date.getDate() - date.getDay())).setHours(0, 0, 0, 0);\r\n    } else {\r\n      return new Date(date.setDate(1)).setHours(0, 0, 0, 0);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.parentRouting = this.route.parent.params.subscribe(() => {\r\n      this.getMiningHistory();\r\n    });\r\n    this.heightAppEvent = this.variablesService.getHeightAppEvent.subscribe((newHeight: number) => {\r\n      if (!this.pending.total.isZero()) {\r\n        const pendingCount = this.pending.list.length;\r\n        for (let i = pendingCount - 1; i >= 0; i--) {\r\n          if (newHeight - this.pending.list[i].h >= 10) {\r\n            this.pending.list.splice(i, 1);\r\n          }\r\n        }\r\n        if (pendingCount !== this.pending.list.length) {\r\n          this.pending.total = new BigNumber(0);\r\n          for (let i = 0; i < this.pending.list.length; i++) {\r\n            this.pending.total = this.pending.total.plus(this.pending.list[i].a);\r\n          }\r\n        }\r\n      }\r\n    });\r\n    this.refreshStackingEvent = this.variablesService.getRefreshStackingEvent.subscribe((wallet_id: number) => {\r\n      if (this.variablesService.currentWallet.wallet_id === wallet_id) {\r\n        this.getMiningHistory();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.parentRouting.unsubscribe();\r\n    this.heightAppEvent.unsubscribe();\r\n    this.refreshStackingEvent.unsubscribe();\r\n  }\r\n\r\n  drawChart(data): void {\r\n    this.chart = new Chart({\r\n      title: { text: '' },\r\n      credits: { enabled: false },\r\n      exporting: { enabled: false },\r\n      legend: { enabled: false },\r\n      chart: {\r\n        type: 'line',\r\n        backgroundColor: 'transparent',\r\n        height: null,\r\n        zoomType: null,\r\n        events: {\r\n          load: () => {\r\n            this.changePeriod();\r\n          }\r\n        }\r\n      },\r\n\r\n      yAxis: {\r\n        min: 0,\r\n        tickAmount: 5,\r\n        title: {\r\n          text: ''\r\n        },\r\n        gridLineColor: '#2b3644',\r\n        gridLineWidth: 2,\r\n        lineColor: '#2b3644',\r\n        lineWidth: 2,\r\n        tickWidth: 2,\r\n        tickLength: 120,\r\n        tickColor: '#2b3644',\r\n        labels: {\r\n          y: -8,\r\n          align: 'left',\r\n          x: -120,\r\n          style: {\r\n            'color': '#e0e0e0',\r\n            'fontSize': '13px'\r\n          },\r\n          format: '{value} ' + this.variablesService.defaultCurrency\r\n        },\r\n        showLastLabel: false,\r\n      },\r\n\r\n      xAxis: {\r\n        type: 'datetime',\r\n        gridLineColor: '#2b3644',\r\n        lineColor: '#2b3644',\r\n        lineWidth: 2,\r\n        tickWidth: 2,\r\n        tickLength: 10,\r\n        tickColor: '#2b3644',\r\n        labels: {\r\n          style: {\r\n            'color': '#e0e0e0',\r\n            'fontSize': '13px'\r\n          }\r\n        },\r\n        minPadding: 0,\r\n        maxPadding: 0,\r\n        minRange: 86400000,\r\n        // tickInterval: 86400000,\r\n        minTickInterval: 3600000,\r\n      },\r\n\r\n      tooltip: {\r\n        enabled: false\r\n      },\r\n\r\n      plotOptions: {\r\n        area: {\r\n          fillColor: {\r\n            linearGradient: {\r\n              x1: 0,\r\n              y1: 0,\r\n              x2: 0,\r\n              y2: 1\r\n            },\r\n            stops: [\r\n              [0, 'rgba(124,181,236,0.2)'],\r\n              [1, 'rgba(124,181,236,0)']\r\n            ]\r\n          },\r\n          marker: {\r\n            enabled: false,\r\n            radius: 2\r\n          },\r\n          lineWidth: 2,\r\n          threshold: null\r\n        },\r\n\r\n        series: {\r\n          point: {\r\n            events: {\r\n              mouseOver: (obj) => {\r\n                this.selectedDate.date = obj.target['x'];\r\n                this.selectedDate.amount = obj.target['y'];\r\n              }\r\n            }\r\n          },\r\n          events: {\r\n            mouseOut: () => {\r\n              this.selectedDate.date = null;\r\n              this.selectedDate.amount = null;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      series: [\r\n        {\r\n          type: 'area',\r\n          data: data\r\n        }\r\n      ]\r\n    });\r\n  }\r\n\r\n  getMiningHistory(): void {\r\n    if (this.variablesService.currentWallet.loaded) {\r\n      this.backend.getMiningHistory(this.variablesService.currentWallet.wallet_id, (status, data) => {\r\n        this.total = new BigNumber(0);\r\n        this.pending.list = [];\r\n        this.pending.total = new BigNumber(0);\r\n        this.originalData = [];\r\n        if (data.mined_entries) {\r\n          data.mined_entries.forEach((item, key) => {\r\n            if (item.t.toString().length === 10) {\r\n              data.mined_entries[key].t = (new Date(item.t * 1000)).setUTCMilliseconds(0);\r\n            }\r\n          });\r\n          data.mined_entries.forEach((item) => {\r\n            this.total = this.total.plus(item.a);\r\n            if (this.variablesService.height_app - item.h < 10) {\r\n              this.pending.list.push(item);\r\n              this.pending.total = this.pending.total.plus(item.a);\r\n            }\r\n            this.originalData.push([parseInt(item.t, 10), parseFloat(this.intToMoneyPipe.transform(item.a))]);\r\n          });\r\n          this.originalData = this.originalData.sort(function (a, b) {\r\n            return a[0] - b[0];\r\n          });\r\n        }\r\n        this.ngZone.run(() => {\r\n          this.drawChart([]);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  changePeriod(period?): void {\r\n    if (period) {\r\n      this.periods.forEach((p) => {\r\n        p.active = false;\r\n      });\r\n      period.active = true;\r\n    } else {\r\n      period = this.periods.find((p) => p.active);\r\n    }\r\n\r\n    const d = new Date();\r\n    let min = null;\r\n    const newData = [];\r\n\r\n    const group = this.groups.find((g) => g.active);\r\n\r\n    if (period.key === '1 week') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth(), d.getDate() - 7, 0, 0, 0, 0);\r\n    } else if (period.key === '2 week') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth(), d.getDate() - 14, 0, 0, 0, 0);\r\n    } else if (period.key === '1 month') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth() - 1, d.getDate(), 0, 0, 0, 0);\r\n    } else if (period.key === '3 month') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth() - 3, d.getDate(), 0, 0, 0, 0);\r\n    } else if (period.key === '6 month') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth() - 6, d.getDate(), 0, 0, 0, 0);\r\n    } else if (period.key === '1 year') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear() - 1, d.getMonth(), d.getDate(), 0, 0, 0, 0);\r\n    } else {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n    }\r\n\r\n    this.chart.ref.xAxis[0].setExtremes(min, null);\r\n  }\r\n\r\n  changeGroup(group): void {\r\n    this.groups.forEach((g) => {\r\n      g.active = false;\r\n    });\r\n    group.active = true;\r\n    this.changePeriod();\r\n  }\r\n}\r\n","<div class=\"chart-wrap\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\">\r\n\t<div class=\"scrolled-content h-100\"\r\n\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t fxLayout=\"column\">\r\n\t\t<div class=\"chart-header mb-1\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"row\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t fxLayoutAlign=\"space-between start\"\r\n\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t\t<div class=\"left\"\r\n\t\t\t\t\t\t fxFlex=\"1 1 calc(50% - 0.5rem)\"\r\n\t\t\t\t\t\t fxLayout=\"row wrap\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"start center\"\r\n\t\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\r\n\t\t\t\t\t<div class=\"items\"\r\n\t\t\t\t\t\t\t fxLayout=\"row wrap\"\r\n\t\t\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t*ngIf=\"(!variablesService.currentWallet.is_auditable && !variablesService.currentWallet.is_watch_only)\r\n                  || (variablesService.currentWallet.is_auditable && !variablesService.currentWallet.is_watch_only)\"\r\n\t\t\t\t\t\t\tclass=\"item overflow-hidden p-1 border-radius-0_8-rem mb-1\"\r\n\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"left overflow-hidden mr-1\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">{{ 'STAKING.TITLE' | translate }}</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"right overflow-hidden w-100\"\r\n\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"end center\">\r\n\t\t\t\t\t\t\t\t<app-staking-switch\r\n\t\t\t\t\t\t\t\t\t[(staking)]=\"variablesService.currentWallet.staking\"\r\n\t\t\t\t\t\t\t\t\t[wallet_id]=\"variablesService.currentWallet.wallet_id\">\r\n\t\t\t\t\t\t\t\t</app-staking-switch>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"item overflow-hidden p-1 border-radius-0_8-rem mb-1\"\r\n\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"left overflow-hidden mr-1\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">{{ 'STAKING.TITLE_PENDING' | translate }}\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right overflow-hidden w-100\"\r\n\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"end center\">\r\n\t\t\t\t\t\t\t\t<div class=\"text-ellipsis mr-1\">{{pending.total | intToMoney}}</div>\r\n\t\t\t\t\t\t\t\t{{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"item overflow-hidden p-1 border-radius-0_8-rem mb-1\"\r\n\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"left overflow-hidden mr-1\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">{{ 'STAKING.TITLE_TOTAL' | translate }}\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right overflow-hidden w-100\"\r\n\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"end center\">\r\n\t\t\t\t\t\t\t\t<div class=\"text-ellipsis mr-1\">{{total | intToMoney}}</div>\r\n\t\t\t\t\t\t\t\t{{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"right\"\r\n\t\t\t\t\t\t fxFlex=\"1 1 calc(50% - 0.5rem)\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"end center\"\r\n\t\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t\t\t<div *ngIf=\"selectedDate && selectedDate.date\"\r\n\t\t\t\t\t\t\t class=\"selected overflow-hidden\"\r\n\t\t\t\t\t\t\t fxHide\r\n\t\t\t\t\t\t\t fxShow.lg\r\n\t\t\t\t\t\t\t fxShow.xl>\r\n\t\t\t\t\t\t<div class=\"overflow-hidden\" fxLayout=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"text-ellipsis\">{{selectedDate.date | date : 'EEEE, MMMM d, y'}}\r\n\t\t\t\t\t\t\t\t{{selectedDate.amount}}</div>\r\n\t\t\t\t\t\t\t<div class=\"ml-0_5\">{{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<ng-select (change)=\"changeGroup($event)\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"selectedGroup\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"groups\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"title\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"key\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"selected-group max-w-19-rem w-100\">\r\n\t\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t\tSort by {{(item.title | translate | lowercase) + 's'}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t\t{{item.title | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\"\r\n\t\t\t\t\t fxFlex=\"0 0 2rem\"\r\n\t\t\t\t\t fxHide.lg\r\n\t\t\t\t\t fxHide.xl\r\n\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t fxLayoutAlign=\"space-between center\"\r\n\t\t\t\t\t fxLayoutGap=\"1rem\"\r\n\t\t\t\t\t fxShow>\r\n\t\t\t\t<div class=\"left\"></div>\r\n\t\t\t\t<div class=\"right\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"end center\">\r\n\t\t\t\t\t<div *ngIf=\"selectedDate && selectedDate.date\"\r\n\t\t\t\t\t\t\t class=\"selected overflow-hidden\">\r\n\t\t\t\t\t\t<div class=\"overflow-hidden\" fxLayout=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"text-ellipsis\">{{selectedDate.date | date : 'EEEE, MMMM d, y'}}\r\n\t\t\t\t\t\t\t\t{{selectedDate.amount}}</div>\r\n\t\t\t\t\t\t\t<div class=\"ml-0_5\">{{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"chart border-radius-0_8-rem\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t<div [chart]=\"chart\"></div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"chart-options mt-2\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t<ng-container *ngFor=\"let period of periods; let last = last\">\r\n\t\t\t\t<button (click)=\"changePeriod(period)\"\r\n\t\t\t\t\t\t\t\t[class.active]=\"period.active\"\r\n\t\t\t\t\t\t\t\t[class.mr-1]=\"!last\"\r\n\t\t\t\t\t\t\t\t[class.outline]=\"!last\"\r\n\t\t\t\t\t\t\t\t[class.primary]=\"last\"\r\n\t\t\t\t\t\t\t\tclass=\"big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{period.title}}</button>\r\n\t\t\t</ng-container>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { DOWNLOADS_PAGE_URL } from '../_shared/constants';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\n\r\n@Component({\r\n  selector: 'app-synchronization-status',\r\n  templateUrl: './synchronization-status.component.html',\r\n  styleUrls: ['./synchronization-status.component.scss']\r\n})\r\nexport class SynchronizationStatusComponent {\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backend: BackendService\r\n  ) {\r\n  }\r\n\r\n  getUpdate(): void {\r\n    this.backend.openUrlInBrowser(DOWNLOADS_PAGE_URL);\r\n  }\r\n\r\n}\r\n","<div [ngStyle]=\"{'align-items': variablesService.daemon_state === 1 || variablesService.daemon_state === 6 ? 'flex-start' : 'center'}\"\r\n\t\t class=\"synchronization-status overflow-hidden\">\r\n\t<div class=\"status-container\">\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 0\"\r\n\t\t\t\t class=\"offline\">\r\n\t\t\t<span>{{ 'SIDEBAR.SYNCHRONIZATION.OFFLINE' | translate }}</span>\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 1\"\r\n\t\t\t\t class=\"syncing text-ellipsis\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.SYNCING' | translate }}\r\n\t\t\t{{ variablesService.sync.progress_value_text }}%\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 2\"\r\n\t\t\t\t class=\"online\">\r\n\t\t\t<span>{{ 'SIDEBAR.SYNCHRONIZATION.ONLINE' | translate }}</span>\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 3\"\r\n\t\t\t\t class=\"loading\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.LOADING' | translate }}\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 4\"\r\n\t\t\t\t class=\"offline\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.ERROR' | translate }}\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 5\"\r\n\t\t\t\t class=\"online\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.COMPLETE' | translate }}\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 6\"\r\n\t\t\t\t class=\"syncing text-ellipsis\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.DOWNLOADING' | translate }}\r\n\t\t\t{{ variablesService.download.progress_value_text }}%\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 1 || variablesService.daemon_state === 3\"\r\n\t\t\t\t class=\"progress-bar-container\">\r\n\t\t\t<div *ngIf=\"variablesService.daemon_state === 1\"\r\n\t\t\t\t\t class=\"syncing\">\r\n\t\t\t\t<div class=\"progress-bar\">\r\n\t\t\t\t\t<div [style.width]=\"variablesService.sync.progress_value + '%'\"\r\n\t\t\t\t\t\t\t class=\"fill\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div *ngIf=\"variablesService.daemon_state === 3\"\r\n\t\t\t\t\t class=\"loading\"></div>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 6\"\r\n\t\t\t\t class=\"progress-bar-container\">\r\n\t\t\t<div *ngIf=\"variablesService.daemon_state === 6\"\r\n\t\t\t\t\t class=\"syncing downloading\">\r\n\t\t\t\t<div class=\"progress-bar\">\r\n\t\t\t\t\t<div [style.width]=\"variablesService.download.progress_value + '%'\"\r\n\t\t\t\t\t\t\t class=\"fill\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div *ngIf=\"(variablesService.daemon_state === 0 || variablesService.daemon_state === 2) && [2, 3, 4].indexOf(variablesService.last_build_displaymode) !== -1\"\r\n\t\t\t class=\"update-container\">\r\n\t\t<ng-container *ngIf=\"variablesService.last_build_displaymode === 2\">\r\n\t\t\t<div class=\"update-text standard\">\r\n                <span (click)=\"getUpdate()\"\r\n\t\t\t\t\t\t\t\t\t\t\t[style.cursor]=\"'pointer'\">{{ 'SIDEBAR.UPDATE.STANDARD' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t\t<i [delay]=\"500\"\r\n\t\t\t\t class=\"icon update standard\"\r\n\t\t\t\t placement=\"right-bottom\"\r\n\t\t\t\t tooltip=\"{{ 'SIDEBAR.UPDATE.STANDARD_TOOLTIP' | translate }}\"\r\n\t\t\t\t tooltipClass=\"update-tooltip\"></i>\r\n\t\t</ng-container>\r\n\r\n\t\t<ng-container *ngIf=\"variablesService.last_build_displaymode === 3\">\r\n\t\t\t<div class=\"update-text important\">\r\n                <span (click)=\"getUpdate()\"\r\n\t\t\t\t\t\t\t\t\t\t\t[style.cursor]=\"'pointer'\">{{ 'SIDEBAR.UPDATE.IMPORTANT' | translate }}</span>\r\n\t\t\t\t<span style=\"font-size: 1rem\">{{ 'SIDEBAR.UPDATE.IMPORTANT_HINT' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t\t<i [delay]=\"500\"\r\n\t\t\t\t class=\"icon update important\"\r\n\t\t\t\t placement=\"right-bottom\"\r\n\t\t\t\t tooltip=\"{{ 'SIDEBAR.UPDATE.IMPORTANT_TOOLTIP' | translate }}\"\r\n\t\t\t\t tooltipClass=\"update-tooltip important\"></i>\r\n\t\t</ng-container>\r\n\r\n\t\t<ng-container *ngIf=\"variablesService.last_build_displaymode === 4\">\r\n\t\t\t<div class=\"update-text critical\">\r\n                <span (click)=\"getUpdate()\"\r\n\t\t\t\t\t\t\t\t\t\t\t[style.cursor]=\"'pointer'\">{{ 'SIDEBAR.UPDATE.CRITICAL' | translate }}</span>\r\n\t\t\t\t<span style=\"font-size: 1rem\">{{ 'SIDEBAR.UPDATE.IMPORTANT_HINT' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t\t<i [delay]=\"500\"\r\n\t\t\t\t class=\"icon update critical\"\r\n\t\t\t\t placement=\"right-bottom\"\r\n\t\t\t\t tooltip=\"{{ 'SIDEBAR.UPDATE.CRITICAL_TOOLTIP' | translate }}\"\r\n\t\t\t\t tooltipClass=\"update-tooltip critical\"></i>\r\n\t\t</ng-container>\r\n\t</div>\r\n\r\n\t<div *ngIf=\"variablesService.daemon_state === 2 && variablesService.net_time_delta_median !== 0\"\r\n\t\t\t class=\"update-container\">\r\n\t\t<div class=\"update-text time-orange\">\r\n\t\t\t<span>{{ 'SIDEBAR.UPDATE.TIME' | translate }}</span>\r\n\t\t</div>\r\n\t\t<i [delay]=\"500\"\r\n\t\t\t class=\"icon time-orange\"\r\n\t\t\t placement=\"right-bottom\"\r\n\t\t\t tooltip=\"{{ 'SIDEBAR.UPDATE.TIME_TOOLTIP' | translate }}\"\r\n\t\t\t tooltipClass=\"update-tooltip important\"></i>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SynchronizationStatusComponent } from './synchronization-status.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { TooltipModule } from '../_helpers/directives/tooltip/tooltip.module';\r\n\r\n@NgModule({\r\n  declarations: [SynchronizationStatusComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    TooltipModule\r\n  ],\r\n  exports: [SynchronizationStatusComponent]\r\n})\r\nexport class SynchronizationStatusModule {\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.TRANSFER_ALIAS' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/wallet/history']\">{{ wallet.name }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'BREADCRUMBS.TRANSFER_ALIAS' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form class=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"alias-name\">\r\n\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.NAME.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input [value]=\"alias.name\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t id=\"alias-name\"\r\n\t\t\t\t\t\t\t\t name=\"alias-name\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'EDIT_ALIAS.NAME.PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field textarea\">\r\n\t\t\t\t\t<label for=\"alias-comment\">\r\n\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.COMMENT.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea [(ngModel)]=\"alias.comment\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"{{ 'EDIT_ALIAS.COMMENT.PLACEHOLDER' | translate }}\"></textarea>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"alias-transfer\">\r\n\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.ADDRESS.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t (ngModelChange)=\"changeAddress()\"\r\n\t\t\t\t\t\t\t\t [(ngModel)]=\"transferAddress\"\r\n\t\t\t\t\t\t\t\t [class.invalid]=\"transferAddress.length > 0 && (transferAddressAlias || !transferAddressValid || (transferAddressValid && !permissionSend) || notEnoughMoney)\"\r\n\t\t\t\t\t\t\t\t [ngModelOptions]=\"{standalone: true}\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t id=\"alias-transfer\"\r\n\t\t\t\t\t\t\t\t name=\"alias-transfer\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'TRANSFER_ALIAS.ADDRESS.PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"transferAddress.length > 0 && (transferAddressAlias || !transferAddressValid || (transferAddressValid && !permissionSend) || notEnoughMoney)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"!transferAddressValid\">\r\n\t\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.FORM_ERRORS.WRONG_ADDRESS' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"transferAddressAlias || (transferAddressValid && !permissionSend)\">\r\n\t\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.FORM_ERRORS.ALIAS_EXISTS' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"notEnoughMoney\">\r\n\t\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.FORM_ERRORS.NO_MONEY' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"alias-cost mb-2\">{{ \"TRANSFER_ALIAS.COST\" | translate : {\r\n\t\t\t\t\tvalue: variablesService.default_fee, currency:\r\n\t\t\t\t\tvariablesService.defaultCurrency\r\n\t\t\t\t} }}</div>\r\n\r\n\t\t\t\t<button (click)=\"transferAlias()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"transferAddressAlias || !transferAddressValid || notEnoughMoney\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t{{ 'TRANSFER_ALIAS.BUTTON_TRANSFER' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\n\r\n@Component({\r\n  selector: 'app-transfer-alias',\r\n  templateUrl: './transfer-alias.component.html',\r\n  styleUrls: ['./transfer-alias.component.scss']\r\n})\r\nexport class TransferAliasComponent implements OnInit {\r\n  wallet: Wallet;\r\n\r\n  alias: any;\r\n\r\n  transferAddress = '';\r\n\r\n  transferAddressValid: boolean;\r\n\r\n  transferAddressAlias: boolean;\r\n\r\n  permissionSend: boolean;\r\n\r\n  notEnoughMoney: boolean;\r\n\r\n  requestProcessing = false;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private location: Location,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.wallet = this.variablesService.currentWallet;\r\n    const alias = this.backend.getWalletAlias(this.wallet.address);\r\n    this.alias = {\r\n      name: alias.name,\r\n      address: alias.address,\r\n      comment: alias.comment,\r\n      tracking_key: alias.tracking_key\r\n    };\r\n    this.notEnoughMoney = this.wallet.unlocked_balance.isLessThan(this.variablesService.default_fee_big);\r\n  }\r\n\r\n  changeAddress(): void {\r\n    this.backend.validateAddress(this.transferAddress, status => {\r\n      this.transferAddressValid = status;\r\n      if (status) {\r\n        this.backend.getPoolInfo((statusPool, dataPool) => {\r\n          if (dataPool.hasOwnProperty('aliases_que') && dataPool.aliases_que.length) {\r\n            this.setStatus(!dataPool.aliases_que.some((el) => el.address === this.transferAddress));\r\n          } else {\r\n            this.setStatus(status);\r\n          }\r\n        });\r\n      } else {\r\n        this.setStatus(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  setStatus(statusSet): void {\r\n    this.permissionSend = statusSet;\r\n    if (statusSet) {\r\n      this.backend.getAliasByAddress(this.transferAddress, (status) => {\r\n        this.ngZone.run(() => {\r\n          if (status) {\r\n            this.transferAddressAlias = true;\r\n            this.permissionSend = false;\r\n          } else {\r\n            this.transferAddressAlias = false;\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      this.ngZone.run(() => {\r\n        this.transferAddressAlias = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  transferAlias(): void {\r\n    if (this.requestProcessing || !this.permissionSend || !this.transferAddressValid || this.notEnoughMoney) {\r\n      return;\r\n    }\r\n    this.requestProcessing = true;\r\n    const newAlias = {\r\n      name: this.alias.name,\r\n      address: this.transferAddress,\r\n      comment: this.alias.comment,\r\n      tracking_key: this.alias.tracking_key\r\n    };\r\n    this.backend.updateAlias(this.wallet.wallet_id, newAlias, this.variablesService.default_fee, (status, data) => {\r\n      if (status && data.hasOwnProperty('success') && data.success) {\r\n        this.modalService.prepareModal('info', 'TRANSFER_ALIAS.REQUEST_SEND_REG');\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/wallet/']);\r\n        });\r\n      }\r\n      this.requestProcessing = false;\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators, ValidationErrors } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-wallet-details',\r\n  templateUrl: './wallet-details.component.html',\r\n  styleUrls: ['./wallet-details.component.scss'],\r\n})\r\nexport class WalletDetailsComponent implements OnInit {\r\n  seedPhrase = '';\r\n\r\n  showSeed = false;\r\n\r\n  seedPhraseCopied = false;\r\n\r\n  ifSaved = false;\r\n\r\n  detailsForm = new FormGroup({\r\n    name: new FormControl('', [\r\n      Validators.required,\r\n      (g: FormControl) => {\r\n        for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n          if (g.value === this.variablesService.wallets[i].name) {\r\n            if (\r\n              this.variablesService.wallets[i].wallet_id ===\r\n              this.variablesService.currentWallet.wallet_id\r\n            ) {\r\n              return { same: true };\r\n            } else {\r\n              return { duplicate: true };\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      },\r\n    ]),\r\n    path: new FormControl(''),\r\n  });\r\n\r\n  seedPhraseForm = new FormGroup(\r\n    {\r\n      password: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n      confirmPassword: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n    },\r\n    { validators: this.checkPasswords }\r\n  );\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private location: Location\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.showSeed = false;\r\n    this.detailsForm\r\n      .get('name')\r\n      .setValue(this.variablesService.currentWallet.name);\r\n    this.detailsForm\r\n      .get('path')\r\n      .setValue(this.variablesService.currentWallet.path);\r\n  }\r\n\r\n  checkPasswords(group: FormGroup): ValidationErrors | null {\r\n    const pass = group.controls.password.value;\r\n    const confirmPass = group.controls.confirmPassword.value;\r\n\r\n    return pass === confirmPass ? null : { notSame: true };\r\n  }\r\n\r\n  showSeedPhrase(): void {\r\n    this.showSeed = true;\r\n  }\r\n\r\n  onSubmitSeed(): void {\r\n    if (this.seedPhraseForm.valid) {\r\n      this.showSeedPhrase();\r\n      const wallet_id = this.variablesService.currentWallet.wallet_id;\r\n      const seed_password = this.seedPhraseForm.controls.password.value;\r\n      this.backend.getSmartWalletInfo(\r\n        { wallet_id, seed_password },\r\n        (status, data) => {\r\n          if (data.hasOwnProperty('seed_phrase')) {\r\n            this.ngZone.run(() => {\r\n              this.seedPhrase = data['seed_phrase'].trim();\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  onSave(): void {\r\n    this.ifSaved = true;\r\n    setTimeout(() => {\r\n      this.ifSaved = false;\r\n    }, 3000);\r\n  }\r\n\r\n  onSubmitEdit(): void {\r\n    if (this.detailsForm.value) {\r\n      this.onSave();\r\n      this.variablesService.currentWallet.name = this.detailsForm.get(\r\n        'name'\r\n      ).value;\r\n      this.detailsForm.reset({ name: this.variablesService.currentWallet.name, path: this.variablesService.currentWallet.path });\r\n    }\r\n  }\r\n\r\n  copySeedPhrase(): void {\r\n    this.backend.setClipboard(this.seedPhrase, () => {\r\n      this.ngZone.run(() => {\r\n        setTimeout(() => {\r\n          this.seedPhraseCopied = false;\r\n        }, 4000);\r\n        this.seedPhraseCopied = true;\r\n      });\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.WALLET_DETAILS' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/wallet/history']\">{{ variablesService.currentWallet.name }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'BREADCRUMBS.WALLET_DETAILS' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<div fxFlexFill\r\n\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t fxLayoutAlign=\"start stretch\">\r\n\t\t\t\t<form (ngSubmit)=\"onSubmitEdit()\"\r\n\t\t\t\t\t\t\t[formGroup]=\"detailsForm\"\r\n\t\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"wallet-name\">{{ 'WALLET_DETAILS.LABEL_NAME' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [maxLength]=\"variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].invalid && (detailsForm.controls['name'].dirty || detailsForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].errors['same']\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.get('name').value.length >= variablesService.maxWalletNameLength\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button [disabled]=\"detailsForm.invalid && !detailsForm.controls['name'].dirty\"\r\n\t\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100 mb-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t\t\t\t{{'SETTINGS.MASTER_PASSWORD.BUTTON' | translate }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<p *ngIf=\"ifSaved\"\r\n\t\t\t\t\t\t [class.active]=\"ifSaved\"\r\n\t\t\t\t\t\t class=\"saved-message\">Saved!</p>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"wallet-location\">{{ 'WALLET_DETAILS.LABEL_FILE_LOCATION' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, detailsForm.get('path')?.value)\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input cursor-default\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"path\"\r\n\t\t\t\t\t\t\t\t\t id=\"wallet-location\"\r\n\t\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<ng-container *ngIf=\"!showSeed else seedPhraseContent\">\r\n\t\t\t\t\t<form (ngSubmit)=\"onSubmitSeed()\"\r\n\t\t\t\t\t\t\t\t[formGroup]=\"seedPhraseForm\"\r\n\t\t\t\t\t\t\t\tclass=\"form bg-light-blue-details p-2\"\r\n\t\t\t\t\t\t\t\tfxFlex=\"0 0 auto\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"column\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t<label for=\"create-password\">{{ 'WALLET_DETAILS.CREATE_PASSWORD_SECURE' | translate }}</label>\r\n\t\t\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t id=\"create-password\"\r\n\t\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PASSWORD_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t<label for=\"confirm-password\">{{ 'WALLET_DETAILS.FORM.CONFIRM_PASSWORD' | translate }}</label>\r\n\t\t\t\t\t\t\t<input [class.invalid]=\"seedPhraseForm.invalid && seedPhraseForm.get('confirmPassword').value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t formControlName=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t id=\"confirm-password\"\r\n\t\t\t\t\t\t\t\t\t\t placeholder=\"{{'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate}}\"\r\n\t\t\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"seedPhraseForm.invalid && (seedPhraseForm.controls['confirmPassword'].dirty || seedPhraseForm.controls['confirmPassword'].touched)\"\r\n\t\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t\t<div *ngIf=\"seedPhraseForm.invalid && seedPhraseForm.get('confirmPassword').value.length > 0\">\r\n\t\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.PASSWORDS_DONT_MATCH' | translate }}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button [disabled]=\"!seedPhraseForm.valid\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"><i class=\"icon check-shield mr-1\"></i>\r\n\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM.GENERATE_SECURE_SEED' | translate }}</button>\r\n\r\n\t\t\t\t\t\t<p class=\"color-primary\"\r\n\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t\t<i class=\"icon info-circle mr-1\"></i>\r\n\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM.SECURED_SEED_WILL_REQUIRE' | translate }}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-template #seedPhraseContent>\r\n\t\t\t\t\t<div class=\"seed-phrase bg-light-blue-details p-2 border-radius-0_8-rem\"\r\n\t\t\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t\t\t<div class=\"header mb-2\"\r\n\t\t\t\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t\t<span>{{ 'WALLET_DETAILS.LABEL_SEED_PHRASE' | translate }}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right\">\r\n                                <span *ngIf=\"seedPhraseForm.controls.password.value.length == 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"status color-red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n                                    {{ 'WALLET_DETAILS.SEED_IS_UNSECURED' | translate }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon unsecured ml-1\"></i>\r\n                                </span>\r\n\t\t\t\t\t\t\t\t<span *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"status color-aqua\"\r\n\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n                                    {{ 'WALLET_DETAILS.SEED_IS_SECURED' | translate }}\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon secured ml-1\"></i>\r\n                                </span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, seedPhrase)\"\r\n\t\t\t\t\t\t\t\t class=\"content mb-1\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row wrap\">\r\n\t\t\t\t\t\t\t<ng-container *ngFor=\"let word of seedPhrase.split(' '); let index = index\">\r\n\t\t\t\t\t\t\t\t<div class=\"item p-1 mr-1 mb-1 border-radius-0_8-rem\"\r\n\t\t\t\t\t\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"number p-1 mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">{{ index + 1 }}</div>\r\n\t\t\t\t\t\t\t\t\t<span class=\"word\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\">{{ word }}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"footer max-w-50-rem w-100\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t\t\t\t<button (click)=\"copySeedPhrase()\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"!seedPhraseCopied\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon copy mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\t{{ 'SEED_PHRASE.BUTTON_COPY' | translate }}\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"seedPhraseCopied\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon check mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\t{{ 'SEED_PHRASE.BUTTON_COPIED' | translate }}\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<p *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"text-align-center\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon info-circle mr-1\"></i>\r\n\t\t\t\t\t\t\t\t<span class=\"color-primary\">{{ 'WALLET_DETAILS.REMEMBER_YOU_WILL_REQUIRE' | translate}}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</ng-template>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, HostListener, NgZone, OnDestroy, OnInit, } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\nimport { Subject } from 'rxjs';\r\nimport { Store, Sync } from 'store';\r\nimport { distinctUntilChanged, filter, takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-wallet',\r\n  templateUrl: './wallet.component.html',\r\n  styleUrls: ['./wallet.component.scss'],\r\n})\r\nexport class WalletComponent implements OnInit, OnDestroy {\r\n  settingsButtonInterval;\r\n\r\n  settingsButtonDisabled = true;\r\n\r\n  walletLoaded = false;\r\n\r\n  openDropdown: boolean;\r\n\r\n  delWalletDialogVisible = false;\r\n\r\n  exportHistoryDialogVisible = false;\r\n\r\n  stateVisibleAddCustomToken = false;\r\n\r\n  closeWalletId: number;\r\n\r\n  walletSyncVisible = false;\r\n\r\n  tabs = [\r\n    {\r\n      title: 'WALLET.TABS.HISTORY',\r\n      icon: 'time-circle',\r\n      link: '/history',\r\n      disabled: false\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.SEND',\r\n      icon: 'arrow-up-square',\r\n      link: '/send',\r\n      disabled: true\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.RECEIVE',\r\n      icon: 'arrow-down-square',\r\n      link: '/receive',\r\n      disabled: false\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.CONTRACTS',\r\n      icon: 'document',\r\n      link: '/contracts',\r\n      disabled: true\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.STAKING',\r\n      icon: 'staking',\r\n      link: '/staking',\r\n      indicator: false,\r\n      disabled: true\r\n    },\r\n  ];\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private store: Store\r\n  ) {\r\n    if (!this.variablesService.currentWallet && this.variablesService.wallets.length > 0) {\r\n      this.variablesService.setCurrentWallet(0);\r\n    }\r\n    this.walletLoaded = this.variablesService.currentWallet.loaded;\r\n  }\r\n\r\n  @HostListener('document:keydown.shift', ['$event.key'])\r\n  onKeyPressed(): void {\r\n    if (!this.openDropdown) {\r\n      this.walletSyncVisible = true;\r\n    }\r\n  }\r\n\r\n  @HostListener('document:keyup.shift', ['$event.key'])\r\n  onKeyUpPressed(): void {\r\n    if (!this.openDropdown) {\r\n      this.walletSyncVisible = false;\r\n    }\r\n  }\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  onClick(targetElement): void {\r\n    if (targetElement.dataset.target !== 'wallet-dropdown-button' && this.openDropdown) {\r\n      this.openDropdown = false;\r\n      this.walletSyncVisible = false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.settingsButtonInterval = setInterval(() => {\r\n      // tslint:disable-next-line:triple-equals\r\n      if (this.variablesService.daemon_state == 2 || this.walletLoaded) {\r\n        this.settingsButtonDisabled = false;\r\n        clearInterval(this.settingsButtonInterval);\r\n      }\r\n    }, 1000);\r\n    this.store\r\n      .select('sync')\r\n      .pipe(filter(Boolean), distinctUntilChanged(), takeUntil(this.destroy$))\r\n      .subscribe((value: any) => {\r\n        const data = value.filter(\r\n          (item: Sync) => item.wallet_id === this.variablesService.currentWallet.wallet_id\r\n        )[0];\r\n        if (data && !data.sync) {\r\n          let in_progress;\r\n          const values = this.store.value.sync;\r\n          if (values && values.length) {\r\n            in_progress = values.filter((item) => item.sync);\r\n            this.variablesService.sync_started = !!(\r\n              in_progress && in_progress.length\r\n            );\r\n            if (!in_progress) {\r\n              this.variablesService.sync_started = false;\r\n            }\r\n          } else {\r\n            this.variablesService.sync_started = false;\r\n          }\r\n        }\r\n      });\r\n    if (this.variablesService.currentWallet.alias.hasOwnProperty('name')) {\r\n      this.variablesService.currentWallet.wakeAlias = false;\r\n    }\r\n    this.variablesService.getAliasChangedEvent.pipe(takeUntil(this.destroy$)).subscribe(\r\n      () => {\r\n        if (this.variablesService.currentWallet.alias.hasOwnProperty('name')) {\r\n          this.variablesService.currentWallet.wakeAlias = false;\r\n        }\r\n      }\r\n    );\r\n    this.updateWalletStatus();\r\n    this.variablesService.getWalletChangedEvent.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      this.setTabsDisabled(this.variablesService.currentWallet.balance.eq(0));\r\n    });\r\n  }\r\n\r\n  toggleMenuDropdown(): void {\r\n    if (!this.openDropdown) {\r\n      this.openDropdown = true;\r\n    } else {\r\n      this.openDropdown = false;\r\n      this.walletSyncVisible = false;\r\n    }\r\n  }\r\n\r\n  resyncCurrentWallet(id): void {\r\n    this.backend.resyncWallet(id);\r\n  }\r\n\r\n  showConfirmDialog(wallet_id): void {\r\n    this.delWalletDialogVisible = true;\r\n    this.closeWalletId = wallet_id;\r\n  }\r\n\r\n  closeExportModal(confirmed: boolean): void {\r\n    if (confirmed) {\r\n      this.exportHistoryDialogVisible = false;\r\n    }\r\n  }\r\n\r\n  confirmed(confirmed: boolean): void {\r\n    if (confirmed) {\r\n      this.closeWallet(this.closeWalletId);\r\n    }\r\n    this.delWalletDialogVisible = false;\r\n  }\r\n\r\n  closeWallet(wallet_id): void {\r\n    this.backend.closeWallet(wallet_id, () => {\r\n      for (let i = this.variablesService.wallets.length - 1; i >= 0; i--) {\r\n        if (this.variablesService.wallets[i].wallet_id === this.variablesService.currentWallet.wallet_id) {\r\n          this.variablesService.wallets.splice(i, 1);\r\n        }\r\n      }\r\n      this.ngZone.run(() => {\r\n        if (this.variablesService.wallets.length) {\r\n          this.variablesService.currentWallet = this.variablesService.wallets[0];\r\n          this.router.navigate(['/wallet/']);\r\n        } else {\r\n          this.router.navigate(['/']);\r\n        }\r\n      });\r\n      if (this.variablesService.appPass) {\r\n        this.backend.storeSecureAppData();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n\r\n  updateWalletStatus(): void {\r\n    this.backend.eventSubscribe('wallet_sync_progress', (data) => {\r\n      const wallet_id = data.wallet_id;\r\n      if (wallet_id === this.variablesService.currentWallet.wallet_id) {\r\n        this.ngZone.run(() => {\r\n          this.walletLoaded = false;\r\n        });\r\n      }\r\n    });\r\n    this.backend.eventSubscribe('update_wallet_status', (data) => {\r\n      const wallet_state = data.wallet_state;\r\n      const wallet_id = data.wallet_id;\r\n      this.ngZone.run(() => {\r\n        if (wallet_state === 2 && wallet_id === this.variablesService.currentWallet.wallet_id) {\r\n          this.walletLoaded =\r\n            (this.variablesService.getWallet(this.variablesService.currentWallet.wallet_id) !== null &&\r\n              this.variablesService.getWallet(this.variablesService.currentWallet.wallet_id).loaded);\r\n          if (this.walletLoaded) {\r\n            this.setTabsDisabled(this.variablesService.currentWallet.balance.eq(0));\r\n          }\r\n        } else {\r\n          this.walletLoaded = false;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  setTabsDisabled(disabled: boolean): void {\r\n    this.tabs[1].disabled = disabled;\r\n    this.tabs[3].disabled = disabled;\r\n    this.tabs[4].disabled = disabled;\r\n  }\r\n}\r\n","<div class=\"header mb-2\"\r\n\t\t fxFlex=\"0 0 auto\"\r\n\t\t fxLayout=\"row nowrap\"\r\n\t\t fxLayoutAlign=\"space-between start\"\r\n\t\t fxLayoutGap=\"1rem\">\r\n\t<div class=\"left overflow-hidden\">\r\n\t\t<div class=\"wallet-wrapper\"\r\n\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t fxLayoutAlign=\"start start\">\r\n\t\t\t<div class=\"title\"\r\n\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t<h1 [delay]=\"150\"\r\n\t\t\t\t\t\t[placement]=\"'bottom'\"\r\n\t\t\t\t\t\t[timeout]=\"0\"\r\n\t\t\t\t\t\t[tooltipClass]=\"'table-tooltip'\"\r\n\t\t\t\t\t\t[tooltip]=\"variablesService.currentWallet.address\"\r\n\t\t\t\t\t\tclass=\"text-ellipsis mr-1\">\r\n\t\t\t\t\t{{ variablesService.currentWallet.address | zanoShortString }}\r\n\t\t\t\t</h1>\r\n\r\n\t\t\t\t<app-copy-button\r\n\t\t\t\t\t[value]=\"variablesService.currentWallet.address\"\r\n\t\t\t\t\tclass=\"mr-1\">\r\n\t\t\t\t</app-copy-button>\r\n\r\n\t\t\t\t<div *ngIf=\"!variablesService.currentWallet.is_auditable\" class=\"controls\"\r\n\t\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"!variablesService.currentWallet.alias.hasOwnProperty('name') && variablesService.currentWallet.loaded && variablesService.daemon_state === 2 && variablesService.currentWallet.alias_available\">\r\n\t\t\t\t\t\t<button [routerLink]=\"['/assign-alias']\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-1 py-0_5 bg-light-gray\">\r\n\t\t\t\t\t\t\t{{ 'WALLET.REGISTER_ALIAS' | translate }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"variablesService.currentWallet.alias.hasOwnProperty('name') && variablesService.currentWallet.loaded && variablesService.daemon_state === 2\">\r\n\r\n\t\t\t\t\t\t<div [class.available]=\"variablesService.currentWallet.alias | isAvailableAliasName\"\r\n\t\t\t\t\t\t\t\t class=\"alias mr-1\">\r\n\t\t\t\t\t\t\t{{variablesService.currentWallet.alias.name}}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<ng-container *ngIf=\"variablesService.currentWallet.alias_available\">\r\n\t\t\t\t\t\t\t<button [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/edit-alias']\"\r\n\t\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon circle small mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"bottom-right\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.EDIT_ALIAS' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\">\r\n\r\n\t\t\t\t\t\t\t\t<i class=\"icon edit-square\"></i>\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t<button [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/transfer-alias']\"\r\n\t\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon circle small\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.TRANSFER_ALIAS' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon arrow-up-square\"></i>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"right\">\r\n\t\t<div class=\"dropdown\">\r\n\t\t\t<button (click)=\"$event.stopPropagation(); toggleMenuDropdown()\"\r\n\t\t\t\t\t\t\t[disabled]=\"settingsButtonDisabled && !variablesService.currentWallet.loaded\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big\"\r\n\t\t\t\t\t\t\tdata-target=\"wallet-dropdown-button\">\r\n\t\t\t\t<i class=\"icon dots\"></i>\r\n\t\t\t</button>\r\n\t\t\t<div *ngIf=\"openDropdown\"\r\n\t\t\t\t\t class=\"content-bottom-right py-0_5\">\r\n\t\t\t\t<ul class=\"list\">\r\n\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t<button [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"!variablesService.currentWallet.loaded\"\r\n\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/details']\"\r\n\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\trouterLinkActive=\"active\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.SETTINGS' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t<i class=\"icon settings mr-1\"></i>\r\n\t\t\t\t\t\t\t<span>{{ 'WALLET_DETAILS.WALLET_OPTIONS' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t<button (click)=\"stateVisibleAddCustomToken = true\"\r\n\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.ADD_CUSTOM_TOKEN' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t<i class=\"icon add mr-1\"></i>\r\n\t\t\t\t\t\t\t<span>{{ 'WALLET_DETAILS.ADD_CUSTOM_TOKEN' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t<button (click)=\"exportHistoryDialogVisible = !exportHistoryDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"variablesService.currentWallet.history.length <= 0\"\r\n\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'EXPORT_HISTORY.TOOLTIP' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t<i class=\"icon export mr-1\"></i>\r\n\t\t\t\t\t\t\t<span>{{ 'EXPORT_HISTORY.EXPORT_BUTTON' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<ng-container *ngIf=\"walletSyncVisible\">\r\n\t\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t\t<button (click)=\"resyncCurrentWallet(variablesService.currentWallet.wallet_id)\"\r\n\t\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[disabled]=\"!variablesService.currentWallet.loaded\"\r\n\t\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET_DETAILS.RESYNC_WALLET' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon update mr-1\"></i><span>{{ 'WALLET_DETAILS.RESYNC_WALLET_BUTTON' | translate }}</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t<button (click)=\"showConfirmDialog(variablesService.currentWallet.wallet_id)\"\r\n\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.CLOSE' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t<i class=\"icon close-square mr-1\"></i><span>{{ 'WALLET_DETAILS.BUTTON_REMOVE' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<app-scroll-x class=\"mb-2\">\r\n</app-scroll-x>\r\n\r\n<div class=\"tabs\">\r\n\t<div class=\"tabs-header\">\r\n\t\t<ng-container *ngFor=\"let tab of tabs; let index = index\">\r\n\t\t\t<button [disabled]=\"tab.disabled\"\r\n\t\t\t\t\t\t\t[ngClass]=\"{ 'hide': ((tab.link === '/send' || tab.link === '/contracts') && variablesService.currentWallet.is_watch_only && variablesService.currentWallet.is_auditable) }\"\r\n\t\t\t\t\t\t\t[routerLink]=\"['/wallet' + tab.link]\"\r\n\t\t\t\t\t\t\tclass=\"tab-header\"\r\n\t\t\t\t\t\t\trouterLinkActive=\"active\">\r\n\t\t\t\t<i [ngClass]=\"tab.icon\"\r\n\t\t\t\t\t class=\"icon mr-1\"></i>\r\n\t\t\t\t<span>{{ tab.title | translate }}</span>\r\n\t\t\t\t<span *ngIf=\"tab.indicator\"\r\n\t\t\t\t\t\t\tclass=\"indicator\">{{variablesService.currentWallet.new_contracts}}</span>\r\n\t\t\t</button>\r\n\t\t</ng-container>\r\n\t</div>\r\n\t<div class=\"tabs-content\">\r\n\t\t<router-outlet></router-outlet>\r\n\t</div>\r\n</div>\r\n\r\n<app-confirm-modal (confirmed)=\"confirmed($event)\"\r\n\t\t\t\t\t\t\t\t\t *ngIf=\"delWalletDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t [message]=\" 'WALLET.CONFIRM.MESSAGE' | translate \"\r\n\t\t\t\t\t\t\t\t\t [title]=\" 'WALLET.CONFIRM.TITLE' | translate \"></app-confirm-modal>\r\n\r\n<app-export-history-modal (closeExportModal)=\"closeExportModal($event)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t*ngIf=\"exportHistoryDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[currentWalletId]=\"variablesService.currentWallet.wallet_id\"></app-export-history-modal>\r\n\r\n<app-add-custom-token (eventClose)=\"stateVisibleAddCustomToken = false\"\r\n\t\t\t\t\t\t\t\t\t\t\t(eventSubmit)=\"stateVisibleAddCustomToken = false\"\r\n\t\t\t\t\t\t\t\t\t\t\t*ngIf=\"stateVisibleAddCustomToken\"\r\n></app-add-custom-token>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\nimport 'lodash';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","import { distinctUntilChanged, pluck } from 'rxjs/operators';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { Wallet } from './app/_helpers/models/wallet.model';\r\nimport { Injectable } from '@angular/core';\r\n\r\nexport interface Sync {\r\n  sync: boolean;\r\n  wallet_id: number;\r\n}\r\n\r\nexport interface State {\r\n  wallets: Wallet[];\r\n  sync: Sync[];\r\n\r\n  [key: string]: any;\r\n}\r\n\r\nconst state: State = {\r\n  wallets: undefined,\r\n  sync: undefined,\r\n};\r\n\r\n@Injectable()\r\nexport class Store {\r\n  private subject = new BehaviorSubject<State>(state);\r\n  private store = this.subject.asObservable().pipe(distinctUntilChanged());\r\n\r\n  get value() {\r\n    return this.subject.value;\r\n  }\r\n\r\n  select<T>(name: string): Observable<T> {\r\n    return this.store.pipe(pluck(name));\r\n  }\r\n\r\n  // tslint:disable-next-line:no-shadowed-variable\r\n  set(name: string, state: any) {\r\n    this.subject.next({ ...this.value, [name]: state });\r\n  }\r\n}\r\n"],"names":["scaleItems","value","name","InputDisableSelectionDirective","event","target","readOnly","preventDefault","selectors","hostBindings","ctx","InputValidateDirective","el","variablesService","type","moneyValidation","integerValidation","currentValue","originalValue","OnlyD","_has_error","match","length","replace","_double_separator","substr","lastIndexOf","indexOf","_zero_fill","split","digits","join","cursorPosition","selectionEnd","setSelectionRange","dispatchEvent","Event","i0","EventEmitter","StakingSwitchComponent","backendService","wallet","getWallet","wallet_id","loaded","stakingChange","emit","staking","startPosMining","stopPosMining","inputs","outputs","decls","vars","consts","template","$event","CommonModule","StakingSwitchModule","declarations","imports","exports","TooltipDirective","renderer","showWhenNoOverflow","nativeElement","offsetWidth","scrollWidth","cursor","tooltip","timeDelay","removeTooltipTimeDelay","setTimeout","show","cancelHide","clearTimeout","hide","create","placement","setPosition","removeTooltipTimeout","setStyle","removeTooltipTimeoutInner","removeChild","document","body","removeEventListener","enter","leave","eventHide","delay","timeout","createElement","innerBlock","tooltipInner","innerHTML","addClass","appendChild","addEventListener","tooltipClass","classes","i","window","hostPos","getBoundingClientRect","topExit","top","height","parseInt","getComputedStyle","marginTop","bottomExit","innerHeight","bottom","removeClass","left","right","width","checkSides","innerWidth","hostVars","TooltipModule","BLOCK_EXPLORER_TN_TX_URL_PREFIX","BLOCK_EXPLORER_TX_URL_PREFIX","TransactionDetailsComponent","intToMoneyPipe","input","transaction","td","hasOwnProperty","push","transform","output","tr","openUrlInBrowser","testnet","sizes","FormControl","FormGroup","Validators","AddCustomTokenComponent","assetID","compose","required","formGroup","invalid","markAsTouched","updateValueAndValidity","submit","eventSubmit","FlexModule","TranslateModule","ReactiveFormsModule","AddCustomTokenModule","ConfirmModalComponent","button","focus","confirmed","viewQuery","FlexLayoutModule","ConfirmModalModule","ExportHistoryModalComponent","backend","translate","include_pos_transactions","path","format","formatName","currentFormat","exportFormats","closeExportModal","exportData","currentWalletId","posFilterIsOn","saveFileDialog","instant","settings","default_path","file_status","file_data","exportWalletHistory","JSON","stringify","ModalContainerComponent","title","close","SyncModalComponent","deeplink$","next","sendActionData$","SyncModalModule","BigNumber","Wallet","id","pass","address","balance","unlocked_balance","mined","tracking","amount","comment","mixin","fee","mined_total","tracking_hey","alias","new_messages","new_contracts","history","excluded_history","progress","equivalent","multipliedBy","toFixed","item","tx_type","sortFee","plus","negated","sortAmount","contract","state","is_a","is_income","items","eq","is_mining","exists","j","tx_hash","prepareHistoryItem","timestamp","unshift","hash","splice","exp_med_ts","height_app","viewedContracts","notViewedContracts","contractTransactionExist","some","elem","contract_id","expiration_time","cancel_expiration_time","searchResult1","is_new","searchResult2","find","time","searchResult3","searchResult4","searchResult","contracts","recountNewContracts","filter","ContractStatusMessagesPipe","stateNum","part1","part2","getStateBuyer","getStateSeller","pure","ContractTimeLeftPipe","service","arg","language","rest","HistoryTypeMessagesPipe","args","remote_addresses","IntToMoneyPipe","undefined","maxFraction","power","Math","pow","str","div","MoneyToIntPipe","CURRENCY_DISPLAY_DECIMAL_POINT","result","am_str","toString","trim","point_index","fraction_size","slice","integerValue","SafeHTMLPipe","PipesModule","sanitizer","html","bypassSecurityTrustHtml","Observable","Subject","JSONBigNumber","ParamsType","getParamsType","array","Array","isArray","object","Object","keys","includes","convertersObjectForTypes","string","map","v","convertorParams","StatusCurrentActionState","BackendService","modalService","moneyToIntPipe","ngZone","command","callback","backendObject","connect","parse","bigNumberParser","backendLoaded","that","QWebChannel","qt","webChannelTransport","channel","objects","mediator_object","observer","error","runCommand","wallets","forEach","params","data","contacts","contact","notes","appPass","dataStore","backendCallback","caption","fileMask","dir","filemask","default_dir","buff","json_string","txs_to_return","testEmpty","seed_password","param","seed_phrase","seed_pass","from_wallet_id","to_address","destinations","mixin_count","lock_time","push_payer","asyncCall","a_addr","b_addr","to_pay","a_pledge","b_pledge","payment_id","details","t","c","expiration_period","default_fee_big","b_fee","Debug","release_type","url","node","host","port","configure_for_remote_node","remote_node_host","remote_node_port","stringsArray","strings","language_title","reward","tracking_key","daemon_state","aliasesChecked","aliases","getAliasByAddress","status","offset","count","exclude_mining_txs","version","status_network","level","job_id","json_resp","asyncCommandResults","response","run","dispatchAsyncCallResult$","currentActionState","handleCurrentActionState$","disable_price_fetch","use_debug_mode","disable_price_fetch$","use_debug_mode$","error_translate","default_fee","defaultCurrency","prepareModal","debug","_send_params","_result","e","response_data","error_code","resultStr","Result","core_busy","Status","res_error_code","current_wallet_id","currentWallet","informerRun","get_recent_transfers","Action","commandDebug","key","val","constructor","toNumber","message","console","warn","log","factory","ModalService","componentFactoryResolver","appRef","injector","components","resolveComponentFactory","instance","subscribe","removeModal","appendModal","index","attachView","hostView","domElem","rootNodes","detachView","destroy","last","_","PaginationService","variables","paginationStore","currentPage","totalPages","startPage","endPage","maxPages","maxPagesBeforeCurrentPage","floor","maxPagesAfterCurrentPage","ceil","pages","from","walletID","mining","max","maxBy","isForward","findIndex","page","total_history_items","fill","restore","paginate","total_history_item","prepareHistory","unconfirmed","providedIn","BehaviorSubject","PaginationStore","subject","pageNumber","newPages","getValue","Idle","VariablesService","router","contextMenuService","progress_value","progress_value_text","appLockTime","appLog","scale","appUseTor","whenNotInteractive","do","restartCountdown","idle","stop","appLogin","navigate","queryParams","getExpMedTsEvent","getHeightAppEvent","height_max","getHeightMaxEvent","bytes","downloaded","bytesToMb","getDownloadedAppEvent","total","getTotalEvent","getAliasChangedEvent","getWalletChangedEvent","within","start","restart","Number","toUpperCase","contextMenu","allContextMenu","stopPropagation","copyText","onlyCopyContextMenu","pasteSelectContextMenu","CardTokenComponent","openDropdown","_r0","OverlayModule","DefaultImgModule","CardTokenModule","forwardRef","NG_VALUE_ACCESSOR","CheckboxComponent","random","checked","emitChange","onChange","fn","onTouched","isDisabled","disabled","label","readonly","features","provide","useExisting","multi","CheckboxModule","CopyButtonComponent","setClipboard","copyAnimation","copyAnimationTimeout","size","CopyButtonModule","activeClass","scrollIntoViewOptions","behavior","inline","Direction","ScrollXComponent","checkScroll","updateChildren","first","children","classList","add","direction","scrollToFixDistance","scrollByButton","getElToScroll","scrollIntoView","scrollMenu","scrollLeft","scrollDistance","timer","onScrollStop","updateActiveClass","leftDisabled","newScrollLeft","clientWidth","rightDisabled","scrollSmooth","mouseDown","startX","pageX","offsetLeft","x","scroll","scrollContent","nextActiveIndex","activeItem","contains","remove","nextActiveItem","minPosition","maxPosition","currentPosition","calcNewPosition","nextPosition","nextEl","ScrollXModule","SwitchComponent","SwitchModule","MIXIN","RCV_ADDR_QR_SCALE","AUDITABLE_WALLET_HELP_PAGE","CREATE_NEW_WALLET_HELP_PAGE","LOCKED_BALANCE_HELP_PAGE","DOWNLOADS_PAGE_URL","DefaultImgDirective","elementRef","elementImg","onerror","src","defaultImgSrc","alt","defaultImgAlt","takeUntil","DisablePriceFetchDirective","_variablesService","_templateRef","_viewContainer","pipe","destroy$","createEmbeddedView","clear","complete","DisablePriceFetchModule","IsAvailableAliasNamePipe","IsAvailableAliasNamePipeModule","Boolean","ShortStringPipe","ShortStringPipeModule","SharedModule","ctx_r11","AddContactsComponent","route","location","g","validateAddress","valid_status","setErrors","assign","address_not_valid","errors","hasError","isDublicated","dublicated","maxCommentLength","maxLength","minLength","queryRouting","addContactForm","reset","newContact","get","unsubscribe","valid","storeSecureAppData","getContactAlias","back","AddWalletComponent","snapshot","prevUrl","openFileDialog","RouterModule","LoginComponent","WalletComponent","SendComponent","ReceiveComponent","HistoryComponent","ContractsComponent","PurchaseComponent","StakingComponent","SettingsComponent","CreateWalletComponent","OpenWalletComponent","RestoreWalletComponent","SeedPhraseComponent","WalletDetailsComponent","AssignAliasComponent","EditAliasComponent","TransferAliasComponent","ContactsComponent","ContactSendComponent","ExportImportComponent","DeeplinkComponent","ContractsTabComponent","paths","pathsChildrenContracts","pathsChildrenWallet","FullLayoutComponent","WithSidebarLayoutComponent","routes","auth","component","loadChildren","then","m","AuthModule","addWallet","login","send","receive","purchase","redirectTo","pathMatch","open","seedPhrase","assignAlias","editAlias","transferAlias","addContacts","editContacts","contactSend","import","deeplink","uiKit","UiKitModule","AppRoutingModule","forRoot","relativeLinkResolution","pathsChildrenAuth","AppComponent","http","store","addLangs","setDefaultLang","use","translateUsed","setBackendLocalization","initService","initMessage","getOptions","webkitLaunchedScript","start_backend","st2","dd2","eventSubscribe","onQuitRequest","needOpenWallets","saveFunction","storeAppData","recursionCloseWallets","lastIndex","closeWallet","quitRequest","wallet_state","minied_total","alias_available","is_alias_operations_available","sync_started","addToStore","daemon_network_state","setExpMedTs","net_time_delta_median","last_build_available","last_build_displaymode","setHeightApp","setHeightMax","max_net_seen_height","setDownloadedBytes","downloaded_bytes","setTotalBytes","download_total_data_size","current","return_val","sync","download","firstOnlineState","getAliases","getDefaultFee","status_fee","data_fee","ti","tr_info","setRefreshStacking","tr_exists","findContract","prop","removeFromHistory","error_tr","events","method","enableAliasSearch","newAlias","concat","changeAliases","CurrentAlias","element","intervalUpdateContractsState","setInterval","expMedTsEvent","newTimestamp","getAppData","documentElement","setLogLevel","setEnableTor","noWallet","haveSecureAppData","statusPass","dispatchAsyncCallResult","handleCurrentActionState","getMoneyEquivalent","intervalUpdatePriceState","clearInterval","moneyEquivalent","moneyEquivalentPercent","getAllAliases","getWalletAlias","sort","a","b","end","canUseSelection","SelectedText","substring","String","text","getClipboard","clipboard","_pre","_aft","boolean","set","BrowserModule","OpenWalletModalComponent","HttpClient","HttpClientModule","TranslateLoader","TranslateHttpLoader","FormsModule","NgSelectModule","Store","ContextMenuModule","ChartModule","HIGHCHARTS_MODULES","highcharts","exporting","SendModalComponent","SendDetailsModalComponent","SynchronizationStatusModule","WithSidebarLayoutModule","FullLayoutModule","DeeplinkModule","HttpLoaderFactory","httpClient","highchartsFactory","setOptions","useUTC","AppModule","bootstrap","useFactory","loader","deps","i1","i2","moneyToInt","intToMoney","pattern","price","rewardOriginal","assignFormSubscription","assignForm","valueChanges","canRegister","newName","toLowerCase","controls","getAliasByName","getAliasCoast","statusPrice","dataPrice","sum","notEnoughMoney","isGreaterThan","registerAlias","wakeAlias","setCurrentWallet","send_data","ctx_r12","ctx_r14","ctx_r15","calculatedWidth","head","childNodes","_r1","ctx_r10","password","confirm","progressWidth","createForm","maxWalletNameLength","walletSavedName","generateWallet","generate_status","generate_data","errorCode","opening_wallet","walletSaved","ctx_r0","ctx_r13","ctx_r16","ctx_r18","ctx_r19","ctx_r20","DeeplinkModalComponent","_router","walletsToPay","is_watch_only","is_auditable","actionData","canselAction","parseDeeplink","walletToPayId","nextStep","nextStepInterval","quotesRex","RegExp","spaceSymbolRex","newObj","newString","secondStep","offerObject","od","ap","at","cat","category","cnt","com","comments","description","et","lci","lco","ot","pt","img_url","push_offer","success","marketplaceModalShow","marketplaceConfirmHash","action","DeeplinkModalModule","oldAliasComment","isLessThan","requestProcessing","updateAlias","papa","isValid","loadFile","options","header","elements","indexName","indexAddress","storeFile","unparse","file","endsWith","item_r4","_r19","ctx_r35","ctx_r42","alias_r40","ctx_r50","_r11","ctx_r54","ctx_r56","pagination","parentRouting","parent","openedDetails","after_sync_request","getNotLoadedWallet","tick","getRecentTransfers","stop_paginate","w","calculateWidth","rem","open_from_exist","updated","setPage","resetPaginationValues","getOffset","last_item_index","calcPages","walletInterval","now","Date","getTime","unlockTime","unlock_time","SidebarModule","ctx_r6","ctx_r8","ctx_r9","confirmation","regForm","setMasterPassword","dataIsLoaded","startCountdown","dropSecureAppData","onSkipCreatePass","authForm","checkMasterPassword","setAuthPassError","wrong_password","getData","getSecureAppData","isEmptyObject","getWalletData","walletData","openWallets","runWallets","wallet_index","openWallet","open_status","open_data","open_error","new_wallet","recent_history","getContracts","contracts_status","contracts_data","prepareContractsAfterOpen","runWallet","run_status","ctx_r2","notFound","emptyPass","skipWallet","ngOnInit","filePath","filename","openForm","setValue","run_data","ctx_r33","ctx_r38","ctx_r40","ctx_r46","ctx_r48","ctx_r49","ctx_r53","ctx_r55","ctx_r58","ctx_r63","seller","localAliases","isOpen","test","alias_status","alias_data","parseFloat","yourDeposit","sellerDeposit","sameAmount","timeCancel","payment","targetElement","currentContract","getContract","purchaseForm","setValidators","private_detailes","isEqualTo","disable","newPurchase","findViewedCont","checkAndChangeHistory","newHeight","password_not_match","res","fillDeepLinkData","historyBlock","additionalOptions","seller_address","my_deposit","seller_deposit","sameAmountChecked","clearValidators","create_status","createProposal","acceptProposal","accept_status","releaseProposal","release_status","requestCancelContract","cancel_status","acceptCancelContract","QRCode","toDataURL","qrImageSrc","catch","err","pairwise","startWith","ctx_r17","duplicate","seedPassword","confirm_mismatch","checkValidSeedPhrasePassword","changeDetectionSeedPhrasePassword","restoreForm","getSeedPhraseInfo","seedPhraseInfo","isValidRestoreWalletText","valid_data","key_not_valid","save_status","save_data","restoreWallet","restore_status","restore_data","ctx_r22","ctx_r23","same","confirmPassword","validators","checkPasswords","showSeed","getWalletId","setWalletInfoNamePath","group","confirmPass","notSame","seedPhraseCopied","seedPhraseForm","showSeedPhrase","getSmartWalletInfo","detailsForm","_r2","successfulStatuses","STATE_SENDING","STATE_SENT_SUCCESS","STATE_INITIALIZING","STATE_DOWNLOADING_CONSENSUS","STATE_MAKING_TUNNEL_A","STATE_MAKING_TUNNEL_B","STATE_CREATING_STREAM","STATE_SUCCESS","failedStatuses","STATE_SEND_FAILED","STATE_FAILED","currentActionState$","currentActionStates$","responseData$","currentActionStates","actionState","stateDetails$","scrollToBottomDetailsList","elDetailsList","scrollTop","scrollHeight","ctx_r5","confirmForm","requiredPass","passwordNotMatch","finalize","item_r11","ctx_r29","ctx_r31","ctx_r32","ctx_r34","ctx_r36","ctx_r37","ctx_r39","currentAliasAddress","isWrapShown","sendForm","lenghtOfAdress","bigAmount","wrapInfo","wrap_info_null","unwraped_coins_left","great_than_unwraped_coins","tx_cost","zano_needed_for_erc20","less_than_zano_needed","hideWalletAddress","getWrapInfo","dLActionSubscribe","tempArr","isModalDialogVisible","onSend","mixins","hide_sender","control","condition","patchValue","sendMoney","isModalDetailsDialogVisible","markAsUntouched","needed","minus","isLoading","info","changeForm","new_password","new_confirmation","getVersion","currentBuild","networkType","getIsDisabledNotifications","currentNotificationsState","onSave","setIsDisabledNotifications","ifSaved","moveItemInArray","wallet_r6","ctx_r25","ctx_r27","SidebarComponent","modal","previousIndex","currentIndex","closeWalletId","stopCountdown","available","setAttribute","currency","locked","link","openInBrowser","_r3","DragDropModule","Chart","last_r12","active","groups","date","list","getMiningHistory","heightAppEvent","pending","isZero","pendingCount","h","refreshStackingEvent","getRefreshStackingEvent","chart","credits","enabled","legend","backgroundColor","zoomType","load","changePeriod","yAxis","min","tickAmount","gridLineColor","gridLineWidth","lineColor","lineWidth","tickWidth","tickLength","tickColor","labels","y","align","style","showLastLabel","xAxis","minPadding","maxPadding","minRange","minTickInterval","plotOptions","area","fillColor","linearGradient","x1","y1","x2","y2","stops","marker","radius","threshold","series","point","mouseOver","obj","selectedDate","mouseOut","originalData","mined_entries","setUTCMilliseconds","drawChart","period","periods","p","d","newData","makeGroupTime","itemNew","ref","setData","UTC","getFullYear","getMonth","getDate","setExtremes","setHours","setDate","getDay","ctx_r21","SynchronizationStatusComponent","transferAddress","transferAddressValid","getPoolInfo","statusPool","dataPool","aliases_que","setStatus","statusSet","permissionSend","transferAddressAlias","tmp_b_0","distinctUntilChanged","ctx_r1","icon","indicator","walletLoaded","walletSyncVisible","dataset","settingsButtonInterval","settingsButtonDisabled","select","in_progress","values","updateWalletStatus","setTabsDisabled","resyncWallet","delWalletDialogVisible","exportHistoryDialogVisible","tabs","environment","production","enableProdMode","__NgCli_bootstrap_1","bootstrapModule","pluck","asObservable"],"sourceRoot":"webpack:///"}