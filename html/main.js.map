{"version":3,"file":"main.js","mappings":"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","sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/_helpers/data/scale-items.ts","./src/app/_helpers/directives/input-disable-selection/input-disable-selection.directive.ts","./src/app/_helpers/directives/input-validate/input-validate.directive.ts","./src/app/_helpers/directives/staking-switch/staking-switch.component.ts","./src/app/_helpers/directives/staking-switch/staking-switch.component.html","./src/app/_helpers/directives/staking-switch/staking-switch.module.ts","./src/app/_helpers/directives/tooltip/tooltip.directive.ts","./src/app/_helpers/directives/tooltip/tooltip.module.ts","./src/app/_helpers/directives/transaction-details/transaction-details.component.ts","./src/app/_helpers/directives/transaction-details/transaction-details.component.html","./src/app/_helpers/modals/add-custom-token/add-custom-token.component.ts","./src/app/_helpers/modals/add-custom-token/add-custom-token.component.html","./src/app/_helpers/modals/add-custom-token/add-custom-token.module.ts","./src/app/_helpers/modals/confirm-modal/confirm-modal.component.ts","./src/app/_helpers/modals/confirm-modal/confirm-modal.component.html","./src/app/_helpers/modals/confirm-modal/confirm-modal.module.ts","./src/app/_helpers/modals/export-history-modal/export-history-modal.component.ts","./src/app/_helpers/modals/export-history-modal/export-history-modal.component.html","./src/app/_helpers/modals/modal-container/modal-container.component.ts","./src/app/_helpers/modals/modal-container/modal-container.component.html","./src/app/_helpers/modals/sync-modal/sync-modal.component.ts","./src/app/_helpers/modals/sync-modal/sync-modal.component.html","./src/app/_helpers/modals/sync-modal/sync-modal.module.ts","./src/app/_helpers/models/wallet.model.ts","./src/app/_helpers/pipes/contract-status-messages.pipe.ts","./src/app/_helpers/pipes/contract-time-left.pipe.ts","./src/app/_helpers/pipes/history-type-messages.pipe.ts","./src/app/_helpers/pipes/int-to-money.pipe.ts","./src/app/_helpers/pipes/money-to-int.pipe.ts","./src/app/_helpers/pipes/pipes.module.ts","./src/app/_helpers/pipes/safe-html.pipe.ts","./src/app/_helpers/services/backend.service.ts","./src/app/_helpers/services/modal.service.ts","./src/app/_helpers/services/pagination.service.ts","./src/app/_helpers/services/pagination.store.ts","./src/app/_helpers/services/variables.service.ts","./src/app/_shared/components/card-token/card-token.component.ts","./src/app/_shared/components/card-token/card-token.component.html","./src/app/_shared/components/card-token/card-token.module.ts","./src/app/_shared/components/checkbox/checkbox.component.ts","./src/app/_shared/components/checkbox/checkbox.component.html","./src/app/_shared/components/checkbox/checkbox.module.ts","./src/app/_shared/components/copy-button/copy-button.component.ts","./src/app/_shared/components/copy-button/copy-button.component.html","./src/app/_shared/components/copy-button/copy-button.module.ts","./src/app/_shared/components/index.ts","./src/app/_shared/components/scroll-x/scroll-x.component.ts","./src/app/_shared/components/scroll-x/scroll-x.component.html","./src/app/_shared/components/scroll-x/scroll-x.module.ts","./src/app/_shared/components/switch/switch.component.ts","./src/app/_shared/components/switch/switch.component.html","./src/app/_shared/components/switch/switch.module.ts","./src/app/_shared/constants.ts","./src/app/_shared/directives/default-img/default-img.directive.ts","./src/app/_shared/directives/default-img/default-img.module.ts","./src/app/_shared/directives/default-img/index.ts","./src/app/_shared/directives/disable-price-fetch/disable-price-fetch.directive.ts","./src/app/_shared/directives/disable-price-fetch/disable-price-fetch.module.ts","./src/app/_shared/pipes/is-available-alias-name-pipe/is-available-alias-name-pipe.module.ts","./src/app/_shared/pipes/is-available-alias-name-pipe/is-available-alias-name.pipe.ts","./src/app/_shared/pipes/short-string-pipe/short-string-pipe.module.ts","./src/app/_shared/pipes/short-string-pipe/short-string.pipe.ts","./src/app/_shared/shared.module.ts","./src/app/add-contacts/add-contacts.component.ts","./src/app/add-contacts/add-contacts.component.html","./src/app/add-wallet/add-wallet.component.ts","./src/app/add-wallet/add-wallet.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/assign-alias/assign-alias.component.ts","./src/app/assign-alias/assign-alias.component.html","./src/app/contact-send/contact-send.component.ts","./src/app/contact-send/contact-send.component.html","./src/app/contacts/contacts.component.ts","./src/app/contacts/contacts.component.html","./src/app/contracts/contracts-tab/contracts-tab.component.ts","./src/app/contracts/contracts-tab/contracts-tab.component.html","./src/app/contracts/contracts.component.ts","./src/app/contracts/contracts.component.html","./src/app/create-wallet/create-wallet.component.ts","./src/app/create-wallet/create-wallet.component.html","./src/app/deeplink-modal/deeplink-modal.component.ts","./src/app/deeplink-modal/deeplink-modal.component.html","./src/app/deeplink-modal/deeplink-modal.module.ts","./src/app/deeplink/deeplink.component.ts","./src/app/deeplink/deeplink.component.html","./src/app/deeplink/deeplink.module.ts","./src/app/edit-alias/edit-alias.component.ts","./src/app/edit-alias/edit-alias.component.html","./src/app/export-import/export-import.component.ts","./src/app/export-import/export-import.component.html","./src/app/history/history.component.ts","./src/app/history/history.component.html","./src/app/layouts/full-layout/full-layout.component.ts","./src/app/layouts/full-layout/full-layout.component.html","./src/app/layouts/full-layout/full-layout.module.ts","./src/app/layouts/with-sidebar-layout/with-sidebar-layout.component.ts","./src/app/layouts/with-sidebar-layout/with-sidebar-layout.component.html","./src/app/layouts/with-sidebar-layout/with-sidebar-layout.module.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/open-wallet-modal/open-wallet-modal.component.ts","./src/app/open-wallet-modal/open-wallet-modal.component.html","./src/app/open-wallet/open-wallet.component.ts","./src/app/open-wallet/open-wallet.component.html","./src/app/paths.ts","./src/app/purchase/purchase.component.ts","./src/app/purchase/purchase.component.html","./src/app/receive/receive.component.ts","./src/app/receive/receive.component.html","./src/app/restore-wallet/restore-wallet.component.ts","./src/app/restore-wallet/restore-wallet.component.html","./src/app/seed-phrase/seed-phrase.component.ts","./src/app/seed-phrase/seed-phrase.component.html","./src/app/send-details-modal/send-details-modal.component.ts","./src/app/send-details-modal/send-details-modal.component.html","./src/app/send-modal/send-modal.component.ts","./src/app/send-modal/send-modal.component.html","./src/app/send/send.component.ts","./src/app/send/send.component.html","./src/app/settings/settings.component.ts","./src/app/settings/settings.component.html","./src/app/sidebar/sidebar.component.ts","./src/app/sidebar/sidebar.component.html","./src/app/sidebar/sidebar.module.ts","./src/app/staking/staking.component.ts","./src/app/staking/staking.component.html","./src/app/synchronization-status/synchronization-status.component.ts","./src/app/synchronization-status/synchronization-status.component.html","./src/app/synchronization-status/synchronization-status.module.ts","./src/app/transfer-alias/transfer-alias.component.ts","./src/app/transfer-alias/transfer-alias.component.html","./src/app/wallet-details/wallet-details.component.ts","./src/app/wallet-details/wallet-details.component.html","./src/app/wallet/wallet.component.ts","./src/app/wallet/wallet.component.html","./src/environments/environment.ts","./src/main.ts","./src/store.ts"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { ScaleItems } from '../models/scale.model';\r\n\r\n/** List of items with supported scale */\r\nexport const scaleItems: ScaleItems = [\r\n  {\r\n    value: '8px',\r\n    name: 'SETTINGS.SCALE.75'\r\n  },\r\n  {\r\n    value: '10px',\r\n    name: 'SETTINGS.SCALE.100'\r\n  },\r\n  {\r\n    value: '12px',\r\n    name: 'SETTINGS.SCALE.125'\r\n  },\r\n  {\r\n    value: '14px',\r\n    name: 'SETTINGS.SCALE.150'\r\n  }\r\n];\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'input'\r\n})\r\nexport class InputDisableSelectionDirective {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  handleInput(event: Event) {\r\n    if ((<HTMLInputElement>event.target).readOnly) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n}\r\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\n\r\n@Directive({\r\n  selector: '[appInputValidate]'\r\n})\r\nexport class InputValidateDirective {\r\n\r\n  private type: string;\r\n\r\n  constructor(private el: ElementRef, private variablesService: VariablesService) {\r\n  }\r\n\r\n  @Input('appInputValidate')\r\n  public set defineInputType(type: string) {\r\n    this.type = type;\r\n  }\r\n\r\n  @HostListener('input', ['$event'])\r\n  handleInput(event: Event) {\r\n    if (this.type === 'money') {\r\n      this.moneyValidation(event);\r\n    } else if (this.type === 'integer') {\r\n      this.integerValidation(event);\r\n    }\r\n  }\r\n\r\n  private moneyValidation(event: Event) {\r\n    let currentValue = (<HTMLInputElement>event.target).value;\r\n    const originalValue = currentValue;\r\n    const OnlyD = /[^\\d\\.]/g;\r\n    const _has_error = currentValue.match(OnlyD);\r\n    if (_has_error && _has_error.length) {\r\n      currentValue = currentValue.replace(',', '.').replace(OnlyD, '');\r\n    }\r\n    const _double_separator = currentValue.match(/\\./g);\r\n    if (_double_separator && _double_separator.length > 1) {\r\n      currentValue = currentValue.substr(0, currentValue.lastIndexOf('.'));\r\n    }\r\n    if (currentValue.indexOf('.') === 0) {\r\n      currentValue = '0' + currentValue;\r\n    }\r\n    const _zero_fill = currentValue.split('.');\r\n    if (_zero_fill[0].length > 7) {\r\n      _zero_fill[0] = _zero_fill[0].substr(0, 7);\r\n    }\r\n\r\n    if (1 in _zero_fill && _zero_fill[1].length) {\r\n      _zero_fill[1] = _zero_fill[1].substr(0, this.variablesService.digits);\r\n    }\r\n    currentValue = _zero_fill.join('.');\r\n    if (currentValue !== originalValue) {\r\n      (<HTMLInputElement>event.target).value = currentValue;\r\n      const cursorPosition = (<HTMLInputElement>event.target).selectionEnd;\r\n      (<HTMLInputElement>event.target).setSelectionRange(cursorPosition, cursorPosition);\r\n      (<HTMLInputElement>event.target).dispatchEvent(new Event('input'));\r\n    }\r\n  }\r\n\r\n  private integerValidation(event: Event) {\r\n    let currentValue = (<HTMLInputElement>event.target).value;\r\n    const originalValue = currentValue;\r\n    const OnlyD = /\\D/g;\r\n    const _has_error = currentValue.match(OnlyD);\r\n    if (_has_error && _has_error.length) {\r\n      currentValue = currentValue.replace(OnlyD, '');\r\n    }\r\n    if (currentValue !== originalValue) {\r\n      const cursorPosition = (<HTMLInputElement>event.target).selectionEnd;\r\n      (<HTMLInputElement>event.target).value = currentValue;\r\n      (<HTMLInputElement>event.target).setSelectionRange(cursorPosition, cursorPosition);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { BackendService } from '../../services/backend.service';\r\nimport { VariablesService } from '../../services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-staking-switch',\r\n  templateUrl: './staking-switch.component.html',\r\n  styleUrls: ['./staking-switch.component.scss']\r\n})\r\nexport class StakingSwitchComponent {\r\n  @Input() wallet_id: number;\r\n\r\n  @Input() staking: boolean;\r\n\r\n  @Output() stakingChange = new EventEmitter<boolean>();\r\n\r\n  constructor(private backendService: BackendService, private variablesService: VariablesService) {\r\n  }\r\n\r\n  toggleStaking(): void {\r\n    const wallet = this.variablesService.getWallet(this.wallet_id);\r\n    if (wallet && wallet.loaded) {\r\n      this.stakingChange.emit(!this.staking);\r\n      if (!this.staking) {\r\n        this.backendService.startPosMining(this.wallet_id);\r\n      } else {\r\n        this.backendService.stopPosMining(this.wallet_id);\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div (click)=\"toggleStaking(); $event.stopPropagation()\"\r\n\t\t [class.off]=\"!staking\"\r\n\t\t [class.on]=\"staking\"\r\n\t\t class=\"switch\">\r\n\t<span class=\"circle\"></span>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { StakingSwitchComponent } from './staking-switch.component';\r\n\r\n@NgModule({\r\n  declarations: [StakingSwitchComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [StakingSwitchComponent]\r\n})\r\nexport class StakingSwitchModule {\r\n}\r\n","import { Directive, ElementRef, EventEmitter, HostBinding, HostListener, Input, OnDestroy, Output, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[tooltip]'\r\n})\r\nexport class TooltipDirective implements OnDestroy {\r\n  @HostBinding('style.cursor') cursor;\r\n\r\n  @Input('tooltip') tooltipInner: any;\r\n\r\n  @Input() placement: string;\r\n\r\n  @Input() tooltipClass: string;\r\n\r\n  @Input() timeout = 0;\r\n\r\n  @Input() timeDelay = 0;\r\n\r\n  @Input() delay = 0;\r\n\r\n  @Input() showWhenNoOverflow = true;\r\n\r\n  @Output() eventHide = new EventEmitter<boolean>();\r\n\r\n  tooltip: HTMLElement;\r\n\r\n  removeTooltipTimeout;\r\n\r\n  removeTooltipTimeoutInner;\r\n\r\n  removeTooltipTimeDelay;\r\n\r\n  private enter: (event: MouseEvent) => void;\r\n\r\n  private leave: (event: MouseEvent) => void;\r\n\r\n  constructor(private el: ElementRef, private renderer: Renderer2) {\r\n  }\r\n\r\n  @HostListener('mouseenter') onMouseEnter() {\r\n    if (this.showWhenNoOverflow || (!this.showWhenNoOverflow && this.el.nativeElement.offsetWidth < this.el.nativeElement.scrollWidth)) {\r\n      this.cursor = 'pointer';\r\n      if (!this.tooltip) {\r\n        if (this.timeDelay !== 0) {\r\n          this.removeTooltipTimeDelay = setTimeout(() => {\r\n            this.show();\r\n          }, this.timeDelay);\r\n        } else {\r\n          this.show();\r\n        }\r\n      } else {\r\n        this.cancelHide();\r\n      }\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseleave') onMouseLeave() {\r\n    clearTimeout(this.removeTooltipTimeDelay);\r\n    if (this.tooltip) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  show() {\r\n    this.create();\r\n    this.placement = this.placement === null ? 'top' : this.placement;\r\n    this.setPosition(this.placement);\r\n  }\r\n\r\n  hide() {\r\n    this.removeTooltipTimeout = setTimeout(() => {\r\n      this.renderer.setStyle(this.tooltip, 'opacity', '0');\r\n      this.removeTooltipTimeoutInner = setTimeout(() => {\r\n        this.renderer.removeChild(document.body, this.tooltip);\r\n        this.tooltip.removeEventListener('mouseenter', this.enter);\r\n        this.tooltip.removeEventListener('mouseleave', this.leave);\r\n        this.tooltip = null;\r\n        this.eventHide.emit(true);\r\n      }, this.delay);\r\n    }, this.timeout);\r\n  }\r\n\r\n  cancelHide() {\r\n    clearTimeout(this.removeTooltipTimeout);\r\n    clearTimeout(this.removeTooltipTimeoutInner);\r\n    this.renderer.setStyle(this.tooltip, 'opacity', '1');\r\n  }\r\n\r\n  create() {\r\n    this.tooltip = this.renderer.createElement('div');\r\n    let innerBlock = this.renderer.createElement('div');\r\n    if (typeof this.tooltipInner === 'string') {\r\n      innerBlock.innerHTML = this.tooltipInner;\r\n    } else {\r\n      innerBlock = this.tooltipInner;\r\n    }\r\n    this.renderer.addClass(innerBlock, 'tooltip-inner');\r\n    this.renderer.addClass(innerBlock, 'scrolled-content');\r\n    this.renderer.appendChild(this.tooltip, innerBlock);\r\n    this.renderer.appendChild(document.body, this.tooltip);\r\n\r\n    this.enter = () => {\r\n      this.cancelHide();\r\n    };\r\n    this.tooltip.addEventListener('mouseenter', this.enter);\r\n    this.leave = () => {\r\n      if (this.tooltip) {\r\n        this.hide();\r\n      }\r\n    };\r\n    this.tooltip.addEventListener('mouseleave', this.leave);\r\n\r\n    this.renderer.setStyle(document.body, 'position', 'relative');\r\n    this.renderer.setStyle(this.tooltip, 'position', 'absolute');\r\n    if (this.tooltipClass !== null) {\r\n      const classes = this.tooltipClass.split(' ');\r\n      for (let i = 0; i < classes.length; i++) {\r\n        this.renderer.addClass(this.tooltip, classes[i]);\r\n      }\r\n    }\r\n    this.renderer.setStyle(this.tooltip, 'opacity', '0');\r\n    this.renderer.setStyle(this.tooltip, '-webkit-transition', `opacity ${ this.delay }ms`);\r\n    this.renderer.setStyle(this.tooltip, '-moz-transition', `opacity ${ this.delay }ms`);\r\n    this.renderer.setStyle(this.tooltip, '-o-transition', `opacity ${ this.delay }ms`);\r\n    this.renderer.setStyle(this.tooltip, 'transition', `opacity ${ this.delay }ms`);\r\n    window.setTimeout(() => {\r\n      return this.tooltip && this.renderer.setStyle(this.tooltip, 'opacity', '1');\r\n    }, 0);\r\n  }\r\n\r\n  setPosition(placement) {\r\n    const hostPos = this.el.nativeElement.getBoundingClientRect();\r\n    this.renderer.addClass(this.tooltip, 'ng-tooltip-' + placement);\r\n    const topExit = hostPos.top - this.tooltip.getBoundingClientRect().height - parseInt(getComputedStyle(this.tooltip).marginTop, 10) < 0;\r\n    const bottomExit = window.innerHeight < hostPos.bottom + this.tooltip.getBoundingClientRect().height + parseInt(getComputedStyle(this.tooltip).marginTop, 10);\r\n\r\n    switch (placement) {\r\n      case 'top':\r\n        if (topExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('bottom');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(\r\n            this.tooltip,\r\n            'left',\r\n            hostPos.left + (hostPos.right - hostPos.left) / 2 - this.tooltip.getBoundingClientRect().width / 2 + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.top - this.tooltip.getBoundingClientRect().height + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'top-left':\r\n        if (topExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('bottom-left');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.left + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.top - this.tooltip.getBoundingClientRect().height + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'top-right':\r\n        if (topExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('bottom-right');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.right - this.tooltip.offsetWidth + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.top - this.tooltip.getBoundingClientRect().height + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'bottom':\r\n        if (bottomExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('top');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.bottom + 'px');\r\n          this.renderer.setStyle(this.tooltip,\r\n            'left',\r\n            hostPos.left + (hostPos.right - hostPos.left) / 2 - this.tooltip.getBoundingClientRect().width / 2 + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'bottom-left':\r\n        if (bottomExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('top-left');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.bottom + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.left + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'bottom-right':\r\n        if (bottomExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('top-right');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.bottom + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.right - this.tooltip.offsetWidth + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'left':\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.left - this.tooltip.getBoundingClientRect().width + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'top',\r\n          hostPos.top + (hostPos.bottom - hostPos.top) / 2 - this.tooltip.getBoundingClientRect().height / 2 + 'px');\r\n        break;\r\n      case 'left-top':\r\n        this.renderer.setStyle(this.tooltip, 'top', hostPos.top + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'left',\r\n          hostPos.left - this.tooltip.getBoundingClientRect().width + 'px');\r\n        break;\r\n      case 'left-bottom':\r\n        this.renderer.setStyle(this.tooltip,\r\n          'left',\r\n          hostPos.left - this.tooltip.getBoundingClientRect().width + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'top',\r\n          hostPos.bottom - this.tooltip.getBoundingClientRect().height + 'px');\r\n        break;\r\n      case 'right':\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.right + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'top',\r\n          hostPos.top + (hostPos.bottom - hostPos.top) / 2 - this.tooltip.getBoundingClientRect().height / 2 + 'px');\r\n        break;\r\n      case 'right-top':\r\n        this.renderer.setStyle(this.tooltip, 'top', hostPos.top + 'px');\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.right + 'px');\r\n        break;\r\n      case 'right-bottom':\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.right + 'px');\r\n        this.renderer.setStyle(this.tooltip,\r\n          'top',\r\n          hostPos.bottom - this.tooltip.getBoundingClientRect().height + 'px');\r\n        break;\r\n    }\r\n  }\r\n\r\n  checkSides() {\r\n    if (this.tooltip.getBoundingClientRect().left < 0) {\r\n      this.renderer.setStyle(this.tooltip, 'left', 0);\r\n    }\r\n    if (this.tooltip.getBoundingClientRect().right > window.innerWidth) {\r\n      this.renderer.setStyle(this.tooltip, 'left', window.innerWidth - this.tooltip.getBoundingClientRect().width + 'px');\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    clearTimeout(this.removeTooltipTimeout);\r\n    clearTimeout(this.removeTooltipTimeoutInner);\r\n    clearTimeout(this.removeTooltipTimeDelay);\r\n    if (this.tooltip) {\r\n      this.renderer.removeChild(document.body, this.tooltip);\r\n      this.tooltip = null;\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TooltipDirective } from './tooltip.directive';\r\n\r\n@NgModule({\r\n  declarations: [TooltipDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [TooltipDirective]\r\n})\r\nexport class TooltipModule {\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Transaction } from '../../models/transaction.model';\r\nimport { VariablesService } from '../../services/variables.service';\r\nimport { BackendService } from '../../services/backend.service';\r\nimport { IntToMoneyPipe } from '../../pipes/int-to-money.pipe';\r\nimport { BLOCK_EXPLORER_TN_TX_URL_PREFIX, BLOCK_EXPLORER_TX_URL_PREFIX } from '../../../_shared/constants';\r\n\r\n@Component({\r\n  selector: 'app-transaction-details',\r\n  templateUrl: './transaction-details.component.html',\r\n  styleUrls: ['./transaction-details.component.scss']\r\n})\r\nexport class TransactionDetailsComponent implements OnInit {\r\n  @Input() transaction: Transaction;\r\n\r\n  @Input() sizes: Array<number>;\r\n\r\n  inputs: Array<string> = [];\r\n\r\n  outputs: Array<string> = [];\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backendService: BackendService,\r\n    private intToMoneyPipe: IntToMoneyPipe\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    for (const input in this.transaction.td['spn']) {\r\n      if (this.transaction.td['spn'].hasOwnProperty(input)) {\r\n        this.inputs.push(this.intToMoneyPipe.transform(this.transaction.td['spn'][input]));\r\n      }\r\n    }\r\n    for (const output in this.transaction.td['rcv']) {\r\n      if (this.transaction.td['rcv'].hasOwnProperty(output)) {\r\n        this.outputs.push(this.intToMoneyPipe.transform(this.transaction.td['rcv'][output]));\r\n      }\r\n    }\r\n  }\r\n\r\n  openInBrowser(tr): void {\r\n    this.backendService.openUrlInBrowser(\r\n      (this.variablesService.testnet ? BLOCK_EXPLORER_TN_TX_URL_PREFIX : BLOCK_EXPLORER_TX_URL_PREFIX) + tr\r\n    );\r\n  }\r\n}\r\n","<div class=\"table py-1\"\r\n\t\t fxLayout=\"column\">\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.ID' | translate }}</span>\r\n\t\t<span (click)=\"openInBrowser(transaction.tx_hash)\"\r\n\t\t\t\t\t(contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, transaction.tx_hash)\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[1] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis color-primary cursor-pointer\">{{transaction.tx_hash}}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[2] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.SIZE' | translate }}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.SIZE_VALUE' | translate : { value: transaction.tx_blob_size } }}</span>\r\n\t</div>\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.HEIGHT' | translate }}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[1] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{transaction.height}}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[2] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.CONFIRMATION' | translate }}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{transaction.height === 0 ? 0 : variablesService.height_app - transaction.height}}</span>\r\n\t</div>\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.INPUTS' | translate }}</span>\r\n\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[1] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\"\r\n\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\ttooltip=\"{{inputs.join(', ')}}\"\r\n\t\t\t\t\ttooltipClass=\"table-tooltip table-tooltip-dimensions\">{{inputs.join(', ')}}</span>\r\n\t\t<span [style.flex-basis]=\"sizes[2] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.OUTPUTS' | translate }}</span>\r\n\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\"\r\n\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\ttooltip=\"{{outputs.join(', ')}}\"\r\n\t\t\t\t\ttooltipClass=\"table-tooltip table-tooltip-dimensions\">{{outputs.join(', ')}}</span>\r\n\t</div>\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.PAYMENT_ID' | translate }}</span>\r\n\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[1] + sizes[2] + sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\"\r\n\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\ttooltip=\"{{transaction.payment_id}}\"\r\n\t\t\t\t\ttooltipClass=\"table-tooltip comment-tooltip\">\r\n            {{transaction.payment_id}}\r\n        </span>\r\n\t</div>\r\n\t<div class=\"row\"\r\n\t\t\t fxFlex=\"100\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n        <span [style.flex-basis]=\"sizes[0] + 'px'\"\r\n\t\t\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\">{{ 'HISTORY.DETAILS.COMMENT' | translate }}</span>\r\n\t\t<span (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, transaction.comment)\"\r\n\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t[style.flex-basis]=\"sizes[1] + sizes[2] + sizes[3] + 'px'\"\r\n\t\t\t\t\tclass=\"cell px-2 py-1 text-ellipsis\"\r\n\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\ttooltip=\"{{transaction.comment}}\"\r\n\t\t\t\t\ttooltipClass=\"table-tooltip comment-tooltip\">\r\n            {{transaction.comment}}\r\n        </span>\r\n\t</div>\r\n</div>\r\n","import { Component, EventEmitter, HostBinding, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-add-custom-token',\r\n  templateUrl: './add-custom-token.component.html',\r\n  styleUrls: ['./add-custom-token.component.scss']\r\n})\r\nexport class AddCustomTokenComponent {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Output() eventClose: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  @Output() eventSubmit: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  formGroup = new FormGroup({\r\n    assetID: new FormControl(null, Validators.compose([Validators.required])),\r\n  });\r\n\r\n  beforeSubmit(): void {\r\n    if (this.formGroup.invalid) {\r\n      this.formGroup.markAsTouched();\r\n      this.formGroup.updateValueAndValidity();\r\n      return;\r\n    }\r\n\r\n    this.submit();\r\n  }\r\n\r\n  submit(): void {\r\n    const { assetID } = this.formGroup.value;\r\n    this.eventSubmit.emit(assetID);\r\n  }\r\n}\r\n","<form (ngSubmit)=\"beforeSubmit()\" [formGroup]=\"formGroup\"\r\n\t\t\tclass=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\">\r\n\t<div class=\"content\"\r\n\t\t\t fxLayout=\"column\">\r\n\t\t<h3 class=\"mb-2\">{{ 'WALLET.MODAL_ADD_CUSTOM_TOKEN.TITLE' | translate }}</h3>\r\n\r\n\t\t<div class=\"form__field\">\r\n\t\t\t<label for=\"assetID\">{{ 'WALLET.MODAL_ADD_CUSTOM_TOKEN.FIELD_TITLE' | translate }}</label>\r\n\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t formControlName=\"assetID\"\r\n\t\t\t\t\t\t id=\"assetID\"\r\n\t\t\t\t\t\t name=\"assetID\"\r\n\t\t\t\t\t\t placeholder=\"Enter Asset ID\"\r\n\t\t\t\t\t\t type=\"text\"/>\r\n\t\t\t<div *ngIf=\"false\"\r\n\t\t\t\t\t class=\"error\">\r\n\t\t\t\tSome text\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"controls\"\r\n\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t<button (click)=\"eventClose.emit()\"\r\n\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{ 'MODALS.CANCEL' | translate }}</button>\r\n\t\t<button [disabled]=\"formGroup.invalid\"\r\n\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\ttype=\"submit\">{{ 'MODALS.ADD_TOKEN' | translate }}</button>\r\n\t</div>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AddCustomTokenComponent } from './add-custom-token.component';\r\nimport { FlexModule } from '@angular/flex-layout';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [AddCustomTokenComponent],\r\n  exports: [AddCustomTokenComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FlexModule,\r\n    TranslateModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class AddCustomTokenModule {\r\n}\r\n","import { Component, ElementRef, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-confirm-modal',\r\n  templateUrl: './confirm-modal.component.html',\r\n  styleUrls: ['./confirm-modal.component.scss']\r\n})\r\nexport class ConfirmModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Input() title: string;\r\n\r\n  @Input() message: string;\r\n\r\n  @Output() confirmed: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  @ViewChild('btn', { static: true }) button: ElementRef;\r\n\r\n  constructor(private renderer: Renderer2) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    this.button.nativeElement.focus();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.confirmed.emit(true);\r\n  }\r\n\r\n  close(): void {\r\n    this.confirmed.emit(false);\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\">\r\n\t<button (click)=\"close()\"\r\n\t\t\t\t\tclass=\"close\"\r\n\t\t\t\t\ttype=\"button\"><i class=\"icon close\"></i></button>\r\n\r\n\t<div class=\"content mb-2\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"center center\"\r\n\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t<i class=\"icon modal-info\"></i>\r\n\r\n\t\t<div fxLayout=\"column\"\r\n\t\t\t\t fxLayoutAlign=\"start stretch\">\r\n\t\t\t<h3 class=\"title\">{{title}}</h3>\r\n\t\t\t<p class=\"message\">{{message}}</p>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"controls\"\r\n\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t<button (click)=\"close()\"\r\n\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{ 'MODALS.CANCEL' | translate }}</button>\r\n\t\t<button #btn\r\n\t\t\t\t\t\t(click)=\"onSubmit()\"\r\n\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{ 'MODALS.OK' | translate }}</button>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ConfirmModalComponent } from './confirm-modal.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [ConfirmModalComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    FlexLayoutModule\r\n  ],\r\n  exports: [ConfirmModalComponent],\r\n  entryComponents: [ConfirmModalComponent]\r\n})\r\nexport class ConfirmModalModule {\r\n}\r\n","import { Component, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2 } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BackendService } from '../../services/backend.service';\r\nimport { VariablesService } from '../../services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-export-history-modal',\r\n  templateUrl: './export-history-modal.component.html',\r\n  styleUrls: ['./export-history-modal.component.scss']\r\n})\r\nexport class ExportHistoryModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  posFilterIsOn = true;\r\n  currentFormat: string;\r\n  exportPath: string;\r\n  exportData = {\r\n    wallet_id: 0,\r\n    include_pos_transactions: false,\r\n    path: 'C:\\\\some_file.txt',\r\n    format: 'json'\r\n  };\r\n  exportFormats = [\r\n    {\r\n      format: 'json',\r\n      formatName: 'JSON'\r\n    },\r\n    {\r\n      format: 'text',\r\n      formatName: 'Text'\r\n    },\r\n    {\r\n      format: 'csv',\r\n      formatName: 'CSV'\r\n    }\r\n  ];\r\n\r\n\r\n  @Input() currentWalletId;\r\n  @Output() closeExportModal: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  constructor(\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService,\r\n    private translate: TranslateService,\r\n    private renderer: Renderer2\r\n  ) {\r\n    this.currentFormat = this.exportFormats[0].format;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  closeModal() {\r\n    this.closeExportModal.emit(true);\r\n  }\r\n\r\n  confirmExport() {\r\n    this.exportData.format = `${ this.currentFormat }`;\r\n    this.exportData.wallet_id = this.currentWalletId;\r\n    this.exportData.include_pos_transactions = this.posFilterIsOn;\r\n\r\n    this.backend.saveFileDialog(\r\n      this.translate.instant('EXPORT_HISTORY.SAVED_FILE'),\r\n      `${ this.exportData.format }`,\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (this.exportData.format === 'text') {\r\n          this.exportData.path = file_data.path + '.txt';\r\n        } else {\r\n          this.exportData.path = file_data.path + `.${ this.exportData.format }`;\r\n        }\r\n        if (file_status) {\r\n          this.backend.exportWalletHistory(JSON.stringify(this.exportData));\r\n          this.closeExportModal.emit(true);\r\n        }\r\n      });\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-h-100 overflow-hidden\"\r\n\t\t fxFlex=\"0 1 54rem\"\r\n\t\t fxLayout=\"column\"\r\n\t\t fxLayoutAlign=\"start stretch\">\r\n\t<form class=\"form overflow-x-hidden overflow-y-auto\"\r\n\t\t\t\tfxLayout=\"column\"\r\n\t\t\t\tfxLayoutAlign=\"start stretch\">\r\n\t\t<h4 class=\"text-ellipsis mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">\r\n\t\t\t{{ 'EXPORT_HISTORY.TITLE' | translate }}\r\n\t\t</h4>\r\n\r\n\t\t<div class=\"content mb-2\"\r\n\t\t\t\t fxFlex=\"1 1 auto\">\r\n\t\t\t<div class=\"form__field\">\r\n\t\t\t\t<label>Format:</label>\r\n\t\t\t\t<ng-select [(ngModel)]=\"currentFormat\"\r\n\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t [items]=\"exportFormats\"\r\n\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t bindLabel=\"formatName\"\r\n\t\t\t\t\t\t\t\t\t bindValue=\"format\"\r\n\t\t\t\t\t\t\t\t\t name=\"format\">\r\n\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t{{item.formatName}}\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t{{item.formatName}}\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t</ng-select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"mb-2\"\r\n\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t<span class=\"color-primary mr-1\">{{ 'EXPORT_HISTORY.FILTER' | translate }}</span>\r\n\t\t\t\t<app-switch (emitChange)=\"posFilterIsOn = !posFilterIsOn\"\r\n\t\t\t\t\t\t\t\t\t\t[value]=\"posFilterIsOn\"></app-switch>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t<button (click)=\"confirmExport()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100 mr-0_5\"\r\n\t\t\t\t\t\t\ttype=\"submit\">{{ 'EXPORT_HISTORY.EXPORT' | translate }}</button>\r\n\t\t\t<button (click)=\"closeModal()\"\r\n\t\t\t\t\t\t\tclass=\"outline big w-100 ml-0_5\"\r\n\t\t\t\t\t\t\ttype=\"button\">{{ 'EXPORT_HISTORY.CANCEL' | translate }}</button>\r\n\t\t</div>\r\n\t</form>\r\n</div>\r\n","import { Component, ElementRef, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-modal-container',\r\n  templateUrl: './modal-container.component.html',\r\n  styleUrls: ['./modal-container.component.scss']\r\n})\r\nexport class ModalContainerComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n  public title: string;\r\n  @Input() type: string;\r\n  @Input() message: string;\r\n  @Output() close = new EventEmitter<boolean>();\r\n  @ViewChild('btn', { static: true }) button: ElementRef;\r\n\r\n  constructor(private translate: TranslateService, private renderer: Renderer2) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    this.button.nativeElement.focus();\r\n    switch (this.type) {\r\n      case 'error':\r\n        this.title = this.translate.instant('MODALS.ERROR');\r\n        break;\r\n      case 'success':\r\n        this.title = this.translate.instant('MODALS.SUCCESS');\r\n        break;\r\n      case 'info':\r\n        this.title = this.translate.instant('MODALS.INFO');\r\n        break;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  onClose() {\r\n    this.close.emit();\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-34-rem w-100 max-h-100\">\r\n\t<button (click)=\"onClose()\"\r\n\t\t\t\t\tclass=\"close\"\r\n\t\t\t\t\ttype=\"button\"><i class=\"icon close\"></i></button>\r\n\r\n\t<div class=\"content mb-2\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t<i [class.error]=\"type === 'error'\"\r\n\t\t\t [class.info]=\"type === 'info'\"\r\n\t\t\t [class.success]=\"type === 'success'\"\r\n\t\t\t class=\"icon min-width-4_4-rem min-height-4_4-rem mr-1\"\r\n\t\t\t fxFlex=\"0 0 auto\"></i>\r\n\t\t<div class=\"message-container\">\r\n\t\t\t<h3 class=\"title\">{{title}}</h3>\r\n\t\t\t<p [innerHTML]=\"message\"\r\n\t\t\t\t class=\"message\"></p>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"controls\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<button #btn\r\n\t\t\t\t\t\t(click)=\"onClose()\"\r\n\t\t\t\t\t\tclass=\"primary max-w-19-rem w-100 big\"\r\n\t\t\t\t\t\ttype=\"button\">{{ 'MODALS.OK' | translate }}</button>\r\n\t</div>\r\n</div>\r\n","import { Component, HostBinding, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-sync-modal',\r\n  templateUrl: './sync-modal.component.html',\r\n  styleUrls: ['./sync-modal.component.scss']\r\n})\r\nexport class SyncModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    public variablesService: VariablesService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  canselAction() {\r\n    this.variablesService.deeplink$.next(null);\r\n    this.variablesService.sendActionData$.next({});\r\n  }\r\n\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\">\r\n\t<div class=\"content\"\r\n\t\t\t fxLayout=\"column\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<h3 class=\"mb-2\">This action is not available\r\n\t\t\tduring synchronization...</h3>\r\n\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\ttype=\"button\">\r\n\t\t\tOK\r\n\t\t</button>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SyncModalComponent } from './sync-modal.component';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [SyncModalComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FlexLayoutModule\r\n  ],\r\n  exports: [SyncModalComponent],\r\n  entryComponents: [SyncModalComponent]\r\n})\r\nexport class SyncModalModule {\r\n}\r\n","import { Contract } from './contract.model';\r\nimport { Transaction } from './transaction.model';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\nexport interface Alias {\r\n  name: string;\r\n  address: string;\r\n  comment: string;\r\n  tracking_key?: string;\r\n}\r\n\r\nexport class Wallet {\r\n  stop_paginate: boolean;\r\n  open_from_exist: boolean;\r\n  updated = false;\r\n  wallet_id: number;\r\n  name: string;\r\n  pass: string;\r\n  path: string;\r\n  address: string;\r\n  balance: BigNumber;\r\n  unlocked_balance: BigNumber;\r\n  mined_total: number;\r\n  tracking_hey: string;\r\n  is_auditable: boolean;\r\n  is_watch_only: boolean;\r\n  exclude_mining_txs: boolean;\r\n  alias_available: boolean;\r\n\r\n  alias?: Partial<Alias>;\r\n  wakeAlias?: boolean;\r\n  staking?: boolean;\r\n  new_messages?: number;\r\n  new_contracts?: number;\r\n\r\n  history: Array<Transaction> = [];\r\n  total_history_item?: number;\r\n  pages = [];\r\n  totalPages: number;\r\n  currentPage: number;\r\n  excluded_history: Array<Transaction> = [];\r\n\r\n  contracts: Array<Contract> = [];\r\n\r\n  progress?: number;\r\n  loaded?: boolean;\r\n  restore?: boolean;\r\n\r\n  send_data?: any = {\r\n    address: null,\r\n    amount: null,\r\n    comment: null,\r\n    mixin: null,\r\n    fee: null,\r\n    hide: null\r\n  };\r\n\r\n  constructor(id, name, pass, path, address, balance, unlocked_balance, mined = 0, tracking = '') {\r\n    this.wallet_id = id;\r\n    this.name = name;\r\n    this.pass = pass;\r\n    this.path = path;\r\n    this.address = address;\r\n    this.balance = balance;\r\n    this.unlocked_balance = unlocked_balance;\r\n    this.mined_total = mined;\r\n    this.tracking_hey = tracking;\r\n\r\n    this.alias = {};\r\n    this.staking = false;\r\n    this.new_messages = 0;\r\n    this.new_contracts = 0;\r\n\r\n    this.history = [];\r\n    this.excluded_history = [];\r\n\r\n    this.progress = 0;\r\n    this.loaded = false;\r\n  }\r\n\r\n  getMoneyEquivalent(equivalent) {\r\n    return this.balance.multipliedBy(equivalent).toFixed(0);\r\n  }\r\n\r\n  havePass(): boolean {\r\n    return (this.pass !== '' && this.pass !== null);\r\n  }\r\n\r\n  isActive(id): boolean {\r\n    return this.wallet_id === id;\r\n  }\r\n\r\n  prepareHistoryItem(item: Transaction): any {\r\n    if (item.tx_type === 4) {\r\n      item.sortFee = item.amount.plus(item.fee).negated();\r\n      item.sortAmount = new BigNumber(0);\r\n    } else if (item.tx_type === 3) {\r\n      item.sortFee = new BigNumber(0);\r\n    } else if (\r\n      (\r\n        item.hasOwnProperty('contract') &&\r\n        (item.contract[0].state === 3 || item.contract[0].state === 6 || item.contract[0].state === 601) && !item.contract[0].is_a\r\n      )\r\n    ) {\r\n      item.sortFee = item.fee.negated();\r\n      item.sortAmount = item.amount;\r\n    } else {\r\n      if (!item.is_income) {\r\n        item.sortFee = item.fee.negated();\r\n        item.sortAmount = item.amount.negated();\r\n      } else {\r\n        item.sortAmount = item.amount;\r\n      }\r\n    }\r\n    return item;\r\n  }\r\n\r\n  prepareHistory(items: Transaction[]): void {\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (\r\n        (items[i].tx_type === 7 && items[i].is_income) || (items[i].tx_type === 11 && items[i].is_income) ||\r\n        (items[i].amount.eq(0) && items[i].fee.eq(0) && !items[i].is_mining)\r\n      ) {\r\n        let exists = false;\r\n        for (let j = 0; j < this.excluded_history.length; j++) {\r\n          if (this.excluded_history[j].tx_hash === items[i].tx_hash) {\r\n            exists = true;\r\n            if (this.excluded_history[j].height !== items[i].height) {\r\n              this.excluded_history[j] = items[i];\r\n            }\r\n            break;\r\n          }\r\n        }\r\n        if (!exists) {\r\n          this.excluded_history.push(items[i]);\r\n        }\r\n      } else {\r\n        let exists = false;\r\n        for (let j = 0; j < this.history.length; j++) {\r\n          if (this.history[j].tx_hash === items[i].tx_hash) {\r\n            exists = true;\r\n            if (this.history[j].height !== items[i].height) {\r\n              this.history[j] = this.prepareHistoryItem(items[i]);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n        if (!exists) {\r\n          if (this.history.length && items[i].timestamp >= this.history[0].timestamp) {\r\n            this.history.unshift(this.prepareHistoryItem(items[i]));\r\n          } else {\r\n            this.history.push(this.prepareHistoryItem(items[i]));\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  removeFromHistory(hash: string): void {\r\n    for (let i = 0; i < this.history.length; i++) {\r\n      if (this.history[i].tx_hash === hash) {\r\n        this.history.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  prepareContractsAfterOpen(items: any[], exp_med_ts, height_app, viewedContracts, notViewedContracts): void {\r\n    const wallet = this;\r\n    for (let i = 0; i < items.length; i++) {\r\n      const contract = items[i];\r\n      let contractTransactionExist = false;\r\n      if (wallet && wallet.history) {\r\n        contractTransactionExist = wallet.history.some(elem => elem.contract && elem.contract.length && elem.contract[0].contract_id === contract.contract_id);\r\n      }\r\n      if (!contractTransactionExist && wallet && wallet.excluded_history) {\r\n        contractTransactionExist = wallet.excluded_history.some(elem => elem.contract && elem.contract.length && elem.contract[0].contract_id === contract.contract_id);\r\n      }\r\n\r\n      if (!contractTransactionExist) {\r\n        contract.state = 140;\r\n      } else if (contract.state === 1 && contract.expiration_time < exp_med_ts) {\r\n        contract.state = 110;\r\n      } else if (contract.state === 2 && contract.cancel_expiration_time !== 0 && contract.cancel_expiration_time < exp_med_ts && contract.height === 0) {\r\n        const searchResult1 = viewedContracts.some(elem => elem.state === 2 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n        if (!searchResult1) {\r\n          contract.state = 130;\r\n          contract.is_new = true;\r\n        }\r\n      } else if (contract.state === 1) {\r\n        const searchResult2 = notViewedContracts.find(elem => elem.state === 110 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n        if (searchResult2) {\r\n          if (searchResult2.time === contract.expiration_time) {\r\n            contract.state = 110;\r\n          } else {\r\n            for (let j = 0; j < notViewedContracts.length; j++) {\r\n              if (notViewedContracts[j].contract_id === contract.contract_id && notViewedContracts[j].is_a === contract.is_a) {\r\n                notViewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n            for (let j = 0; j < viewedContracts.length; j++) {\r\n              if (viewedContracts[j].contract_id === contract.contract_id && viewedContracts[j].is_a === contract.is_a) {\r\n                viewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else if (contract.state === 2 && (contract.height === 0 || (height_app - contract.height) < 10)) {\r\n        contract.state = 201;\r\n      } else if (contract.state === 2) {\r\n        const searchResult3 = viewedContracts.some(elem => elem.state === 120 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n        if (searchResult3) {\r\n          contract.state = 120;\r\n        }\r\n      } else if (contract.state === 5) {\r\n        const searchResult4 = notViewedContracts.find(elem => elem.state === 130 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n        if (searchResult4) {\r\n          if (searchResult4.time === contract.cancel_expiration_time) {\r\n            contract.state = 130;\r\n          } else {\r\n            for (let j = 0; j < notViewedContracts.length; j++) {\r\n              if (notViewedContracts[j].contract_id === contract.contract_id && notViewedContracts[j].is_a === contract.is_a) {\r\n                notViewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n            for (let j = 0; j < viewedContracts.length; j++) {\r\n              if (viewedContracts[j].contract_id === contract.contract_id && viewedContracts[j].is_a === contract.is_a) {\r\n                viewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else if (contract.state === 6 && (contract.height === 0 || (height_app - contract.height) < 10)) {\r\n        contract.state = 601;\r\n      }\r\n      const searchResult = viewedContracts.some(elem => elem.state === contract.state && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n      contract.is_new = !searchResult;\r\n\r\n      wallet.contracts.push(contract);\r\n    }\r\n    this.recountNewContracts();\r\n  }\r\n\r\n  recountNewContracts() {\r\n    this.new_contracts = (this.contracts.filter(item => item.is_new === true)).length;\r\n  }\r\n\r\n  getContract(id): Contract {\r\n    for (let i = 0; i < this.contracts.length; i++) {\r\n      if (this.contracts[i].contract_id === id) {\r\n        return this.contracts[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n}\r\n\r\nexport interface DeeplinkParams {\r\n  action?: string;\r\n  address?: string;\r\n  amount?: string;\r\n  my_deposit?: string;\r\n  seller_deposit?: string;\r\n  seller_address?: string;\r\n  hide_sender?: string;\r\n  hide_receiver?: string;\r\n  title?: string;\r\n  description?: string;\r\n  category?: string;\r\n  price?: string;\r\n  img_url?: string;\r\n  url?: string;\r\n  contact?: string;\r\n  comment?: string;\r\n  comments?: string;\r\n  mixins?: string;\r\n  fee?: string;\r\n}\r\n\r\nexport interface PushOffer {\r\n  wallet_id: number;\r\n  od: {\r\n    ap: string;\r\n    at: string;\r\n    cat: string;\r\n    cnt: string;\r\n    com: string;\r\n    do: string;\r\n    et: number;\r\n    fee: BigNumber;\r\n    lci: string;\r\n    lco: string;\r\n    ot: number;\r\n    pt: string;\r\n    t: string;\r\n    url: string;\r\n  };\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Pipe({\r\n  name: 'contractStatusMessages'\r\n})\r\nexport class ContractStatusMessagesPipe implements PipeTransform {\r\n\r\n  constructor(private translate: TranslateService) {\r\n  }\r\n\r\n  getStateSeller(stateNum: number): string {\r\n    const state = { part1: '', part2: '' };\r\n    switch (stateNum) {\r\n      case 1:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.NEW_CONTRACT');\r\n        break;\r\n      case 110:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.IGNORED');\r\n        break;\r\n      case 201:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.ACCEPTED');\r\n        state.part2 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.WAIT');\r\n        break;\r\n      case 2:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.WAITING_BUYER');\r\n        break;\r\n      case 3:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.COMPLETED');\r\n        break;\r\n      case 4:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.NOT_RECEIVED');\r\n        state.part2 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.NULLIFIED');\r\n        break;\r\n      case 5:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.PROPOSAL_CANCEL');\r\n        break;\r\n      case 601:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.BEING_CANCELLED');\r\n        break;\r\n      case 6:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.CANCELLED');\r\n        break;\r\n      case 130:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.IGNORED_CANCEL');\r\n        break;\r\n      case 140:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.SELLER.EXPIRED');\r\n        break;\r\n    }\r\n    return state.part1 + (state.part2.length ? '. ' + state.part2 : '');\r\n  }\r\n\r\n  getStateBuyer(stateNum: number): string {\r\n    const state = { part1: '', part2: '' };\r\n    switch (stateNum) {\r\n      case 1:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.WAITING');\r\n        break;\r\n      case 110:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.IGNORED');\r\n        break;\r\n      case 201:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.ACCEPTED');\r\n        state.part2 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.WAIT');\r\n        break;\r\n      case 2:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.ACCEPTED');\r\n        break;\r\n      case 120:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.WAITING_SELLER');\r\n        break;\r\n      case 3:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.COMPLETED');\r\n        break;\r\n      case 4:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.NOT_RECEIVED');\r\n        state.part2 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.NULLIFIED');\r\n        break;\r\n      case 5:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.WAITING_CANCEL');\r\n        break;\r\n      case 601:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.BEING_CANCELLED');\r\n        break;\r\n      case 6:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.CANCELLED');\r\n        break;\r\n      case 130:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.IGNORED_CANCEL');\r\n        break;\r\n      case 140:\r\n        state.part1 = this.translate.instant('CONTRACTS.STATUS_MESSAGES.BUYER.EXPIRED');\r\n        break;\r\n    }\r\n    return state.part1 + (state.part2.length ? '. ' + state.part2 : '');\r\n  }\r\n\r\n  transform(state: number, is_a?: boolean): any {\r\n    if (is_a) {\r\n      return this.getStateBuyer(state);\r\n    } else {\r\n      return this.getStateSeller(state);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Pipe({\r\n  name: 'contractTimeLeft'\r\n})\r\nexport class ContractTimeLeftPipe implements PipeTransform {\r\n\r\n  constructor(private service: VariablesService, private translate: TranslateService) {\r\n  }\r\n\r\n  transform(value: any, arg?: any): any {\r\n    const time = parseInt(((parseInt(value, 10) - this.service.exp_med_ts) / 3600).toFixed(0), 10);\r\n    const type = arg || 0;\r\n    if (time === 0) {\r\n      return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_LESS_ONE');\r\n    }\r\n    if (this.service.settings.language === 'en') {\r\n      if (type === 0) {\r\n        if (time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY', { time: time });\r\n        }\r\n      } else if (type === 1) {\r\n        if (time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE_RESPONSE', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_RESPONSE', { time: time });\r\n        }\r\n      } else if (type === 2) {\r\n        if (time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE_WAITING', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_WAITING', { time: time });\r\n        }\r\n      }\r\n    } else {\r\n      const rest = time % 10;\r\n      if (type === 0) {\r\n        if (((time > 20) && (rest === 1)) || time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE', { time: time });\r\n        } else if ((time > 1) && (time < 5) || ((time > 20) && (rest === 2 || rest === 3 || rest === 4))) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_ALT', { time: time });\r\n        }\r\n      } else if (type === 1) {\r\n        if (((time > 20) && (rest === 1)) || time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE_RESPONSE', { time: time });\r\n        } else if ((time > 1) && (time < 5) || ((time > 20) && (rest === 2 || rest === 3 || rest === 4))) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_RESPONSE', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_ALT_RESPONSE', { time: time });\r\n        }\r\n      } else if (type === 2) {\r\n        if (((time > 20) && (rest === 1)) || time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE_WAITING', { time: time });\r\n        } else if ((time > 1) && (time < 5) || ((time > 20) && (rest === 2 || rest === 3 || rest === 4))) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_WAITING', { time: time });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY_ALT_WAITING', { time: time });\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Pipe({\r\n  name: 'historyTypeMessages'\r\n})\r\nexport class HistoryTypeMessagesPipe implements PipeTransform {\r\n\r\n  constructor(private translate: TranslateService) {\r\n  }\r\n\r\n  transform(item: any, args?: any): any {\r\n\r\n    if (item.tx_type === 0) {\r\n      if (item.remote_addresses && item.remote_addresses[0]) {\r\n        return item.remote_addresses[0];\r\n      } else {\r\n        if (item.is_income) {\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.HIDDEN');\r\n        } else {\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.UNDEFINED');\r\n        }\r\n      }\r\n    } else if (item.tx_type === 6 && item.height === 0) {\r\n      return 'unknown';\r\n    } else if (item.tx_type === 9) {\r\n      if (item.hasOwnProperty('contract') && item.contract[0].is_a) {\r\n        return this.translate.instant('HISTORY.TYPE_MESSAGES.COMPLETE_BUYER');\r\n      } else {\r\n        return this.translate.instant('HISTORY.TYPE_MESSAGES.COMPLETE_SELLER');\r\n      }\r\n    } else {\r\n      switch (item.tx_type) {\r\n        // case 0:\r\n        //   return '';\r\n        // case 1:\r\n        //   return '';\r\n        // case 2:\r\n        //   return '';\r\n        // case 3:\r\n        //   return '';\r\n        case 4:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.CREATE_ALIAS');\r\n        case 5:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.UPDATE_ALIAS');\r\n        case 6:\r\n          return (item.td['spn'] && item.td['spn'].length) ? this.translate.instant('HISTORY.TYPE_MESSAGES.POS_REWARD') : this.translate.instant('HISTORY.TYPE_MESSAGES.POW_REWARD');\r\n        case 7:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.CREATE_CONTRACT');\r\n        case 8:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.PLEDGE_CONTRACT');\r\n        // case 9:\r\n        //   return '';\r\n        case 10:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.NULLIFY_CONTRACT');\r\n        case 11:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.PROPOSAL_CANCEL_CONTRACT');\r\n        case 12:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.CANCEL_CONTRACT');\r\n      }\r\n    }\r\n\r\n    return this.translate.instant('HISTORY.TYPE_MESSAGES.UNDEFINED');\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Pipe({\r\n  name: 'intToMoney'\r\n})\r\nexport class IntToMoneyPipe implements PipeTransform {\r\n\r\n  constructor(private variablesService: VariablesService) {\r\n  }\r\n\r\n  transform(value: any, args?: any): any {\r\n    if (value === 0 || value === undefined) {\r\n      return '0';\r\n    }\r\n    let maxFraction = this.variablesService.digits;\r\n    if (args) {\r\n      maxFraction = parseInt(args, 10);\r\n    }\r\n    const power = Math.pow(10, this.variablesService.digits);\r\n    let str = (new BigNumber(value)).div(power).toFixed(maxFraction);\r\n\r\n    for (let i = str.length - 1; i >= 0; i--) {\r\n      if (str[i] !== '0') {\r\n        str = str.substr(0, i + 1);\r\n        break;\r\n      }\r\n    }\r\n    if (str[str.length - 1] === '.') {\r\n      str = str.substr(0, str.length - 1);\r\n    }\r\n    return str;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Pipe({\r\n  name: 'moneyToInt'\r\n})\r\nexport class MoneyToIntPipe implements PipeTransform {\r\n\r\n  constructor(private variablesService: VariablesService) {\r\n  }\r\n\r\n  transform(value: any, args?: any): any {\r\n    const CURRENCY_DISPLAY_DECIMAL_POINT = this.variablesService.digits;\r\n    let result;\r\n    if (value) {\r\n      let am_str = value.toString().trim();\r\n      const point_index = am_str.indexOf('.');\r\n      let fraction_size = 0;\r\n      if (-1 !== point_index) {\r\n        fraction_size = am_str.length - point_index - 1;\r\n        while (CURRENCY_DISPLAY_DECIMAL_POINT < fraction_size && '0' === am_str[am_str.length - 1]) {\r\n          am_str = am_str.slice(0, am_str.length - 1);\r\n          --fraction_size;\r\n        }\r\n        if (CURRENCY_DISPLAY_DECIMAL_POINT < fraction_size) {\r\n          return undefined;\r\n        }\r\n        am_str = am_str.slice(0, point_index) + am_str.slice(point_index + 1, am_str.length);\r\n      } else {\r\n        fraction_size = 0;\r\n      }\r\n      if (!am_str.length) {\r\n        return undefined;\r\n      }\r\n      if (fraction_size < CURRENCY_DISPLAY_DECIMAL_POINT) {\r\n        for (let i = 0; i !== CURRENCY_DISPLAY_DECIMAL_POINT - fraction_size; i++) {\r\n          am_str = am_str + '0';\r\n        }\r\n      }\r\n      result = (new BigNumber(am_str)).integerValue();\r\n    }\r\n    return result;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IntToMoneyPipe } from './int-to-money.pipe';\r\nimport { SafeHTMLPipe } from './safe-html.pipe';\r\nimport { MoneyToIntPipe } from './money-to-int.pipe';\r\nimport { HistoryTypeMessagesPipe } from './history-type-messages.pipe';\r\nimport { ContractTimeLeftPipe } from './contract-time-left.pipe';\r\nimport { ContractStatusMessagesPipe } from './contract-status-messages.pipe';\r\n\r\n@NgModule({\r\n  declarations: [IntToMoneyPipe, SafeHTMLPipe, MoneyToIntPipe, HistoryTypeMessagesPipe, ContractTimeLeftPipe, ContractStatusMessagesPipe],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [IntToMoneyPipe, SafeHTMLPipe, MoneyToIntPipe, HistoryTypeMessagesPipe, ContractTimeLeftPipe, ContractStatusMessagesPipe],\r\n  providers: [IntToMoneyPipe, SafeHTMLPipe, MoneyToIntPipe, HistoryTypeMessagesPipe, ContractTimeLeftPipe, ContractStatusMessagesPipe]\r\n})\r\nexport class PipesModule {\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHTML'\r\n})\r\nexport class SafeHTMLPipe implements PipeTransform {\r\n\r\n  constructor(private sanitizer: DomSanitizer) {\r\n  }\r\n\r\n  transform(html: string) {\r\n    return this.sanitizer.bypassSecurityTrustHtml(html);\r\n  }\r\n\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { VariablesService } from './variables.service';\r\nimport { ModalService } from './modal.service';\r\nimport { MoneyToIntPipe } from '../pipes/money-to-int.pipe';\r\nimport JSONBigNumber from 'json-bignumber';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { Alias } from '../models/wallet.model';\r\n\r\nexport interface PramsObj {\r\n  [key: string]: any;\r\n}\r\n\r\nexport type PramsArray = (string | PramsObj)[];\r\n\r\nexport type Params = string | PramsObj | PramsArray;\r\n\r\nexport enum ParamsType {\r\n  array = 'array',\r\n  object = 'object',\r\n  string = 'string'\r\n}\r\n\r\nexport const getParamsType = (value: Params): ParamsType | null => {\r\n  if (!value) {\r\n    return null;\r\n  }\r\n  const array: false | ParamsType.array = Array.isArray(value) && ParamsType.array;\r\n  const object: false | ParamsType = Object.keys(ParamsType).includes(typeof value) && ParamsType[typeof value];\r\n  return array || object || null;\r\n};\r\n\r\nexport type ConvertersObjectForTypes = {\r\n  [key in ParamsType]: (value: Params) => string | string[]\r\n};\r\n\r\nexport const convertersObjectForTypes: ConvertersObjectForTypes = {\r\n  [ParamsType.string]: (value: string): string => value,\r\n  [ParamsType.object]: (value: PramsObj): string => JSONBigNumber.stringify(value),\r\n  [ParamsType.array]: (value: PramsArray): string[] => value.map(v => {\r\n    return typeof v === ParamsType.string ? v as string : JSONBigNumber.stringify(v);\r\n  }),\r\n};\r\n\r\nexport const convertorParams = (value: Params): string | string[] => {\r\n  const type: ParamsType = getParamsType(value);\r\n  return convertersObjectForTypes[type](value);\r\n};\r\n\r\nexport interface ResponseAsyncTransfer {\r\n  error_code: string;\r\n  response_data: {\r\n    success: boolean;\r\n    tx_blob_size: number,\r\n    tx_hash: string\r\n  };\r\n}\r\n\r\nexport interface AsyncCommandResults {\r\n  job_id: number;\r\n  response: ResponseAsyncTransfer;\r\n}\r\n\r\nexport enum StatusCurrentActionState {\r\n  STATE_SENDING = 'STATE_SENDING',\r\n  STATE_SENT_SUCCESS = 'STATE_SENT_SUCCESS',\r\n  STATE_SEND_FAILED = 'STATE_SEND_FAILED',\r\n  STATE_INITIALIZING = 'STATE_INITIALIZING',\r\n  STATE_DOWNLOADING_CONSENSUS = 'STATE_DOWNLOADING_CONSENSUS',\r\n  STATE_MAKING_TUNNEL_A = 'STATE_MAKING_TUNNEL_A',\r\n  STATE_MAKING_TUNNEL_B = 'STATE_MAKING_TUNNEL_B',\r\n  STATE_CREATING_STREAM = 'STATE_CREATING_STREAM',\r\n  STATE_FAILED = 'STATE_FAILED',\r\n  STATE_SUCCESS = 'STATE_SUCCESS'\r\n}\r\n\r\nexport interface CurrentActionState {\r\n  status: StatusCurrentActionState;\r\n  wallet_id: number;\r\n}\r\n\r\n@Injectable()\r\nexport class BackendService {\r\n  dispatchAsyncCallResult$ = new Subject<AsyncCommandResults>();\r\n  handleCurrentActionState$ = new Subject<CurrentActionState>();\r\n\r\n  backendObject: any;\r\n\r\n  backendLoaded = false;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private variablesService: VariablesService,\r\n    private modalService: ModalService,\r\n    private moneyToIntPipe: MoneyToIntPipe,\r\n    private ngZone: NgZone,\r\n  ) {\r\n  }\r\n\r\n  static bigNumberParser(key, val) {\r\n    if (\r\n      val.constructor.name === 'BigNumber' &&\r\n      ['balance', 'unlocked_balance', 'amount', 'fee', 'b_fee', 'to_pay', 'a_pledge', 'b_pledge', 'coast', 'a'].indexOf(key) === -1) {\r\n      return val.toNumber();\r\n    }\r\n    if (key === 'rcv' || key === 'spn') {\r\n      for (let i = 0; i < val.length; i++) {\r\n        val[i] = new BigNumber(val[i]);\r\n      }\r\n    }\r\n    return val;\r\n  }\r\n\r\n  static Debug(type, message) {\r\n    switch (type) {\r\n      case 0:\r\n        console.error(message);\r\n        break;\r\n      case 1:\r\n        console.warn(message);\r\n        break;\r\n      case 2:\r\n        console.log(message);\r\n        break;\r\n      default:\r\n        console.log(message);\r\n        break;\r\n    }\r\n  }\r\n\r\n  eventSubscribe(command, callback) {\r\n    if (command === 'on_core_event') {\r\n      this.backendObject[command].connect(callback);\r\n    } else {\r\n      this.backendObject[command].connect((str) => {\r\n        callback(JSONBigNumber.parse(str, BackendService.bigNumberParser));\r\n      });\r\n    }\r\n  }\r\n\r\n  initService() {\r\n    return new Observable(\r\n      observer => {\r\n        if (!this.backendLoaded) {\r\n          this.backendLoaded = true;\r\n          const that = this;\r\n          (<any>window).QWebChannel((<any>window).qt.webChannelTransport, function (channel) {\r\n            that.backendObject = channel.objects.mediator_object;\r\n            observer.next('ok');\r\n          });\r\n        } else {\r\n          if (!this.backendObject) {\r\n            observer.error('error');\r\n            observer.error('error');\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  webkitLaunchedScript() {\r\n    return this.runCommand('webkit_launched_script');\r\n  }\r\n\r\n  quitRequest() {\r\n    return this.runCommand('on_request_quit');\r\n  }\r\n\r\n  getAppData(callback) {\r\n    this.runCommand('get_app_data', {}, callback);\r\n  }\r\n\r\n  storeAppData(callback?) {\r\n    if (this.variablesService.wallets.length) {\r\n      this.variablesService.settings.wallets = [];\r\n      this.variablesService.wallets.forEach((wallet) => {\r\n        this.variablesService.settings.wallets.push({ name: wallet.name, path: wallet.path });\r\n      });\r\n    }\r\n    this.runCommand('store_app_data', this.variablesService.settings, callback);\r\n  }\r\n\r\n  getSecureAppData(pass, callback) {\r\n    this.runCommand('get_secure_app_data', pass, callback);\r\n  }\r\n\r\n  setMasterPassword(pass, callback) {\r\n    this.runCommand('set_master_password', pass, callback);\r\n  }\r\n\r\n  checkMasterPassword(pass, callback) {\r\n    this.runCommand('check_master_password', pass, callback);\r\n  }\r\n\r\n  getIsDisabledNotifications(callback) {\r\n    const params = {};\r\n    this.runCommand('get_is_disabled_notifications', params, callback);\r\n  }\r\n\r\n  setIsDisabledNotifications(state) {\r\n    this.runCommand('set_is_disabled_notifications', state);\r\n  }\r\n\r\n  storeSecureAppData(callback?) {\r\n    let data;\r\n    const wallets = [];\r\n    const contacts = [];\r\n    this.variablesService.wallets.forEach((wallet) => {\r\n      wallets.push({ name: wallet.name, pass: wallet.pass, path: wallet.path, staking: wallet.staking });\r\n    });\r\n    this.variablesService.contacts.forEach((contact) => {\r\n      contacts.push({ name: contact.name, address: contact.address, notes: contact.notes });\r\n    });\r\n    data = { wallets: wallets, contacts: contacts };\r\n    this.backendObject['store_secure_app_data'](JSON.stringify(data), this.variablesService.appPass, (dataStore) => {\r\n      this.backendCallback(dataStore, {}, callback, 'store_secure_app_data');\r\n    });\r\n  }\r\n\r\n  dropSecureAppData(callback?) {\r\n    this.backendObject['drop_secure_app_data']((dataStore) => {\r\n      this.backendCallback(dataStore, {}, callback, 'drop_secure_app_data');\r\n    });\r\n  }\r\n\r\n  haveSecureAppData(callback) {\r\n    this.runCommand('have_secure_app_data', {}, callback);\r\n  }\r\n\r\n  saveFileDialog(caption, fileMask, default_path, callback) {\r\n    const dir = default_path ? default_path : '/';\r\n    const params = {\r\n      caption: caption,\r\n      filemask: fileMask,\r\n      default_dir: dir\r\n    };\r\n    this.runCommand('show_savefile_dialog', params, callback);\r\n  }\r\n\r\n  openFileDialog(caption, fileMask, default_path, callback) {\r\n    const dir = default_path ? default_path : '/';\r\n    const params = {\r\n      caption: caption,\r\n      filemask: fileMask,\r\n      default_dir: dir\r\n    };\r\n    this.runCommand('show_openfile_dialog', params, callback);\r\n  }\r\n\r\n  storeFile(path, buff) {\r\n    this.backendObject['store_to_file'](path, buff);\r\n  }\r\n\r\n  loadFile(path, callback) {\r\n    this.runCommand('load_from_file', path, callback);\r\n  }\r\n\r\n  push_offer(params, callback) {\r\n    this.runCommand('push_offer', params, callback);\r\n  }\r\n\r\n  generateWallet(path, pass, callback) {\r\n    const params = {\r\n      path: path,\r\n      pass: pass\r\n    };\r\n    this.runCommand('generate_wallet', params, callback);\r\n  }\r\n\r\n  exportWalletHistory(json_string) {\r\n    this.runCommand('export_wallet_history', json_string);\r\n  }\r\n\r\n  openWallet(path, pass, txs_to_return, testEmpty, callback) {\r\n    const params = {\r\n      path: path,\r\n      pass: pass,\r\n      txs_to_return: txs_to_return\r\n    };\r\n    params['testEmpty'] = !!(testEmpty);\r\n    this.runCommand('open_wallet', params, callback);\r\n  }\r\n\r\n  closeWallet(wallet_id, callback?) {\r\n    this.runCommand('close_wallet', { wallet_id: +wallet_id }, callback);\r\n  }\r\n\r\n  getSmartWalletInfo({ wallet_id, seed_password }, callback) {\r\n    this.runCommand('get_smart_wallet_info', { wallet_id: +wallet_id, seed_password }, callback);\r\n  }\r\n\r\n  getSeedPhraseInfo(param, callback) {\r\n    this.runCommand('get_seed_phrase_info', param, callback);\r\n  }\r\n\r\n  runWallet(wallet_id, callback?) {\r\n    this.runCommand('run_wallet', { wallet_id: +wallet_id }, callback);\r\n  }\r\n\r\n  isValidRestoreWalletText(param, callback) {\r\n    this.runCommand('is_valid_restore_wallet_text', param, callback);\r\n  }\r\n\r\n  restoreWallet(path, pass, seed_phrase, seed_pass, callback) {\r\n    const params = {\r\n      seed_phrase: seed_phrase,\r\n      path: path,\r\n      pass: pass,\r\n      seed_pass\r\n    };\r\n    this.runCommand('restore_wallet', params, callback);\r\n  }\r\n\r\n  sendMoney(from_wallet_id, to_address, amount, fee, mixin, comment, hide, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(from_wallet_id, 10),\r\n      destinations: [\r\n        {\r\n          address: to_address,\r\n          amount: amount\r\n        }\r\n      ],\r\n      mixin_count: (mixin) ? parseInt(mixin, 10) : 0,\r\n      lock_time: 0,\r\n      fee: this.moneyToIntPipe.transform(fee),\r\n      comment: comment,\r\n      push_payer: !hide\r\n    };\r\n\r\n    this.asyncCall('transfer', params, callback);\r\n  }\r\n\r\n  validateAddress(address, callback) {\r\n    this.runCommand('validate_address', address, callback);\r\n  }\r\n\r\n  setClipboard(str, callback?) {\r\n    return this.runCommand('set_clipboard', str, callback);\r\n  }\r\n\r\n  getClipboard(callback) {\r\n    return this.runCommand('get_clipboard', {}, callback);\r\n  }\r\n\r\n  createProposal(wallet_id, title, comment, a_addr, b_addr, to_pay, a_pledge, b_pledge, time, payment_id, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      details: {\r\n        t: title,\r\n        c: comment,\r\n        a_addr: a_addr,\r\n        b_addr: b_addr,\r\n        to_pay: this.moneyToIntPipe.transform(to_pay),\r\n        a_pledge: this.moneyToIntPipe.transform(a_pledge),\r\n        b_pledge: this.moneyToIntPipe.transform(b_pledge)\r\n      },\r\n      payment_id: payment_id,\r\n      expiration_period: parseInt(time, 10) * 60 * 60,\r\n      fee: this.variablesService.default_fee_big,\r\n      b_fee: this.variablesService.default_fee_big\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('create_proposal', params, callback);\r\n  }\r\n\r\n  getContracts(wallet_id, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10)\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('get_contracts', params, callback);\r\n  }\r\n\r\n  acceptProposal(wallet_id, contract_id, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('accept_proposal', params, callback);\r\n  }\r\n\r\n  releaseProposal(wallet_id, contract_id, release_type, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id,\r\n      release_type: release_type // \"normal\" or \"burn\"\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('release_contract', params, callback);\r\n  }\r\n\r\n  requestCancelContract(wallet_id, contract_id, time, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id,\r\n      fee: this.variablesService.default_fee_big,\r\n      expiration_period: parseInt(time, 10) * 60 * 60\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('request_cancel_contract', params, callback);\r\n  }\r\n\r\n  acceptCancelContract(wallet_id, contract_id, callback) {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand('accept_cancel_contract', params, callback);\r\n  }\r\n\r\n  getMiningHistory(wallet_id, callback) {\r\n    this.runCommand('get_mining_history', { wallet_id: parseInt(wallet_id, 10) }, callback);\r\n  }\r\n\r\n  startPosMining(wallet_id, callback?) {\r\n    this.runCommand('start_pos_mining', { wallet_id: parseInt(wallet_id, 10) }, callback);\r\n  }\r\n\r\n  stopPosMining(wallet_id, callback?) {\r\n    this.runCommand('stop_pos_mining', { wallet_id: parseInt(wallet_id, 10) }, callback);\r\n  }\r\n\r\n  openUrlInBrowser(url, callback?) {\r\n    this.runCommand('open_url_in_browser', url, callback);\r\n  }\r\n\r\n  start_backend(node, host, port, callback) {\r\n    const params = {\r\n      configure_for_remote_node: node,\r\n      remote_node_host: host,\r\n      remote_node_port: parseInt(port, 10)\r\n    };\r\n    this.runCommand('start_backend', params, callback);\r\n  }\r\n\r\n  getDefaultFee(callback) {\r\n    this.runCommand('get_default_fee', {}, callback);\r\n  }\r\n\r\n  setBackendLocalization(stringsArray, title, callback?) {\r\n    const params = {\r\n      strings: stringsArray,\r\n      language_title: title\r\n    };\r\n    this.runCommand('set_localization_strings', params, callback);\r\n  }\r\n\r\n  registerAlias(wallet_id, alias, address, fee, comment, reward, callback) {\r\n    const params = {\r\n      wallet_id: wallet_id,\r\n      alias: {\r\n        alias: alias,\r\n        address: address,\r\n        tracking_key: '',\r\n        comment: comment\r\n      },\r\n      fee: this.moneyToIntPipe.transform(fee),\r\n      reward: this.moneyToIntPipe.transform(reward)\r\n    };\r\n    this.runCommand('request_alias_registration', params, callback);\r\n  }\r\n\r\n  updateAlias(wallet_id, alias, fee, callback) {\r\n    const params = {\r\n      wallet_id: wallet_id,\r\n      alias: {\r\n        alias: alias.name.replace('@', ''),\r\n        address: alias.address,\r\n        tracking_key: '',\r\n        comment: alias.comment\r\n      },\r\n      fee: this.moneyToIntPipe.transform(fee)\r\n    };\r\n    this.runCommand('request_alias_update', params, callback);\r\n  }\r\n\r\n  getAllAliases(callback) {\r\n    this.runCommand('get_all_aliases', {}, callback);\r\n  }\r\n\r\n  getAliasByName(value, callback) {\r\n    return this.runCommand('get_alias_info_by_name', value, callback);\r\n  }\r\n\r\n  getAliasByAddress(value, callback) {\r\n    return this.runCommand('get_alias_info_by_address', value, callback);\r\n  }\r\n\r\n  getAliasCoast(alias, callback) {\r\n    this.runCommand('get_alias_coast', { v: alias }, callback);\r\n  }\r\n\r\n  resyncWallet(id) {\r\n    this.runCommand('resync_wallet', { wallet_id: id });\r\n  }\r\n\r\n  getWalletAlias(address): Partial<Alias> {\r\n    if (address !== null && this.variablesService.daemon_state === 2) {\r\n      if (this.variablesService.aliasesChecked[address] == null) {\r\n        this.variablesService.aliasesChecked[address] = {};\r\n        if (this.variablesService.aliases.length) {\r\n          for (let i = 0, length = this.variablesService.aliases.length; i < length; i++) {\r\n            if (i in this.variablesService.aliases && this.variablesService.aliases[i]['address'] === address) {\r\n              this.variablesService.aliasesChecked[address]['name'] = this.variablesService.aliases[i].name;\r\n              this.variablesService.aliasesChecked[address]['address'] = this.variablesService.aliases[i].address;\r\n              this.variablesService.aliasesChecked[address]['comment'] = this.variablesService.aliases[i].comment;\r\n              return this.variablesService.aliasesChecked[address];\r\n            }\r\n          }\r\n        }\r\n        this.getAliasByAddress(address, (status, data) => {\r\n          if (status) {\r\n            this.variablesService.aliasesChecked[data.address]['name'] = '@' + data.alias;\r\n            this.variablesService.aliasesChecked[data.address]['address'] = data.address;\r\n            this.variablesService.aliasesChecked[data.address]['comment'] = data.comment;\r\n          }\r\n        });\r\n      }\r\n      return this.variablesService.aliasesChecked[address];\r\n    }\r\n    return {};\r\n  }\r\n\r\n  getContactAlias() {\r\n    if (this.variablesService.contacts.length && this.variablesService.daemon_state === 2) {\r\n      this.variablesService.contacts.map(contact => {\r\n        this.getAliasByAddress(contact.address, (status, data) => {\r\n          if (status) {\r\n            if (data.alias) {\r\n              contact.alias = '@' + data.alias;\r\n            }\r\n          } else {\r\n            contact.alias = null;\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  getRecentTransfers(id, offset, count, exclude_mining_txs, callback) {\r\n    const params = {\r\n      wallet_id: id,\r\n      offset: offset,\r\n      count: count,\r\n      exclude_mining_txs: exclude_mining_txs\r\n    };\r\n    this.runCommand('get_recent_transfers', params, callback);\r\n  }\r\n\r\n  getPoolInfo(callback) {\r\n    this.runCommand('get_tx_pool_info', {}, callback);\r\n  }\r\n\r\n  getVersion(callback) {\r\n    this.runCommand('get_version', {}, (status, version) => {\r\n      this.runCommand('get_network_type', {}, (status_network, type) => {\r\n        callback(version, type);\r\n      });\r\n    });\r\n  }\r\n\r\n  setLogLevel(level) {\r\n    return this.runCommand('set_log_level', { v: level });\r\n  }\r\n\r\n  asyncCall(command: string, params: PramsObj, callback?: (job_id?: number) => void | any) {\r\n    return this.runCommand('async_call', [command, params], (status, { job_id }: { job_id: number }) => {\r\n      callback(job_id);\r\n    });\r\n  }\r\n\r\n  dispatchAsyncCallResult() {\r\n    this.backendObject['dispatch_async_call_result'].connect((job_id: string, json_resp: string) => {\r\n      const asyncCommandResults: AsyncCommandResults = {\r\n        job_id: +job_id,\r\n        response: JSON.parse(json_resp)\r\n      };\r\n      this.ngZone.run(() => this.dispatchAsyncCallResult$.next(asyncCommandResults));\r\n    });\r\n  }\r\n\r\n  handleCurrentActionState() {\r\n    this.backendObject['handle_current_action_state']\r\n      .connect((response: string) => {\r\n        const currentActionState: CurrentActionState = JSON.parse(response);\r\n        this.ngZone.run(() => this.handleCurrentActionState$.next(currentActionState));\r\n      });\r\n  }\r\n\r\n  setEnableTor(value: boolean) {\r\n    return this.runCommand('set_enable_tor', <{ v: boolean }>{ v: value });\r\n  }\r\n\r\n  getOptions() {\r\n    return this.runCommand(\r\n      'get_options',\r\n      {},\r\n      (status, { disable_price_fetch, use_debug_mode }: { disable_price_fetch: boolean; use_debug_mode: boolean }) => {\r\n        this.variablesService.disable_price_fetch$.next(disable_price_fetch);\r\n        this.variablesService.use_debug_mode$.next(use_debug_mode);\r\n      });\r\n  }\r\n\r\n  private informerRun(error, params, command) {\r\n    let error_translate = '';\r\n    switch (error) {\r\n      case 'NOT_ENOUGH_MONEY':\r\n        error_translate = 'ERRORS.NOT_ENOUGH_MONEY';\r\n        // error_translate = 'ERRORS.NO_MONEY'; maybe that one?\r\n        if (command === 'cancel_offer') {\r\n          error_translate = this.translate.instant('ERRORS.NO_MONEY_REMOVE_OFFER', {\r\n            'fee': this.variablesService.default_fee,\r\n            'currency': this.variablesService.defaultCurrency\r\n          });\r\n        }\r\n        break;\r\n      case 'CORE_BUSY':\r\n        error_translate = 'ERRORS.CORE_BUSY';\r\n        break;\r\n      case 'BUSY':\r\n        error_translate = 'ERRORS.DAEMON_BUSY';\r\n        break;\r\n      case 'OVERFLOW':\r\n        if (command !== 'get_all_aliases') {\r\n          error_translate = '';\r\n        }\r\n        break;\r\n      case 'NOT_ENOUGH_OUTPUTS_FOR_MIXING':\r\n        error_translate = 'ERRORS.NOT_ENOUGH_OUTPUTS_TO_MIX';\r\n        break;\r\n      case 'TX_IS_TOO_BIG':\r\n        error_translate = 'ERRORS.TRANSACTION_IS_TO_BIG';\r\n        break;\r\n      case 'DISCONNECTED':\r\n        error_translate = 'ERRORS.TRANSFER_ATTEMPT';\r\n        break;\r\n      case 'ACCESS_DENIED':\r\n        error_translate = 'ERRORS.ACCESS_DENIED';\r\n        break;\r\n      case 'TX_REJECTED':\r\n        // if (command === 'request_alias_registration') {\r\n        // error_translate = 'INFORMER.ALIAS_IN_REGISTER';\r\n        // } else {\r\n        error_translate = 'ERRORS.TRANSACTION_ERROR';\r\n        // }\r\n        break;\r\n      case 'INTERNAL_ERROR':\r\n        error_translate = 'ERRORS.TRANSACTION_ERROR';\r\n        break;\r\n      case 'BAD_ARG':\r\n        error_translate = 'ERRORS.BAD_ARG';\r\n        break;\r\n      case 'WALLET_WRONG_ID':\r\n        error_translate = 'ERRORS.WALLET_WRONG_ID';\r\n        break;\r\n      case 'WALLET_WATCH_ONLY_NOT_SUPPORTED':\r\n        error_translate = 'ERRORS.WALLET_WATCH_ONLY_NOT_SUPPORTED';\r\n        break;\r\n      // case 'WRONG_PASSWORD':\r\n      // params = JSON.parse(params);\r\n      // if (!params.testEmpty) {\r\n      //   error_translate = 'ERRORS.WRONG_PASSWORD';\r\n      // }\r\n      // break;\r\n      case 'FILE_RESTORED':\r\n        if (command === 'open_wallet') {\r\n          error_translate = 'ERRORS.FILE_RESTORED';\r\n        }\r\n        break;\r\n      case 'FILE_NOT_FOUND':\r\n        if (command !== 'open_wallet' && command !== 'get_alias_info_by_name' && command !== 'get_alias_info_by_address') {\r\n          error_translate = this.translate.instant('ERRORS.FILE_NOT_FOUND');\r\n          params = JSON.parse(params);\r\n          if (params.path) {\r\n            error_translate += ': ' + params.path;\r\n          }\r\n        }\r\n        break;\r\n      case 'NOT_FOUND':\r\n        if (command !== 'open_wallet' && command !== 'get_alias_info_by_name' && command !== 'get_alias_info_by_address') {\r\n          error_translate = this.translate.instant('ERRORS.FILE_NOT_FOUND');\r\n          params = JSON.parse(params);\r\n          if (params.path) {\r\n            error_translate += ': ' + params.path;\r\n          }\r\n        }\r\n        break;\r\n      case 'CANCELED':\r\n      case '':\r\n        break;\r\n      case 'FAIL':\r\n        if (\r\n          command === 'create_proposal' ||\r\n          command === 'accept_proposal' ||\r\n          command === 'release_contract' ||\r\n          command === 'request_cancel_contract' ||\r\n          command === 'accept_cancel_contract'\r\n        ) {\r\n          error_translate = ' ';\r\n        }\r\n        break;\r\n      case 'ALREADY_EXISTS':\r\n        error_translate = 'ERRORS.FILE_EXIST';\r\n        break;\r\n      case 'FAILED':\r\n        BackendService.Debug(0, `Error: (${ error }) was triggered by command: ${ command }`);\r\n        break;\r\n      default:\r\n        error_translate = '';\r\n    }\r\n    if (error.indexOf('FAIL:failed to save file') > -1) {\r\n      error_translate = 'ERRORS.FILE_NOT_SAVED';\r\n    }\r\n    if (error.indexOf('FAILED:failed to open binary wallet file for saving') > -1 && command === 'generate_wallet') {\r\n      error_translate = '';\r\n    }\r\n\r\n    if (error_translate !== '') {\r\n      this.modalService.prepareModal('error', error_translate);\r\n    }\r\n  }\r\n\r\n  private commandDebug(command, params, result) {\r\n    BackendService.Debug(2, '----------------- ' + command + ' -----------------');\r\n    const debug = {\r\n      _send_params: params,\r\n      _result: result\r\n    };\r\n    BackendService.Debug(2, debug);\r\n    try {\r\n      BackendService.Debug(2, JSONBigNumber.parse(result, BackendService.bigNumberParser));\r\n    } catch ( e ) {\r\n      BackendService.Debug(2, { response_data: result, error_code: 'OK' });\r\n    }\r\n  }\r\n\r\n  private backendCallback(resultStr, params, callback, command) {\r\n    let Result = resultStr;\r\n    if (command !== 'get_clipboard') {\r\n      if (!resultStr || resultStr === '') {\r\n        Result = {};\r\n      } else {\r\n        try {\r\n          Result = JSONBigNumber.parse(resultStr, BackendService.bigNumberParser);\r\n        } catch ( e ) {\r\n          Result = { response_data: resultStr, error_code: 'OK' };\r\n        }\r\n      }\r\n    } else {\r\n      Result = {\r\n        error_code: 'OK',\r\n        response_data: Result\r\n      };\r\n    }\r\n\r\n    const core_busy = Result.error_code === 'CORE_BUSY';\r\n    const Status = (Result.error_code === 'OK' || Result.error_code === 'TRUE');\r\n\r\n    if (!Status && Status !== undefined && Result.error_code !== undefined) {\r\n      BackendService.Debug(1, 'API error for command: \"' + command + '\". Error code: ' + Result.error_code);\r\n    }\r\n    const data = ((typeof Result === 'object') && 'response_data' in Result) ? Result.response_data : Result;\r\n\r\n    let res_error_code = false;\r\n    if (\r\n      typeof Result === 'object' &&\r\n      'error_code' in Result && Result.error_code !== 'OK' &&\r\n      Result.error_code !== 'TRUE' &&\r\n      Result.error_code !== 'FALSE' &&\r\n      Result.error_code !== 'WRAP'\r\n    ) {\r\n      if (core_busy) {\r\n        setTimeout(() => {\r\n          // this is will avoid update data when user\r\n          // on other wallet after CORE_BUSY (blink of data)\r\n          if (command !== 'get_recent_transfers') {\r\n            this.runCommand(command, params, callback);\r\n          } else {\r\n            const current_wallet_id = this.variablesService.currentWallet.wallet_id;\r\n            if (current_wallet_id === params.wallet_id) {\r\n              this.runCommand(command, params, callback);\r\n            }\r\n          }\r\n        }, 50);\r\n      } else {\r\n        this.informerRun(Result.error_code, params, command);\r\n        res_error_code = Result.error_code;\r\n      }\r\n    }\r\n\r\n    // if ( command === 'get_offers_ex' ){\r\n    //   Service.printLog( \"get_offers_ex offers count \"+((data.offers)?data.offers.length:0) );\r\n    // }\r\n\r\n    if (!core_busy) {\r\n      if (typeof callback === 'function') {\r\n        callback(Status, data, res_error_code);\r\n      } else {\r\n        return data;\r\n      }\r\n    }\r\n  }\r\n\r\n  private runCommand(command, params?: Params, callback?) {\r\n    if (!this.backendObject) {\r\n      return;\r\n    }\r\n\r\n    if (command === 'get_recent_transfers') {\r\n      this.variablesService.get_recent_transfers = true;\r\n    }\r\n\r\n    const Action = this.backendObject[command];\r\n\r\n    if (!Action) {\r\n      BackendService.Debug(0, 'Run Command Error! Command \"' + command + '\" don\\'t found in backendObject');\r\n      return;\r\n    }\r\n\r\n    const that = this;\r\n    const type: ParamsType = getParamsType(params);\r\n    params = params && convertorParams(params);\r\n\r\n    if (type === ParamsType.array) {\r\n      Action(...(params as string[]), function (resultStr) {\r\n        that.commandDebug(command, params, resultStr);\r\n        return that.backendCallback(resultStr, params, callback, command);\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (command === 'get_recent_transfers') {\r\n      this.variablesService.get_recent_transfers = false;\r\n    }\r\n    Action(params, function (resultStr) {\r\n      that.commandDebug(command, params, resultStr);\r\n      return that.backendCallback(resultStr, params, callback, command);\r\n    });\r\n  }\r\n}\r\n\r\n\r\n/*\r\n\r\n      toggleAutoStart: function (value) {\r\n        return this.runCommand('toggle_autostart', asVal(value));\r\n      },\r\n\r\n      getOptions: function (callback) {\r\n        return this.runCommand('get_options', {}, callback);\r\n      },\r\n\r\n      isFileExist: function (path, callback) {\r\n        return this.runCommand('is_file_exist', path, callback);\r\n      },\r\n\r\n      isAutoStartEnabled: function (callback) {\r\n        this.runCommand('is_autostart_enabled', {}, function (status, data) {\r\n          if (angular.isFunction(callback)) {\r\n            callback('error_code' in data && data.error_code !== 'FALSE')\r\n          }\r\n        });\r\n      },\r\n\r\n      resetWalletPass: function (wallet_id, pass, callback) {\r\n        this.runCommand('reset_wallet_password', {wallet_id: wallet_id, pass: pass}, callback);\r\n      },\r\n\r\n\r\n\r\n      getOsVersion: function (callback) {\r\n        this.runCommand('get_os_version', {}, function (status, version) {\r\n          callback(version)\r\n        })\r\n      },\r\n\r\n      getLogFile: function (callback) {\r\n        this.runCommand('get_log_file', {}, function (status, version) {\r\n          callback(version)\r\n        })\r\n      },\r\n\r\n      resync_wallet: function (wallet_id, callback) {\r\n        this.runCommand('resync_wallet', {wallet_id: wallet_id}, callback);\r\n      },\r\n\r\n      storeFile: function (path, buff, callback) {\r\n        this.backendObject['store_to_file'](path, (typeof buff === 'string' ? buff : JSON.stringify(buff)), function (data) {\r\n          backendCallback(data, {}, callback, 'store_to_file');\r\n        });\r\n      },\r\n\r\n      getMiningEstimate: function (amount_coins, time, callback) {\r\n        var params = {\r\n          \"amount_coins\": $filter('money_to_int')(amount_coins),\r\n          \"time\": parseInt(time)\r\n        };\r\n        this.runCommand('get_mining_estimate', params, callback);\r\n      },\r\n\r\n      backupWalletKeys: function (wallet_id, path, callback) {\r\n        var params = {\r\n          \"wallet_id\": wallet_id,\r\n          \"path\": path\r\n        };\r\n        this.runCommand('backup_wallet_keys', params, callback);\r\n      },\r\n\r\n      setBlockedIcon: function (enabled, callback) {\r\n        var mode = (enabled) ? \"blocked\" : \"normal\";\r\n        Service.runCommand('bool_toggle_icon', mode, callback);\r\n      },\r\n\r\n      getWalletInfo: function (wallet_id, callback) {\r\n        this.runCommand('get_wallet_info', {wallet_id: wallet_id}, callback);\r\n      },\r\n\r\n      printText: function (content) {\r\n        return this.runCommand('print_text', {html_text: content});\r\n      },\r\n\r\n      printLog: function (msg, log_level) {\r\n        return this.runCommand('print_log', {msg: msg, log_level: log_level});\r\n      },\r\n\r\n*/\r\n\r\n","import { ApplicationRef, ComponentFactoryResolver, EmbeddedViewRef, Injectable, Injector, NgZone } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ModalContainerComponent } from '../modals/modal-container/modal-container.component';\r\n\r\n@Injectable()\r\nexport class ModalService {\r\n\r\n  private components: any[] = [];\r\n\r\n  constructor(\r\n    private componentFactoryResolver: ComponentFactoryResolver,\r\n    private appRef: ApplicationRef,\r\n    private injector: Injector,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  prepareModal(type, message) {\r\n    const length = this.components.push(\r\n      this.componentFactoryResolver.resolveComponentFactory(ModalContainerComponent).create(this.injector)\r\n    );\r\n\r\n    this.components[length - 1].instance['type'] = type;\r\n    this.components[length - 1].instance['message'] = message.length ? this.translate.instant(message) : '';\r\n    this.components[length - 1].instance['close'].subscribe(() => {\r\n      this.removeModal(length - 1);\r\n    });\r\n\r\n    this.ngZone.run(() => {\r\n      this.appendModal(length - 1);\r\n    });\r\n  }\r\n\r\n  appendModal(index) {\r\n    setTimeout(() => {\r\n      this.appRef.attachView(this.components[index].hostView);\r\n      const domElem = (this.components[index].hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\r\n      document.body.appendChild(domElem);\r\n    });\r\n  }\r\n\r\n  removeModal(index) {\r\n    if (this.components[index]) {\r\n      this.appRef.detachView(this.components[index].hostView);\r\n      this.components[index].destroy();\r\n      this.components.splice(index, 1);\r\n    } else {\r\n      const last = this.components.length - 1;\r\n      this.appRef.detachView(this.components[last].hostView);\r\n      this.components[last].destroy();\r\n      this.components.splice(last, 1);\r\n    }\r\n  }\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { VariablesService } from './variables.service';\r\nimport { PaginationStore } from './pagination.store';\r\nimport * as _ from 'lodash';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class PaginationService {\r\n\r\n  constructor(\r\n    private variables: VariablesService,\r\n    private ngZone: NgZone,\r\n    private paginationStore: PaginationStore,\r\n  ) {\r\n  }\r\n\r\n  paginate(currentPage = 1) {\r\n    if (currentPage < 1) {\r\n      currentPage = 1;\r\n    } else if (currentPage > this.variables.currentWallet.totalPages) {\r\n      currentPage = this.variables.currentWallet.totalPages;\r\n    }\r\n    let startPage: number, endPage: number;\r\n    if (this.variables.currentWallet.totalPages <= this.variables.maxPages) {\r\n      startPage = 1;\r\n      endPage = this.variables.currentWallet.totalPages;\r\n    } else {\r\n      const maxPagesBeforeCurrentPage = Math.floor(this.variables.maxPages / 2);\r\n      const maxPagesAfterCurrentPage = Math.ceil(this.variables.maxPages / 2) - 1;\r\n      if (currentPage <= maxPagesBeforeCurrentPage) {\r\n        startPage = 1;\r\n        this.variables.currentWallet.totalPages > this.variables.maxPages\r\n          ? endPage = this.variables.maxPages\r\n          : endPage = this.variables.currentWallet.totalPages\r\n        ;\r\n      } else if (currentPage + maxPagesAfterCurrentPage >= this.variables.currentWallet.totalPages) {\r\n        startPage = this.variables.currentWallet.totalPages - this.variables.maxPages + 1;\r\n        endPage = this.variables.currentWallet.totalPages;\r\n      } else {\r\n        startPage = currentPage - maxPagesBeforeCurrentPage;\r\n        endPage = currentPage + maxPagesAfterCurrentPage;\r\n      }\r\n    }\r\n    this.ngZone.run(() => {\r\n      this.variables.currentWallet.pages = Array.from(Array((endPage + 1) - startPage).keys()).map(i => startPage + i);\r\n    });\r\n  }\r\n\r\n  getOffset(walletID) {\r\n    const mining = this.variables.currentWallet.exclude_mining_txs;\r\n    const currentPage = (this.variables.currentWallet.currentPage);\r\n    let offset = ((currentPage - 1) * this.variables.count);\r\n    if (!mining) {\r\n      return offset || 0;\r\n    }\r\n    const value = this.paginationStore.value;\r\n    const pages = value.filter(item => item.walletID === walletID);\r\n    if (pages && pages.length) {\r\n      const max = _.maxBy(pages, 'page');\r\n      const isForward = this.paginationStore.isForward(pages, currentPage);\r\n      if (isForward) {\r\n        offset = max.offset || 0;\r\n      } else {\r\n        const index = pages.findIndex(item => item.page === (currentPage));\r\n        offset = pages[index].offset || 0;\r\n      }\r\n    }\r\n    return offset;\r\n  }\r\n\r\n  calcPages(data) {\r\n    if (data.total_history_items && (data && data.history)) {\r\n      this.variables.currentWallet.totalPages = Math.ceil(data.total_history_items / this.variables.count);\r\n      this.variables.currentWallet.totalPages > this.variables.maxPages\r\n        ? this.variables.currentWallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n        : this.variables.currentWallet.pages =\r\n          new Array(this.variables.currentWallet.totalPages).fill(1).map((value, index) => value + index);\r\n    } else if (this.variables.currentWallet.restore) {\r\n      this.variables.currentWallet.totalPages = Math.ceil(data.history.length / this.variables.count);\r\n      this.variables.currentWallet.totalPages > this.variables.maxPages\r\n        ? this.variables.currentWallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n        : this.variables.currentWallet.pages =\r\n          new Array(this.variables.currentWallet.totalPages).fill(1).map((value, index) => value + index);\r\n    }\r\n  }\r\n\r\n  prepareHistory(data, status) {\r\n    if (status && (data && data.total_history_items)) {\r\n      this.variables.currentWallet.history.splice(0, this.variables.currentWallet.history.length);\r\n      this.ngZone.run(() => {\r\n        this.paginate(this.variables.currentWallet.currentPage);\r\n        if (data.history.length !== 0) {\r\n          this.variables.currentWallet.restore = false;\r\n          this.variables.currentWallet.total_history_item = data.total_history_items;\r\n          this.variables.currentWallet.prepareHistory(data.history);\r\n          if (this.variables.currentWallet.currentPage === 1 && data.unconfirmed) {\r\n            this.variables.currentWallet.prepareHistory(data.unconfirmed);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport * as _ from 'lodash';\r\n\r\nexport interface Pages {\r\n  page: number;\r\n  offset: number;\r\n  walletID: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PaginationStore {\r\n  private subject = new BehaviorSubject<Pages[] | null>(null);\r\n\r\n  get value(): Pages[] | null {\r\n    return this.subject.value;\r\n  }\r\n\r\n  isForward(pages, currentPage): boolean {\r\n    const max = _.maxBy(pages, 'page');\r\n    return !max || max.page < currentPage || max.page === currentPage;\r\n  }\r\n\r\n  setPage(pageNumber: number, offset: number, walletID: number): void {\r\n    let newPages: Pages[] = [];\r\n    const pages = this.subject.getValue();\r\n    if (pages && pages.length) {\r\n      newPages = pages.slice(0);\r\n    }\r\n    newPages.push({ page: pageNumber, offset, walletID });\r\n    this.subject.next(newPages);\r\n  }\r\n\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { DeeplinkParams, Wallet } from '../models/wallet.model';\r\nimport { Contact } from '../models/contact.model';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Idle } from 'idlejs/dist';\r\nimport { Router } from '@angular/router';\r\nimport { ContextMenuComponent, ContextMenuService } from 'ngx-contextmenu';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VariablesService {\r\n  disable_price_fetch$ = new BehaviorSubject<boolean>(false);\r\n\r\n  use_debug_mode$ = new BehaviorSubject<boolean>(false);\r\n\r\n  request_on_in = {};\r\n\r\n  stop_paginate = {};\r\n\r\n  sync_started = false;\r\n\r\n  digits = 12;\r\n\r\n  appPass = '';\r\n\r\n  appLogin = false;\r\n\r\n  moneyEquivalent = 0;\r\n\r\n  moneyEquivalentPercent = 0;\r\n\r\n  defaultCurrency = 'ZANO';\r\n\r\n  opening_wallet: Wallet;\r\n\r\n  exp_med_ts = 0;\r\n\r\n  net_time_delta_median = 0;\r\n\r\n  height_app = 0;\r\n\r\n  height_max = 0;\r\n\r\n  downloaded = 0;\r\n\r\n  total = 0;\r\n\r\n  last_build_available = '';\r\n\r\n  last_build_displaymode = 0;\r\n\r\n  daemon_state = 3;\r\n\r\n  deeplink$ = new BehaviorSubject<string | null>(null);\r\n\r\n  sendActionData$ = new BehaviorSubject<DeeplinkParams>({});\r\n\r\n  sync = {\r\n    progress_value: 0,\r\n    progress_value_text: '0'\r\n  };\r\n\r\n  download = {\r\n    progress_value: 0,\r\n    progress_value_text: '0'\r\n  };\r\n\r\n  get_recent_transfers = false; // avoid of execute function before callback complete\r\n\r\n  default_fee = '0.010000000000';\r\n\r\n  default_fee_big = new BigNumber('10000000000');\r\n\r\n  settings = {\r\n    appLockTime: 15,\r\n    appLog: 0,\r\n    scale: '10px',\r\n    appUseTor: true,\r\n    language: 'en',\r\n    default_path: '/',\r\n    viewedContracts: [],\r\n    notViewedContracts: [],\r\n    wallets: []\r\n  };\r\n\r\n  count = 40;\r\n\r\n  maxPages = 5;\r\n\r\n  testnet = false;\r\n\r\n  networkType = ''; // testnet of mainnet\r\n\r\n  wallets: Array<Wallet> = [];\r\n\r\n  currentWallet: Wallet;\r\n\r\n  selectWallet: number;\r\n\r\n  aliases: any = [];\r\n\r\n  aliasesChecked: any = {};\r\n\r\n  enableAliasSearch = false;\r\n\r\n  maxWalletNameLength = 25;\r\n\r\n  maxCommentLength = 255;\r\n\r\n  dataIsLoaded = false;\r\n\r\n  contacts: Array<Contact> = [];\r\n\r\n  newContact: Contact = { name: null, address: null, notes: null };\r\n\r\n  pattern = '^[a-zA-Z0-9_.\\\\\\]\\*\\|\\~\\!\\?\\@\\#\\$\\%\\^\\&\\+\\{\\}\\(\\)\\<\\>\\:\\;\\\"\\'\\-\\=\\/\\,\\[\\\\\\\\]*$';\r\n\r\n  after_sync_request: any = {};\r\n\r\n  getExpMedTsEvent = new BehaviorSubject(null);\r\n\r\n  getHeightAppEvent = new BehaviorSubject(null);\r\n\r\n  getHeightMaxEvent = new BehaviorSubject(null);\r\n\r\n  getDownloadedAppEvent = new BehaviorSubject(null);\r\n\r\n  getTotalEvent = new BehaviorSubject(null);\r\n\r\n  getRefreshStackingEvent = new BehaviorSubject(null);\r\n\r\n  getAliasChangedEvent = new BehaviorSubject(null);\r\n\r\n  getWalletChangedEvent = new BehaviorSubject(null);\r\n\r\n  idle = new Idle()\r\n    .whenNotInteractive()\r\n    .do(() => {\r\n      if (this.appPass === '') {\r\n        this.restartCountdown();\r\n      } else {\r\n        this.ngZone.run(() => {\r\n          this.idle.stop();\r\n          this.appPass = '';\r\n          this.appLogin = false;\r\n          this.router.navigate(['/login'], { queryParams: { type: 'auth' } });\r\n        });\r\n      }\r\n    });\r\n\r\n  allContextMenu: ContextMenuComponent;\r\n\r\n  onlyCopyContextMenu: ContextMenuComponent;\r\n\r\n  pasteSelectContextMenu: ContextMenuComponent;\r\n\r\n  constructor(private router: Router, private ngZone: NgZone, private contextMenuService: ContextMenuService) {\r\n  }\r\n\r\n  setExpMedTs(timestamp: number): void {\r\n    if (timestamp !== this.exp_med_ts) {\r\n      this.exp_med_ts = timestamp;\r\n      this.getExpMedTsEvent.next(timestamp);\r\n    }\r\n  }\r\n\r\n  setHeightApp(height: number): void {\r\n    if (height !== this.height_app) {\r\n      this.height_app = height;\r\n      this.getHeightAppEvent.next(height);\r\n    }\r\n  }\r\n\r\n  setHeightMax(height: number): void {\r\n    if (height !== this.height_max) {\r\n      this.height_max = height;\r\n      this.getHeightMaxEvent.next(height);\r\n    }\r\n  }\r\n\r\n  setDownloadedBytes(bytes: number): void {\r\n    if (bytes !== this.downloaded) {\r\n      this.downloaded = this.bytesToMb(bytes);\r\n      this.getDownloadedAppEvent.next(bytes);\r\n    }\r\n  }\r\n\r\n  setTotalBytes(bytes: number): void {\r\n    if (bytes !== this.total) {\r\n      this.total = this.bytesToMb(bytes);\r\n      this.getTotalEvent.next(bytes);\r\n    }\r\n  }\r\n\r\n  setRefreshStacking(wallet_id: number): void {\r\n    this.getHeightAppEvent.next(wallet_id);\r\n  }\r\n\r\n  changeAliases(): void {\r\n    this.getAliasChangedEvent.next(true);\r\n  }\r\n\r\n  setCurrentWallet(id): void {\r\n    this.wallets.forEach((wallet) => {\r\n      if (wallet.wallet_id === id) {\r\n        this.currentWallet = wallet;\r\n        this.getWalletChangedEvent.next(wallet);\r\n      }\r\n    });\r\n  }\r\n\r\n  getWallet(id): Wallet | null {\r\n    for (let i = 0; i < this.wallets.length; i++) {\r\n      if (this.wallets[i].wallet_id === id) {\r\n        return this.wallets[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getNotLoadedWallet(): Wallet | null {\r\n    for (let i = 0; i < this.wallets.length; i++) {\r\n      if (!this.wallets[i].loaded) {\r\n        return this.wallets[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  startCountdown(): void {\r\n    this.idle.within(this.settings.appLockTime).start();\r\n  }\r\n\r\n  stopCountdown(): void {\r\n    this.idle.stop();\r\n  }\r\n\r\n  restartCountdown(): void {\r\n    this.idle.within(this.settings.appLockTime).restart();\r\n  }\r\n\r\n  bytesToMb(bytes): number {\r\n    return Number((bytes / Math.pow(1024, 2)).toFixed(1));\r\n  }\r\n\r\n  onContextMenu($event: MouseEvent): void {\r\n    $event.target['contextSelectionStart'] = $event.target['selectionStart'];\r\n    $event.target['contextSelectionEnd'] = $event.target['selectionEnd'];\r\n    if ($event.target && ($event.target['nodeName'].toUpperCase() === 'TEXTAREA' || $event.target['nodeName'].toUpperCase() === 'INPUT') && !$event.target['readOnly']) {\r\n      this.contextMenuService.show.next({\r\n        contextMenu: this.allContextMenu,\r\n        event: $event,\r\n        item: $event.target,\r\n      });\r\n      $event.preventDefault();\r\n      $event.stopPropagation();\r\n    }\r\n  }\r\n\r\n  onContextMenuOnlyCopy($event: MouseEvent, copyText?: string): void {\r\n    $event.preventDefault();\r\n    $event.stopPropagation();\r\n    this.contextMenuService.show.next({\r\n      contextMenu: this.onlyCopyContextMenu,\r\n      event: $event,\r\n      item: copyText\r\n    });\r\n  }\r\n\r\n  onContextMenuPasteSelect($event: MouseEvent): void {\r\n    $event.target['contextSelectionStart'] = $event.target['selectionStart'];\r\n    $event.target['contextSelectionEnd'] = $event.target['selectionEnd'];\r\n\r\n    console.warn($event.target);\r\n    console.warn($event.target['disabled']);\r\n\r\n\r\n    if ($event.target && ($event.target['nodeName'].toUpperCase() === 'TEXTAREA' || $event.target['nodeName'].toUpperCase() === 'INPUT') && !$event.target['readOnly']) {\r\n      this.contextMenuService.show.next({\r\n        contextMenu: this.pasteSelectContextMenu,\r\n        event: $event,\r\n        item: $event.target,\r\n      });\r\n      $event.preventDefault();\r\n      $event.stopPropagation();\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-card-token',\r\n  templateUrl: './card-token.component.html',\r\n  styleUrls: ['./card-token.component.scss']\r\n})\r\nexport class CardTokenComponent implements OnInit {\r\n  openDropdown = false;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  toggleMenuDropdown(): void {\r\n    this.openDropdown = !this.openDropdown;\r\n  }\r\n}\r\n","<div class=\"card-token\">\r\n\t<div class=\"card-token-logo mr-1\">\r\n\t\t<img alt=\"#\" defaultImgAlt=\"currency\" defaultImgSrc=\"assets/icons/currency-icons/custom_token.svg\" src=\"#\"\r\n\t\t\t\t zanoDefaultImg>\r\n\t</div>\r\n\t<div class=\"card-token-body\">\r\n\t\t<h4 class=\"title\">Wrapped Ethereum</h4>\r\n\t\t<p class=\"sub-title\">3 WETH</p>\r\n\t</div>\r\n\t<div class=\"card-token-action ml-1\">\r\n\t\t<button #trigger=\"cdkOverlayOrigin\"\r\n\t\t\t\t\t\t(click)=\"$event.stopPropagation(); toggleMenuDropdown()\"\r\n\t\t\t\t\t\t[disabled]=\"false\"\r\n\t\t\t\t\t\tcdkOverlayOrigin\r\n\t\t\t\t\t\tclass=\"btn-icon circle small\"\r\n\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t<i class=\"icon dots rotate-90\"></i>\r\n\t\t</button>\r\n\r\n\t\t<ng-template\r\n\t\t\t(backdropClick)=\"$event.stopPropagation(); (openDropdown = false)\"\r\n\t\t\t[cdkConnectedOverlayBackdropClass]=\"'opacity-0'\"\r\n\t\t\t[cdkConnectedOverlayHasBackdrop]=\"true\"\r\n\t\t\t[cdkConnectedOverlayOpen]=\"openDropdown\"\r\n\t\t\t[cdkConnectedOverlayOrigin]=\"trigger\"\r\n\t\t\t[cdkConnectedOverlayPositions]=\"[{\r\n\t\t\t\toriginX: 'end',\r\n\t\t\t\toriginY: 'top',\r\n\t\t\t\toverlayX: 'end',\r\n\t\t\t\toverlayY: 'top',\r\n\t\t\t\toffsetY: 60\r\n\t\t\t}]\"\r\n\t\t\tcdkConnectedOverlay\r\n\t\t>\r\n\t\t\t<ul (click)=\"openDropdown = false\" class=\"list\">\r\n\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t<button [disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<i class=\"icon temp mr-1\"></i>\r\n\t\t\t\t\t\t<span>{{ 'Link 1' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t<button [disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<i class=\"icon temp mr-1\"></i>\r\n\t\t\t\t\t\t<span>{{ 'Link 2' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t<button [disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<i class=\"icon temp mr-1\"></i>\r\n\t\t\t\t\t\t<span>{{ 'Link 3' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t<button [disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<i class=\"icon delete mr-1\"></i>\r\n\t\t\t\t\t\t<span>{{ 'Remove from list' | translate }}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</ng-template>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CardTokenComponent } from './card-token.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { TooltipModule } from '../../../_helpers/directives/tooltip/tooltip.module';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { DefaultImgModule } from '../../directives/default-img';\r\n\r\n@NgModule({\r\n  declarations: [CardTokenComponent],\r\n  exports: [CardTokenComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    TooltipModule,\r\n    OverlayModule,\r\n    DefaultImgModule\r\n  ]\r\n})\r\nexport class CardTokenModule {\r\n}\r\n","import { Component, EventEmitter, forwardRef, Input, OnInit, Output } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-checkbox',\r\n  templateUrl: './checkbox.component.html',\r\n  styleUrls: ['./checkbox.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CheckboxComponent),\r\n      multi: true\r\n    },\r\n  ]\r\n})\r\nexport class CheckboxComponent implements OnInit, ControlValueAccessor {\r\n  @Input() value = false;\r\n\r\n  @Input() label = '';\r\n\r\n  @Input() id = 'id-' + Math.random();\r\n\r\n  @Input() disabled = false;\r\n\r\n  @Input() readonly = false;\r\n\r\n  @Output() emitChange = new EventEmitter<boolean>();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  onChange = (_: boolean) => {\r\n  }\r\n\r\n  onTouched = () => {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  handlerChange({ target }: Event) {\r\n    const { checked } = target as HTMLInputElement;\r\n    this.value = checked;\r\n    this.emitChange.emit(checked);\r\n    this.onChange(checked);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  writeValue(value: boolean): void {\r\n    this.value = value;\r\n  }\r\n\r\n}\r\n","<div class=\"checkbox\">\r\n\t<input (change)=\"handlerChange($event)\"\r\n\t\t\t\t [checked]=\"value\"\r\n\t\t\t\t [disabled]=\"disabled\"\r\n\t\t\t\t [id]=\"id\"\r\n\t\t\t\t [readonly]=\"readonly\"\r\n\t\t\t\t type=\"checkbox\">\r\n\t<label [for]=\"id\">{{ label }}</label>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CheckboxComponent } from './checkbox.component';\r\n\r\n@NgModule({\r\n  declarations: [CheckboxComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [CheckboxComponent]\r\n})\r\nexport class CheckboxModule {\r\n}\r\n","import { Component, Input } from '@angular/core';\nimport { BackendService } from '../../../_helpers/services/backend.service';\nimport { VariablesService } from '../../../_helpers/services/variables.service';\n\n@Component({\n  selector: 'app-copy-button',\n  templateUrl: './copy-button.component.html',\n  styleUrls: ['./copy-button.component.scss']\n})\nexport class CopyButtonComponent {\n  @Input() value: string;\n\n  @Input() size: 'small' | 'big' = 'small';\n\n  copyAnimation = false;\n\n  copyAnimationTimeout;\n\n  constructor(\n    private backend: BackendService,\n    public variablesService: VariablesService\n  ) {\n  }\n\n  copy(): void {\n    this.backend.setClipboard(this.value || '');\n    this.copyAnimation = true;\n    this.copyAnimationTimeout = window.setTimeout(() => {\n      this.copyAnimation = false;\n      clearTimeout(this.copyAnimationTimeout);\n    }, 2000);\n  }\n}\n","<button (click)=\"copy()\"\n\t\t\t\t[classList]=\"'btn-icon circle' + ' ' + size\">\n\t<i [class.check]=\"copyAnimation\"\n\t\t [class.copy]=\"!copyAnimation\"\n\t\t class=\"icon small\"></i>\n</button>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CopyButtonComponent } from './copy-button.component';\n\n@NgModule({\n  declarations: [CopyButtonComponent],\n  exports: [CopyButtonComponent],\n  imports: [\n    CommonModule\n  ]\n})\nexport class CopyButtonModule {\n}\n","export * from './switch/switch.module';\r\nexport * from './checkbox/checkbox.module';\r\n","import { AfterContentChecked, AfterContentInit, Component, ElementRef, HostListener, Input, ViewChild } from '@angular/core';\r\n\r\nconst activeClass = 'scroll-item-active';\r\n\r\nconst scrollIntoViewOptions: ScrollIntoViewOptions = { behavior: 'smooth', inline: 'start' };\r\n\r\nenum Direction {\r\n  left = 'left',\r\n  right = 'right'\r\n}\r\n\r\n@Component({\r\n  selector: 'app-scroll-x',\r\n  templateUrl: './scroll-x.component.html',\r\n  styleUrls: ['./scroll-x.component.scss']\r\n})\r\nexport class ScrollXComponent implements AfterContentInit, AfterContentChecked {\r\n  @ViewChild('scrollMenu', { static: true }) scrollMenu: ElementRef;\r\n\r\n  @ViewChild('scrollContent', { static: true }) scrollContent: ElementRef;\r\n\r\n  @Input() scrollToFixDistance = false;\r\n\r\n  @Input() scrollDistance = 300;\r\n\r\n  @Input() hideScroll = false;\r\n\r\n  Direction = Direction;\r\n\r\n  rightDisabled = true;\r\n\r\n  leftDisabled = true;\r\n\r\n  scrollSmooth = true;\r\n\r\n  private scrollByButton = false;\r\n\r\n  private timer;\r\n\r\n  private children: HTMLElement[] = [];\r\n\r\n  private mouseDown = false;\r\n\r\n  private startX: any;\r\n\r\n  private scrollLeft: any;\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(): void {\r\n    this.checkScroll();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.checkScroll();\r\n    this.updateChildren();\r\n    const first = this.children[0];\r\n    if (first) {\r\n      first.classList.add(activeClass);\r\n    }\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    this.checkScroll();\r\n    this.updateChildren();\r\n  }\r\n\r\n  actionScroll(direction: Direction): void {\r\n    if (!this.scrollToFixDistance) {\r\n      this.scrollByButton = true;\r\n      this.getElToScroll(direction).scrollIntoView(scrollIntoViewOptions);\r\n    } else {\r\n      if (direction === Direction.left) {\r\n        this.scrollMenu.nativeElement.scrollLeft -= this.scrollDistance;\r\n      } else {\r\n        this.scrollMenu.nativeElement.scrollLeft += this.scrollDistance;\r\n      }\r\n    }\r\n    this.checkScroll();\r\n  }\r\n\r\n  onScroll(): void {\r\n    this.checkScroll();\r\n    if (this.scrollByButton) {\r\n      clearTimeout(this.timer);\r\n      this.timer = setTimeout(() => this.onScrollStop(), 150);\r\n    } else {\r\n      this.updateActiveClass();\r\n    }\r\n  }\r\n\r\n  onScrollStop(): void {\r\n    this.scrollByButton = false;\r\n  }\r\n\r\n  checkScroll(): void {\r\n    this.scrollMenu.nativeElement.scrollLeft === 0 ? this.leftDisabled = true : this.leftDisabled = false;\r\n\r\n    const newScrollLeft = this.scrollMenu.nativeElement.scrollLeft;\r\n    const width = this.scrollMenu.nativeElement.clientWidth;\r\n    const scrollWidth = this.scrollMenu.nativeElement.scrollWidth;\r\n    scrollWidth - (newScrollLeft + width) < 20 ? this.rightDisabled = true : this.rightDisabled = false;\r\n  }\r\n\r\n  startDragging(e): void {\r\n    this.scrollSmooth = false;\r\n    this.mouseDown = true;\r\n    this.startX = e.pageX - this.scrollMenu.nativeElement.offsetLeft;\r\n    this.scrollLeft = this.scrollMenu.nativeElement.scrollLeft;\r\n  }\r\n\r\n  stopDragging(): void {\r\n    this.scrollSmooth = true;\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  mouseMove(e): void {\r\n    if (!e || !this.mouseDown) {\r\n      return;\r\n    }\r\n    const x = e.pageX - this.scrollMenu.nativeElement.offsetLeft;\r\n    const scroll = x - this.startX;\r\n    this.scrollMenu.nativeElement.scrollLeft = this.scrollLeft - scroll;\r\n  }\r\n\r\n  private updateChildren(): HTMLElement[] {\r\n    this.children = Array.from(this.scrollContent.nativeElement.children);\r\n    return this.children;\r\n  }\r\n\r\n  private updateActiveClass(): void {\r\n    const scrollLeft = this.scrollMenu.nativeElement.scrollLeft;\r\n    const nextActiveIndex = this.children.findIndex(({ offsetLeft, offsetWidth }) => {\r\n      return (offsetLeft >= scrollLeft) && (scrollLeft <= offsetLeft + offsetWidth);\r\n    });\r\n\r\n    if (nextActiveIndex >= 0) {\r\n      const activeItem = this.children.find((el) => el.classList.contains(activeClass));\r\n      if (activeItem) {\r\n        activeItem.classList.remove(activeClass);\r\n      }\r\n      const nextActiveItem = this.children[nextActiveIndex];\r\n      if (nextActiveItem) {\r\n        nextActiveItem.classList.add(activeClass);\r\n      }\r\n    }\r\n  }\r\n\r\n  private getElToScroll(direction: Direction): HTMLElement {\r\n    const minPosition = 0;\r\n    const maxPosition = this.children.length - 1 || minPosition;\r\n    const currentPosition = this.children.findIndex((el) => el.classList.contains(activeClass));\r\n    const calcNewPosition = currentPosition + (direction === Direction.right ? 1 : -1);\r\n    const nextPosition = calcNewPosition >= minPosition && calcNewPosition <= maxPosition ? calcNewPosition : direction === Direction.right ? maxPosition : minPosition;\r\n    this.children[currentPosition].classList.remove(activeClass);\r\n    const nextEl = this.children[nextPosition];\r\n    nextEl.classList.add(activeClass);\r\n    return nextEl;\r\n  }\r\n}\r\n","<div [class.visibility]=\"this.leftDisabled\" class=\"left\">\r\n\t<button (click)=\"$event.stopPropagation(); actionScroll(Direction.left)\" class=\"btn-left\">\r\n\t\t<i class=\"icon arrow-left-slider\"></i>\r\n\t</button>\r\n</div>\r\n<div #scrollMenu\r\n\t\t (mousedown)=\"$event.stopPropagation(); startDragging($event)\"\r\n\t\t (mouseleave)=\"$event.stopPropagation(); stopDragging()\"\r\n\t\t (mousemove)=\"$event.stopPropagation(); mouseMove($event)\"\r\n\t\t (mouseup)=\"$event.stopPropagation(); stopDragging()\"\r\n\t\t (scroll)=\"onScroll()\"\r\n\t\t [class.hide-scroll]=\"hideScroll\"\r\n\t\t [class.smooth]=\"scrollSmooth\"\r\n\t\t class=\"scroll hide-scroll\">\r\n\t<div #scrollContent class=\"scroll-content scroll-delay\">\r\n\t\t<ng-content></ng-content>\r\n\t</div>\r\n</div>\r\n<div [class.visibility]=\"this.rightDisabled\" class=\"right\">\r\n\t<button (click)=\"$event.stopPropagation(); actionScroll(Direction.right)\" class=\"btn-right\">\r\n\t\t<i class=\"icon arrow-right-slider\"></i>\r\n\t</button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ScrollXComponent } from './scroll-x.component';\r\n\r\n@NgModule({\r\n  declarations: [ScrollXComponent],\r\n  exports: [ScrollXComponent],\r\n  imports: [\r\n    CommonModule\r\n  ]\r\n})\r\nexport class ScrollXModule {\r\n}\r\n","import { Component, EventEmitter, forwardRef, Input, Output } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-switch',\r\n  templateUrl: './switch.component.html',\r\n  styleUrls: ['./switch.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => SwitchComponent),\r\n      multi: true\r\n    },\r\n  ]\r\n})\r\nexport class SwitchComponent implements ControlValueAccessor {\r\n  @Input() value = false;\r\n\r\n  @Input() disabled = false;\r\n\r\n  @Output() emitChange = new EventEmitter<boolean>();\r\n\r\n  onChange = (_: boolean) => {\r\n  }\r\n\r\n  onTouched = () => {\r\n  }\r\n\r\n  toggle(): void {\r\n    if (!this.disabled) {\r\n      this.value = !this.value;\r\n      this.emitChange.emit(this.value);\r\n      this.onChange(this.value);\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  writeValue(value: boolean): void {\r\n    this.value = value;\r\n  }\r\n}\r\n","<div (click)=\"toggle(); $event.stopPropagation()\"\r\n\t\t [class.disabled]=\"disabled\"\r\n\t\t [class.off]=\"!value\"\r\n\t\t [class.on]=\"value\"\r\n\t\t class=\"switch\">\r\n\t<span class=\"circle\"></span>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SwitchComponent } from './switch.component';\r\n\r\n@NgModule({\r\n  declarations: [SwitchComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [SwitchComponent]\r\n})\r\nexport class SwitchModule {\r\n}\r\n","export const MIXIN = 10; // default mixin value\r\nexport const RCV_ADDR_QR_SCALE = 1.5;  // scale factor for QR code\r\n\r\nexport const AUDITABLE_WALLET_HELP_PAGE = 'docs.zano.org/docs/auditable-wallets';\r\nexport const CREATE_NEW_WALLET_HELP_PAGE = 'docs.zano.org/docs/getting-started-1#section-create-new-wallet';\r\nexport const LOCKED_BALANCE_HELP_PAGE = 'docs.zano.org/docs/locked-balance';\r\nexport const DOWNLOADS_PAGE_URL = 'zano.org/downloads.html';\r\n\r\nexport const BLOCK_EXPLORER_TX_URL_PREFIX = 'explorer.zano.org/transaction/';\r\nexport const BLOCK_EXPLORER_TN_TX_URL_PREFIX = 'testnet-explorer.zano.org/transaction/';\r\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[zanoDefaultImg]',\r\n})\r\nexport class DefaultImgDirective {\r\n  @Input() defaultImgSrc!: string | null | undefined;\r\n  @Input() defaultImgAlt: string | null | undefined;\r\n\r\n  constructor(private elementRef: ElementRef) {\r\n  }\r\n\r\n  @HostListener('error')\r\n  handlerOnError(): void {\r\n    const elementImg: HTMLImageElement = <HTMLImageElement>(\r\n      this.elementRef.nativeElement\r\n    );\r\n    elementImg.onerror = null;\r\n    elementImg.src = this.defaultImgSrc || '---';\r\n    elementImg.alt = this.defaultImgAlt || '---';\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DefaultImgDirective } from './default-img.directive';\r\n\r\n@NgModule({\r\n  declarations: [DefaultImgDirective],\r\n  exports: [DefaultImgDirective],\r\n  imports: [CommonModule],\r\n})\r\nexport class DefaultImgModule {\r\n}\r\n","export * from './default-img.module';\r\n","import { Directive, OnDestroy, TemplateRef, ViewContainerRef } from '@angular/core';\r\nimport { VariablesService } from '../../../_helpers/services/variables.service';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[appDisablePriceFetch]'\r\n})\r\nexport class DisablePriceFetchDirective implements OnDestroy {\r\n\r\n  private destroy$: Subject<void> = new Subject<void>();\r\n\r\n  constructor(\r\n    private _variablesService: VariablesService,\r\n    private _templateRef: TemplateRef<any>,\r\n    private _viewContainer: ViewContainerRef\r\n  ) {\r\n    this._variablesService.disable_price_fetch$\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe((disable_price_fetch: boolean) => {\r\n        return !disable_price_fetch ? this._viewContainer.createEmbeddedView(this._templateRef) : this._viewContainer.clear();\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DisablePriceFetchDirective } from './disable-price-fetch.directive';\r\n\r\n@NgModule({\r\n  declarations: [DisablePriceFetchDirective],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [DisablePriceFetchDirective]\r\n})\r\nexport class DisablePriceFetchModule {\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IsAvailableAliasNamePipe } from './is-available-alias-name.pipe';\n\n@NgModule({\n  declarations: [IsAvailableAliasNamePipe],\n  exports: [\n    IsAvailableAliasNamePipe\n  ],\n  imports: [\n    CommonModule\n  ]\n})\nexport class IsAvailableAliasNamePipeModule {\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Alias } from '../../../_helpers/models/wallet.model';\n\n@Pipe({\n  name: 'isAvailableAliasName'\n})\nexport class IsAvailableAliasNamePipe implements PipeTransform {\n\n  transform(alias: Partial<Alias> | null | undefined): boolean {\n    return Boolean(alias) && Boolean(alias.name) && alias.name.length >= 2 && alias.name.length <= 6 || false;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ShortStringPipe } from './short-string.pipe';\n\n@NgModule({\n  declarations: [ShortStringPipe],\n  exports: [ShortStringPipe],\n  imports: [\n    CommonModule\n  ]\n})\nexport class ShortStringPipeModule {\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'zanoShortString'\n})\nexport class ShortStringPipe implements PipeTransform {\n  transform(value: string | null | undefined, left: number = 6, right: number = 6): string | null | undefined {\n    return value && `${ value.slice(0, left) }...${ value.slice(-right) }`;\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CheckboxModule, SwitchModule } from './components';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SwitchModule,\r\n    CheckboxModule\r\n  ],\r\n  exports: [\r\n    SwitchModule,\r\n    CheckboxModule\r\n  ]\r\n})\r\nexport class SharedModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Location } from '@angular/common';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-add-contacts',\r\n  templateUrl: './add-contacts.component.html',\r\n  styleUrls: ['./add-contacts.component.scss']\r\n})\r\nexport class AddContactsComponent implements OnInit, OnDestroy {\r\n  id: number;\r\n\r\n  queryRouting;\r\n\r\n  isModalDialogVisible;\r\n\r\n  addContactForm = new FormGroup({\r\n    address: new FormControl('', [\r\n      Validators.required,\r\n      (g: FormControl) => {\r\n        if (g.value) {\r\n          this.backend.validateAddress(g.value, valid_status => {\r\n            this.ngZone.run(() => {\r\n              if (valid_status === false) {\r\n                g.setErrors(\r\n                  Object.assign({ address_not_valid: true }, g.errors)\r\n                );\r\n              } else {\r\n                if (g.hasError('address_not_valid')) {\r\n                  delete g.errors['address_not_valid'];\r\n                  if (Object.keys(g.errors).length === 0) {\r\n                    g.setErrors(null);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n          return g.hasError('address_not_valid')\r\n            ? { address_not_valid: true }\r\n            : null;\r\n        }\r\n        return null;\r\n      },\r\n      (g: FormControl) => {\r\n        const isDublicated = this.variablesService.contacts.findIndex(\r\n          contact => contact.address === g.value\r\n        );\r\n        if (isDublicated !== -1 && !(this.id === isDublicated)) {\r\n          return { dublicated: true };\r\n        }\r\n        return null;\r\n      }\r\n    ]),\r\n    notes: new FormControl('', [\r\n      (g: FormControl) => {\r\n        if (g.value) {\r\n          if (g.value.length > this.variablesService.maxCommentLength) {\r\n            return { maxLength: true };\r\n          } else {\r\n            return null;\r\n          }\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    ]),\r\n    name: new FormControl('', [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(25),\r\n      (g: FormControl) => {\r\n        if (g.value) {\r\n          const isDublicated = this.variablesService.contacts.findIndex(\r\n            contact => contact.name === g.value.trim()\r\n          );\r\n          if (isDublicated !== -1 && !(this.id === isDublicated)) {\r\n            return { dublicated: true };\r\n          }\r\n          return null;\r\n        }\r\n      }\r\n    ])\r\n  });\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private location: Location\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.id) {\r\n        this.id = parseInt(params.id, 10);\r\n        this.addContactForm.reset({\r\n          name: this.variablesService.contacts[params.id]['name'],\r\n          address: this.variablesService.contacts[params.id]['address'],\r\n          notes: this.variablesService.contacts[params.id]['notes']\r\n        });\r\n      } else {\r\n        this.addContactForm.reset({\r\n          name: this.variablesService.newContact['name'],\r\n          address: this.variablesService.newContact['address'],\r\n          notes: this.variablesService.newContact['notes']\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (!(this.id || this.id === 0)) {\r\n      this.variablesService.newContact = {\r\n        name: this.addContactForm.get('name').value,\r\n        address: this.addContactForm.get('address').value,\r\n        notes: this.addContactForm.get('notes').value\r\n      };\r\n    }\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  add(): void {\r\n    if (!this.variablesService.appPass) {\r\n      this.modalService.prepareModal(\r\n        'error',\r\n        'CONTACTS.FORM_ERRORS.SET_MASTER_PASSWORD'\r\n      );\r\n    } else {\r\n      if (this.addContactForm.valid) {\r\n        this.backend.validateAddress(\r\n          this.addContactForm.get('address').value,\r\n          valid_status => {\r\n            if (valid_status === false) {\r\n              this.ngZone.run(() => {\r\n                this.addContactForm\r\n                  .get('address')\r\n                  .setErrors({ address_not_valid: true });\r\n              });\r\n            } else {\r\n              if (this.id || this.id === 0) {\r\n                this.variablesService.contacts.forEach((contact, index) => {\r\n                  if (index === this.id) {\r\n                    contact.name = this.addContactForm.get('name').value.trim();\r\n                    contact.address = this.addContactForm.get('address').value;\r\n                    contact.notes =\r\n                      this.addContactForm.get('notes').value || '';\r\n                  }\r\n                });\r\n                this.backend.storeSecureAppData();\r\n                this.backend.getContactAlias();\r\n                this.modalService.prepareModal(\r\n                  'success',\r\n                  'CONTACTS.SUCCESS_SAVE'\r\n                );\r\n              } else {\r\n                this.variablesService.contacts.push({\r\n                  name: this.addContactForm.get('name').value.trim(),\r\n                  address: this.addContactForm.get('address').value,\r\n                  notes: this.addContactForm.get('notes').value || ''\r\n                });\r\n                this.backend.storeSecureAppData();\r\n                this.backend.getContactAlias();\r\n                this.modalService.prepareModal(\r\n                  'success',\r\n                  'CONTACTS.SUCCESS_SENT'\r\n                );\r\n                this.variablesService.newContact = {\r\n                  name: null,\r\n                  address: null,\r\n                  notes: null\r\n                };\r\n                this.addContactForm.reset();\r\n              }\r\n            }\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  confirmed(): void {\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'CONTACTS.ADD_CONTACT' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/contacts']\">{{'CONTACTS.TITLE' | translate}}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'CONTACTS.ADD_CONTACT' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form (ngSubmit)=\"add()\"\r\n\t\t\t\t\t\t[formGroup]=\"addContactForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t<div class=\"form__field form__field-name\">\r\n\t\t\t\t\t<label for=\"add-name\">{{ 'CONTACTS.FORM.NAME' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t id=\"add-name\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"addContactForm.controls['name'].invalid && (addContactForm.controls['name'].dirty || addContactForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t*ngIf=\"addContactForm.controls['name'].errors['minlength'] || addContactForm.controls['name'].errors['maxlength']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.NAME_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['name'].errors['dublicated']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.NAME_DUBLICATED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field form__field-dropdown\">\r\n\t\t\t\t\t<label for=\"address\">{{ 'CONTACTS.FORM.ADDRESS' | translate }}</label>\r\n\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.ADRESS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"address\"\r\n\t\t\t\t\t\t\t\t id=\"address\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\r\n\t\t\t\t\t<div *ngIf=\"addContactForm.controls['address'].invalid && (addContactForm.controls['address'].dirty || addContactForm.controls['address'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['address'].errors['address_not_valid']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.ADDRESS_NOT_VALID' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['address'].errors['dublicated']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.ADDRESS_DUBLICATED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['address'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.ADDRESS_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field form__field-notes\">\r\n\t\t\t\t\t<label for=\"notes\">{{ 'CONTACTS.FORM.NOTES' | translate }}</label>\r\n\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"notes\"\r\n\t\t\t\t\t\t\t\t id=\"notes\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.NOTES_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"addContactForm.controls['notes'].invalid\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"addContactForm.controls['notes'].errors['maxLength']\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button [disabled]=\"!addContactForm.valid\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\">{{ 'CONTACTS.BUTTON.ADD_EDIT' | translate }}</button>\r\n\r\n\t\t\t\t<app-send-modal (confirmed)=\"confirmed()\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t*ngIf=\"isModalDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t[form]=\"addContactForm\">\r\n\t\t\t\t</app-send-modal>\r\n\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CREATE_NEW_WALLET_HELP_PAGE } from '../_shared/constants';\r\n\r\n@Component({\r\n  selector: 'app-add-wallet',\r\n  templateUrl: './add-wallet.component.html',\r\n  styleUrls: ['./add-wallet.component.scss']\r\n})\r\nexport class AddWalletComponent implements OnInit {\r\n  prevUrl = '';\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private location: Location,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.route.snapshot.queryParams && this.route.snapshot.queryParams.prevUrl) {\r\n      this.prevUrl = this.route.snapshot.queryParams.prevUrl;\r\n    }\r\n  }\r\n\r\n  openWallet(): void {\r\n    this.backend.openFileDialog(\r\n      this.translate.instant('MAIN.CHOOSE_PATH'),\r\n      '*', this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (file_status) {\r\n          this.variablesService.settings.default_path = file_data.path.substr(0, file_data.path.lastIndexOf('/'));\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/open'], { queryParams: { path: file_data.path } });\r\n          });\r\n        } else {\r\n          console.log(file_data['error_code']);\r\n        }\r\n      });\r\n  }\r\n\r\n  openInBrowser(): void {\r\n    this.backend.openUrlInBrowser(CREATE_NEW_WALLET_HELP_PAGE);\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"scrolled-content\" fxFlex=\"1 1 auto\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n\t\t\t<div class=\"add-wallet w-100\"\r\n\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t<div class=\"wrap-controls text-align-center max-w-38-rem\">\r\n\t\t\t\t\t<h4 class=\"mb-2\">{{ 'MAIN.TITLE' | translate }}</h4>\r\n\r\n\t\t\t\t\t<button [routerLink]=\"['/create']\"\r\n\t\t\t\t\t\t\t\t\tclass=\"primary big w-100 mb-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t{{ 'MAIN.BUTTON_NEW_WALLET' | translate}}\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<button (click)=\"openWallet()\"\r\n\t\t\t\t\t\t\t\t\tclass=\"primary big w-100 mb-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'MAIN.BUTTON_OPEN_WALLET' | translate\r\n\t\t\t\t\t\t}}</button>\r\n\r\n\t\t\t\t\t<button [routerLink]=\"['/restore']\"\r\n\t\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'MAIN.BUTTON_RESTORE_BACKUP' |\r\n\t\t\t\t\t\ttranslate\r\n\t\t\t\t\t\t}}</button>\r\n\r\n\t\t\t\t\t<p (click)=\"openInBrowser()\"\r\n\t\t\t\t\t\t class=\"text-align-center cursor-pointer\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t<i class=\"icon question-circle mr-1\"></i>\r\n\t\t\t\t\t\t<span class=\"color-primary\">{{ 'MAIN.HELP' | translate }}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AddWalletComponent } from './add-wallet/add-wallet.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { WalletComponent } from './wallet/wallet.component';\r\nimport { SendComponent } from './send/send.component';\r\nimport { ReceiveComponent } from './receive/receive.component';\r\nimport { HistoryComponent } from './history/history.component';\r\nimport { ContractsComponent } from './contracts/contracts.component';\r\nimport { PurchaseComponent } from './purchase/purchase.component';\r\nimport { StakingComponent } from './staking/staking.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { CreateWalletComponent } from './create-wallet/create-wallet.component';\r\nimport { OpenWalletComponent } from './open-wallet/open-wallet.component';\r\nimport { RestoreWalletComponent } from './restore-wallet/restore-wallet.component';\r\nimport { SeedPhraseComponent } from './seed-phrase/seed-phrase.component';\r\nimport { WalletDetailsComponent } from './wallet-details/wallet-details.component';\r\nimport { AssignAliasComponent } from './assign-alias/assign-alias.component';\r\nimport { EditAliasComponent } from './edit-alias/edit-alias.component';\r\nimport { TransferAliasComponent } from './transfer-alias/transfer-alias.component';\r\nimport { ContactsComponent } from './contacts/contacts.component';\r\nimport { AddContactsComponent } from './add-contacts/add-contacts.component';\r\nimport { ContactSendComponent } from './contact-send/contact-send.component';\r\nimport { ExportImportComponent } from './export-import/export-import.component';\r\nimport { DeeplinkComponent } from './deeplink/deeplink.component';\r\nimport { ContractsTabComponent } from './contracts/contracts-tab/contracts-tab.component';\r\nimport { paths, pathsChildrenContracts, pathsChildrenWallet } from './paths';\r\nimport { FullLayoutComponent } from './layouts/full-layout/full-layout.component';\r\nimport { WithSidebarLayoutComponent } from './layouts/with-sidebar-layout/with-sidebar-layout.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: paths.auth,\r\n    component: FullLayoutComponent,\r\n    loadChildren: () => import('./pages/auth/auth.module').then(m => m.AuthModule)\r\n  },\r\n  {\r\n    path: paths.addWallet,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '', component: AddWalletComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.login,\r\n    component: FullLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '', component: LoginComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.wallet,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: WalletComponent,\r\n        children: [\r\n          {\r\n            path: pathsChildrenWallet.send,\r\n            component: SendComponent\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.receive,\r\n            component: ReceiveComponent\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.history,\r\n            component: HistoryComponent\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.contracts,\r\n            component: ContractsTabComponent,\r\n            children: [\r\n              {\r\n                path: '',\r\n                component: ContractsComponent,\r\n              },\r\n              {\r\n                path: pathsChildrenContracts.purchase,\r\n                component: PurchaseComponent\r\n              },\r\n              {\r\n                path: `${ pathsChildrenContracts.purchase }/:id`,\r\n                component: PurchaseComponent\r\n              },\r\n              {\r\n                path: '**', redirectTo: '',\r\n              },\r\n            ]\r\n          },\r\n\r\n          {\r\n            path: pathsChildrenWallet.staking,\r\n            component: StakingComponent\r\n          },\r\n          {\r\n            path: '',\r\n            redirectTo: pathsChildrenWallet.history,\r\n            pathMatch: 'full'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n  },\r\n  {\r\n    path: paths.create,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: CreateWalletComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.open,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: OpenWalletComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.restore,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: RestoreWalletComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.seedPhrase,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: SeedPhraseComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.details,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: WalletDetailsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.assignAlias,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: AssignAliasComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.editAlias,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: EditAliasComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.transferAlias,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: TransferAliasComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.settings,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: SettingsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.contacts,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ContactsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.addContacts,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: AddContactsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: `${ paths.editContacts }/:id`,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: AddContactsComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: `${ paths.contactSend }/:id`,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ContactSendComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.import,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ExportImportComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.deeplink,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: DeeplinkComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: paths.uiKit,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        loadChildren: () => import('./pages/ui-kit/ui-kit.module').then(m => m.UiKitModule)\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: paths.addWallet,\r\n    pathMatch: 'full'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule]\r\n})\r\n\r\n\r\nexport class AppRoutingModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BackendService } from './_helpers/services/backend.service';\r\nimport { Router } from '@angular/router';\r\nimport { VariablesService } from './_helpers/services/variables.service';\r\nimport { ContextMenuComponent } from 'ngx-contextmenu';\r\nimport { IntToMoneyPipe } from './_helpers/pipes/int-to-money.pipe';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { ModalService } from './_helpers/services/modal.service';\r\nimport { Store } from 'store';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { paths, pathsChildrenAuth } from './paths';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n  intervalUpdatePriceState;\r\n\r\n  intervalUpdateContractsState;\r\n\r\n  expMedTsEvent;\r\n\r\n  onQuitRequest = false;\r\n\r\n  firstOnlineState = false;\r\n\r\n  translateUsed = false;\r\n\r\n  needOpenWallets = [];\r\n\r\n  @ViewChild('allContextMenu', { static: true }) public allContextMenu: ContextMenuComponent;\r\n\r\n  @ViewChild('onlyCopyContextMenu', { static: true }) public onlyCopyContextMenu: ContextMenuComponent;\r\n\r\n  @ViewChild('pasteSelectContextMenu', { static: true }) public pasteSelectContextMenu: ContextMenuComponent;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    public translate: TranslateService,\r\n    private http: HttpClient,\r\n    private renderer: Renderer2,\r\n    private backend: BackendService,\r\n    private router: Router,\r\n    private ngZone: NgZone,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private modalService: ModalService,\r\n    private store: Store\r\n  ) {\r\n    translate.addLangs(['en', 'fr', 'de', 'it', 'pt']);\r\n    translate.setDefaultLang('en');\r\n    // const browserLang = translate.getBrowserLang();\r\n    // translate.use(browserLang.match(/en|fr/) ? browserLang : 'en');\r\n    translate.use('en').subscribe(() => {\r\n      this.translateUsed = true;\r\n    });\r\n  }\r\n\r\n  setBackendLocalization() {\r\n    if (this.translateUsed) {\r\n      const stringsArray = [\r\n        this.translate.instant('BACKEND_LOCALIZATION.QUIT'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.IS_RECEIVED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.IS_CONFIRMED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.INCOME_TRANSFER_UNCONFIRMED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.INCOME_TRANSFER_CONFIRMED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.MINED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.LOCKED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.IS_MINIMIZE'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.RESTORE'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.TRAY_MENU_SHOW'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.TRAY_MENU_MINIMIZE')\r\n      ];\r\n      this.backend.setBackendLocalization(stringsArray, this.variablesService.settings.language);\r\n    } else {\r\n      console.warn('wait translate use');\r\n      setTimeout(() => {\r\n        this.setBackendLocalization();\r\n      }, 10000);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.variablesService.allContextMenu = this.allContextMenu;\r\n    this.variablesService.onlyCopyContextMenu = this.onlyCopyContextMenu;\r\n    this.variablesService.pasteSelectContextMenu = this.pasteSelectContextMenu;\r\n\r\n    this.backend.initService().subscribe(initMessage => {\r\n      console.log('Init message: ', initMessage);\r\n      this.backend.getOptions();\r\n      this.backend.webkitLaunchedScript();\r\n\r\n      this.backend.start_backend(false, '127.0.0.1', 11512, (st2, dd2) => {\r\n        console.log(st2, dd2);\r\n      });\r\n\r\n      this.backend.eventSubscribe('quit_requested', () => {\r\n        if (!this.onQuitRequest) {\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/']);\r\n          });\r\n          this.needOpenWallets = [];\r\n          this.variablesService.daemon_state = 5;\r\n          const saveFunction = () => {\r\n            this.backend.storeAppData(() => {\r\n              const recursionCloseWallets = () => {\r\n                if (this.variablesService.wallets.length) {\r\n                  const lastIndex = this.variablesService.wallets.length - 1;\r\n                  this.backend.closeWallet(this.variablesService.wallets[lastIndex].wallet_id, () => {\r\n                    this.variablesService.wallets.splice(lastIndex, 1);\r\n                    recursionCloseWallets();\r\n                  });\r\n                } else {\r\n                  this.backend.quitRequest();\r\n                }\r\n              };\r\n              recursionCloseWallets();\r\n            });\r\n          };\r\n          if (this.variablesService.appPass) {\r\n            this.backend.storeSecureAppData(() => {\r\n              saveFunction();\r\n            });\r\n          } else {\r\n            saveFunction();\r\n          }\r\n        }\r\n        this.onQuitRequest = true;\r\n      });\r\n\r\n      this.backend.eventSubscribe('update_wallet_status', (data) => {\r\n        console.log('----------------- update_wallet_status -----------------');\r\n        console.log(data);\r\n\r\n        const wallet_state = data.wallet_state;\r\n        const is_mining = data.is_mining;\r\n        const wallet = this.variablesService.getWallet(data.wallet_id);\r\n        // 1-synch, 2-ready, 3 - error\r\n        if (wallet) {\r\n          this.ngZone.run(() => {\r\n            wallet.loaded = false;\r\n            wallet.staking = is_mining;\r\n            if (wallet_state === 2) { // ready\r\n              wallet.loaded = true;\r\n            }\r\n            if (wallet_state === 3) { // error\r\n              // wallet.error = true;\r\n            }\r\n            wallet.balance = data.balance;\r\n            wallet.unlocked_balance = data.unlocked_balance;\r\n            wallet.mined_total = data.minied_total;\r\n            wallet.alias_available = data.is_alias_operations_available;\r\n          });\r\n        }\r\n      });\r\n\r\n      this.backend.eventSubscribe('wallet_sync_progress', (data) => {\r\n        console.log('----------------- wallet_sync_progress -----------------');\r\n        console.log(data);\r\n        const wallet = this.variablesService.getWallet(data.wallet_id);\r\n        if (wallet) {\r\n          this.ngZone.run(() => {\r\n            wallet.progress = (data.progress < 0) ? 0 : ((data.progress > 100) ? 100 : data.progress);\r\n            if (!this.variablesService.sync_started) {\r\n              this.variablesService.sync_started = true;\r\n            }\r\n            this.addToStore(wallet, true); // subscribe on data\r\n            if (wallet.progress === 0) {\r\n              wallet.loaded = false;\r\n            } else if (wallet.progress === 100) {\r\n              wallet.loaded = true;\r\n              this.addToStore(wallet, false);\r\n              this.variablesService.sync_started = false;\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      this.backend.eventSubscribe('update_daemon_state', (data) => {\r\n        console.log('----------------- update_daemon_state -----------------');\r\n        console.log('DAEMON:' + data.daemon_network_state);\r\n        console.log(data);\r\n        // this.variablesService.exp_med_ts = data['expiration_median_timestamp'] + 600 + 1;\r\n        this.variablesService.setExpMedTs(data['expiration_median_timestamp'] + 600 + 1);\r\n        this.variablesService.net_time_delta_median = data.net_time_delta_median;\r\n        this.variablesService.last_build_available = data.last_build_available;\r\n        this.variablesService.last_build_displaymode = data.last_build_displaymode;\r\n        this.variablesService.setHeightApp(data.height);\r\n        this.variablesService.setHeightMax(data.max_net_seen_height);\r\n\r\n        this.variablesService.setDownloadedBytes(data.downloaded_bytes);\r\n        this.variablesService.setTotalBytes(data.download_total_data_size);\r\n\r\n        this.backend.getContactAlias();\r\n        this.ngZone.run(() => {\r\n          this.variablesService.daemon_state = data['daemon_network_state'];\r\n          if (data['daemon_network_state'] === 1) {\r\n            const max = data['max_net_seen_height'] - data['synchronization_start_height'];\r\n            const current = data.height - data['synchronization_start_height'];\r\n            const return_val = Math.floor((current * 100 / max) * 100) / 100;\r\n            if (max === 0 || return_val < 0) {\r\n              this.variablesService.sync.progress_value = 0;\r\n              this.variablesService.sync.progress_value_text = '0.00';\r\n            } else if (return_val >= 100) {\r\n              this.variablesService.sync.progress_value = 100;\r\n              this.variablesService.sync.progress_value_text = '99.99';\r\n            } else {\r\n              this.variablesService.sync.progress_value = return_val;\r\n              this.variablesService.sync.progress_value_text = return_val.toFixed(2);\r\n            }\r\n          }\r\n\r\n          if (data['daemon_network_state'] === 6) {\r\n            const max = data['download_total_data_size'];\r\n            const current = data['downloaded_bytes'];\r\n            const return_val = Math.floor((current / max) * 100);\r\n            if (max === 0 || return_val < 0) {\r\n              this.variablesService.download.progress_value = 0;\r\n              this.variablesService.download.progress_value_text = '0.00';\r\n            } else if (return_val >= 100) {\r\n              this.variablesService.download.progress_value = 100;\r\n              this.variablesService.download.progress_value_text = '99.99';\r\n            } else {\r\n              this.variablesService.download.progress_value = return_val;\r\n              this.variablesService.download.progress_value_text = return_val.toFixed(2);\r\n            }\r\n          }\r\n        });\r\n        if (!this.firstOnlineState && data['daemon_network_state'] === 2) {\r\n          this.getAliases();\r\n          this.backend.getContactAlias();\r\n          this.backend.getDefaultFee((status_fee, data_fee) => {\r\n            this.variablesService.default_fee_big = new BigNumber(data_fee);\r\n            this.variablesService.default_fee = this.intToMoneyPipe.transform(data_fee);\r\n          });\r\n          this.firstOnlineState = true;\r\n        }\r\n      });\r\n\r\n      this.backend.eventSubscribe('money_transfer', (data) => {\r\n        console.log('----------------- money_transfer -----------------');\r\n        console.log(data);\r\n\r\n        if (!data.ti) {\r\n          return;\r\n        }\r\n\r\n        const wallet_id = data.wallet_id;\r\n        const tr_info = data.ti;\r\n\r\n        const wallet = this.variablesService.getWallet(wallet_id);\r\n        if (wallet) {\r\n          if (wallet.history.length > 40) {\r\n            wallet.history.splice(40, 1);\r\n          }\r\n          this.ngZone.run(() => {\r\n\r\n            if (!wallet.loaded) {\r\n              wallet.balance = data.balance;\r\n              wallet.unlocked_balance = data.unlocked_balance;\r\n            } else {\r\n              wallet.balance = data.balance;\r\n              wallet.unlocked_balance = data.unlocked_balance;\r\n            }\r\n\r\n            if (tr_info.tx_type === 6) {\r\n              this.variablesService.setRefreshStacking(wallet_id);\r\n            }\r\n\r\n            let tr_exists = wallet.excluded_history.some(elem => elem.tx_hash === tr_info.tx_hash);\r\n            tr_exists = (!tr_exists) ? wallet.history.some(elem => elem.tx_hash === tr_info.tx_hash) : tr_exists;\r\n\r\n            if (wallet.currentPage === 1) {\r\n              wallet.prepareHistory([tr_info]);\r\n              if (wallet.restore) {\r\n                wallet.total_history_item = wallet.history.length;\r\n                wallet.totalPages = Math.ceil(wallet.total_history_item / this.variablesService.count);\r\n                wallet.totalPages > this.variablesService.maxPages\r\n                  ? wallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n                  : wallet.pages = new Array(wallet.totalPages).fill(1).map((value, index) => value + index);\r\n              }\r\n            }\r\n\r\n            if (tr_info.hasOwnProperty('contract')) {\r\n              const exp_med_ts = this.variablesService.exp_med_ts;\r\n              const height_app = this.variablesService.height_app;\r\n              const contract = tr_info.contract[0];\r\n              if (tr_exists) {\r\n                for (let i = 0; i < wallet.contracts.length; i++) {\r\n                  if (wallet.contracts[i].contract_id === contract.contract_id && wallet.contracts[i].is_a === contract.is_a) {\r\n                    wallet.contracts[i].cancel_expiration_time = contract.cancel_expiration_time;\r\n                    wallet.contracts[i].expiration_time = contract.expiration_time;\r\n                    wallet.contracts[i].height = contract.height;\r\n                    wallet.contracts[i].timestamp = contract.timestamp;\r\n                    break;\r\n                  }\r\n                }\r\n                // $rootScope.getContractsRecount();\r\n                return;\r\n              }\r\n\r\n              if (contract.state === 1 && contract.expiration_time < exp_med_ts) {\r\n                contract.state = 110;\r\n              } else if (contract.state === 5 && contract.cancel_expiration_time < exp_med_ts) {\r\n                contract.state = 130;\r\n              } else if (contract.state === 1) {\r\n                const searchResult2 =\r\n                  this.variablesService.settings.notViewedContracts\r\n                    .find(elem => elem.state === 110 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n                if (searchResult2) {\r\n                  if (searchResult2.time === contract.expiration_time) {\r\n                    contract.state = 110;\r\n                  } else {\r\n                    for (let j = 0; j < this.variablesService.settings.notViewedContracts.length; j++) {\r\n                      if (this.variablesService.settings.notViewedContracts[j].contract_id === contract.contract_id &&\r\n                        this.variablesService.settings.notViewedContracts[j].is_a === contract.is_a) {\r\n                        this.variablesService.settings.notViewedContracts.splice(j, 1);\r\n                        break;\r\n                      }\r\n                    }\r\n                    for (let j = 0; j < this.variablesService.settings.viewedContracts.length; j++) {\r\n                      if (this.variablesService.settings.viewedContracts[j].contract_id === contract.contract_id &&\r\n                        this.variablesService.settings.viewedContracts[j].is_a === contract.is_a) {\r\n                        this.variablesService.settings.viewedContracts.splice(j, 1);\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              } else if (contract.state === 2 && (contract.height === 0 || (height_app - contract.height) < 10)) {\r\n                contract.state = 201;\r\n              } else if (contract.state === 2) {\r\n                const searchResult3 =\r\n                  this.variablesService.settings.viewedContracts\r\n                    .some(elem => elem.state === 120 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n                if (searchResult3) {\r\n                  contract.state = 120;\r\n                }\r\n              } else if (contract.state === 5) {\r\n                const searchResult4 =\r\n                  this.variablesService.settings.notViewedContracts\r\n                    .find(elem => elem.state === 130 && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n                if (searchResult4) {\r\n                  if (searchResult4.time === contract.cancel_expiration_time) {\r\n                    contract.state = 130;\r\n                  } else {\r\n                    for (let j = 0; j < this.variablesService.settings.notViewedContracts.length; j++) {\r\n                      if (this.variablesService.settings.notViewedContracts[j].contract_id === contract.contract_id &&\r\n                        this.variablesService.settings.notViewedContracts[j].is_a === contract.is_a) {\r\n                        this.variablesService.settings.notViewedContracts.splice(j, 1);\r\n                        break;\r\n                      }\r\n                    }\r\n                    for (let j = 0; j < this.variablesService.settings.viewedContracts.length; j++) {\r\n                      if (this.variablesService.settings.viewedContracts[j].contract_id === contract.contract_id &&\r\n                        this.variablesService.settings.viewedContracts[j].is_a === contract.is_a) {\r\n                        this.variablesService.settings.viewedContracts.splice(j, 1);\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              } else if (contract.state === 6 && (contract.height === 0 || (height_app - contract.height) < 10)) {\r\n                contract.state = 601;\r\n              }\r\n\r\n              const searchResult =\r\n                this.variablesService.settings.viewedContracts\r\n                  .some(elem => elem.state === contract.state && elem.is_a === contract.is_a && elem.contract_id === contract.contract_id);\r\n              contract.is_new = !searchResult;\r\n\r\n              let findContract = false;\r\n              for (let i = 0; i < wallet.contracts.length; i++) {\r\n                if (wallet.contracts[i].contract_id === contract.contract_id && wallet.contracts[i].is_a === contract.is_a) {\r\n                  for (const prop in contract) {\r\n                    if (contract.hasOwnProperty(prop)) {\r\n                      wallet.contracts[i][prop] = contract[prop];\r\n                    }\r\n                  }\r\n                  findContract = true;\r\n                  break;\r\n                }\r\n              }\r\n              if (findContract === false) {\r\n                wallet.contracts.push(contract);\r\n              }\r\n              wallet.recountNewContracts();\r\n            }\r\n\r\n          });\r\n        }\r\n      });\r\n\r\n      this.backend.backendObject['handle_deeplink_click'].connect((data) => {\r\n        console.log('----------------- handle_deeplink_click -----------------');\r\n        console.log(data);\r\n        this.ngZone.run(() => {\r\n          if (data) {\r\n            this.variablesService.deeplink$.next(data);\r\n          }\r\n        });\r\n      });\r\n\r\n      this.backend.eventSubscribe('money_transfer_cancel', (data) => {\r\n        console.log('----------------- money_transfer_cancel -----------------');\r\n        console.log(data);\r\n\r\n        if (!data.ti) {\r\n          return;\r\n        }\r\n\r\n        const wallet_id = data.wallet_id;\r\n        const tr_info = data.ti;\r\n        const wallet = this.variablesService.getWallet(wallet_id);\r\n\r\n        if (wallet) {\r\n          if (tr_info.hasOwnProperty('contract')) {\r\n            for (let i = 0; i < wallet.contracts.length; i++) {\r\n              if (wallet.contracts[i].contract_id === tr_info.contract[0].contract_id && wallet.contracts[i].is_a === tr_info.contract[0].is_a) {\r\n                if (wallet.contracts[i].state === 1 || wallet.contracts[i].state === 110) {\r\n                  wallet.contracts[i].is_new = true;\r\n                  wallet.contracts[i].state = 140;\r\n                  wallet.recountNewContracts();\r\n                }\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          wallet.removeFromHistory(tr_info.tx_hash);\r\n\r\n          let error_tr = '';\r\n          switch (tr_info.tx_type) {\r\n            case 0:\r\n              error_tr = this.translate.instant('ERRORS.TX_TYPE_NORMAL') + '<br>' +\r\n                tr_info.tx_hash + '<br>' + wallet.name + '<br>' + wallet.address + '<br>' +\r\n                this.translate.instant('ERRORS.TX_TYPE_NORMAL_TO') + ' ' + this.intToMoneyPipe.transform(tr_info.amount) + ' ' +\r\n                this.translate.instant('ERRORS.TX_TYPE_NORMAL_END');\r\n              break;\r\n            case 1:\r\n              // this.translate.instant('ERRORS.TX_TYPE_PUSH_OFFER');\r\n              break;\r\n            case 2:\r\n              // this.translate.instant('ERRORS.TX_TYPE_UPDATE_OFFER');\r\n              break;\r\n            case 3:\r\n              // this.translate.instant('ERRORS.TX_TYPE_CANCEL_OFFER');\r\n              break;\r\n            case 4:\r\n              error_tr = this.translate.instant('ERRORS.TX_TYPE_NEW_ALIAS') + '<br>' +\r\n                tr_info.tx_hash + '<br>' + wallet.name + '<br>' + wallet.address + '<br>' +\r\n                this.translate.instant('ERRORS.TX_TYPE_NEW_ALIAS_END');\r\n              break;\r\n            case 5:\r\n              error_tr = this.translate.instant('ERRORS.TX_TYPE_UPDATE_ALIAS') + '<br>' +\r\n                tr_info.tx_hash + '<br>' + wallet.name + '<br>' + wallet.address + '<br>' +\r\n                this.translate.instant('ERRORS.TX_TYPE_NEW_ALIAS_END');\r\n              break;\r\n            case 6:\r\n              error_tr = this.translate.instant('ERRORS.TX_TYPE_COIN_BASE');\r\n              break;\r\n          }\r\n          if (error_tr) {\r\n            this.modalService.prepareModal('error', error_tr);\r\n          }\r\n        }\r\n      });\r\n\r\n      this.backend.eventSubscribe('on_core_event', (data) => {\r\n        console.log('----------------- on_core_event -----------------');\r\n        console.log(data);\r\n\r\n        data = JSON.parse(data);\r\n\r\n        if (data.events != null) {\r\n          for (let i = 0, length = data.events.length; i < length; i++) {\r\n\r\n            switch (data.events[i].method) {\r\n              case 'CORE_EVENT_BLOCK_ADDED':\r\n                break;\r\n              case 'CORE_EVENT_ADD_ALIAS':\r\n                if (this.variablesService.aliasesChecked[data.events[i].details.address] != null) {\r\n                  this.variablesService.aliasesChecked[data.events[i].details.address]['name'] = '@' + data.events[i].details.alias;\r\n                  this.variablesService.aliasesChecked[data.events[i].details.address]['address'] = data.events[i].details.address;\r\n                  this.variablesService.aliasesChecked[data.events[i].details.address]['comment'] = data.events[i].details.comment;\r\n                }\r\n                if (this.variablesService.enableAliasSearch) {\r\n                  const newAlias = {\r\n                    name: '@' + data.events[i].details.alias,\r\n                    address: data.events[i].details.address,\r\n                    comment: data.events[i].details.comment\r\n                  };\r\n                  this.variablesService.aliases = this.variablesService.aliases.concat(newAlias);\r\n                  this.variablesService.changeAliases();\r\n                }\r\n                break;\r\n              case 'CORE_EVENT_UPDATE_ALIAS':\r\n                for (const address in this.variablesService.aliasesChecked) {\r\n                  if (this.variablesService.aliasesChecked.hasOwnProperty(address)) {\r\n                    if (this.variablesService.aliasesChecked[address].name === '@' + data.events[i].details.alias) {\r\n                      if (this.variablesService.aliasesChecked[address].address !== data.events[i].details.details.address) {\r\n                        delete this.variablesService.aliasesChecked[address]['name'];\r\n                        delete this.variablesService.aliasesChecked[address]['address'];\r\n                        delete this.variablesService.aliasesChecked[address]['comment'];\r\n                      } else {\r\n                        this.variablesService.aliasesChecked[address].comment = data.events[i].details.details.comment;\r\n                      }\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n                if (this.variablesService.aliasesChecked[data.events[i].details.details.address] != null) {\r\n                  this.variablesService.aliasesChecked[data.events[i].details.details.address]['name'] = '@' + data.events[i].details.alias;\r\n                  this.variablesService.aliasesChecked[data.events[i].details.details.address]['address'] = data.events[i].details.details.address;\r\n                  this.variablesService.aliasesChecked[data.events[i].details.details.address]['comment'] = data.events[i].details.details.comment;\r\n                }\r\n                if (this.variablesService.enableAliasSearch) {\r\n                  const CurrentAlias = this.variablesService.aliases.find((element) => element.name === '@' + data.events[i].details.alias);\r\n                  if (CurrentAlias) {\r\n                    CurrentAlias.address = data.events[i].details.details.address;\r\n                    CurrentAlias.comment = data.events[i].details.details.comment;\r\n                  }\r\n                }\r\n                this.variablesService.changeAliases();\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      this.intervalUpdateContractsState = setInterval(() => {\r\n        this.variablesService.wallets.forEach((wallet) => {\r\n          wallet.contracts.forEach((contract) => {\r\n            if (contract.state === 201 && contract.height !== 0 && (this.variablesService.height_app - contract.height) >= 10) {\r\n              contract.state = 2;\r\n              contract.is_new = true;\r\n              console.warn('need check state in contracts');\r\n            } else if (contract.state === 601 && contract.height !== 0 && (this.variablesService.height_app - contract.height) >= 10) {\r\n              contract.state = 6;\r\n              contract.is_new = true;\r\n            }\r\n          });\r\n        });\r\n      }, 30000);\r\n\r\n      this.expMedTsEvent = this.variablesService.getExpMedTsEvent.subscribe((newTimestamp: number) => {\r\n        this.variablesService.wallets.forEach((wallet) => {\r\n          wallet.contracts.forEach((contract) => {\r\n            if (contract.state === 1 && contract.expiration_time <= newTimestamp) {\r\n              contract.state = 110;\r\n              contract.is_new = true;\r\n              wallet.recountNewContracts();\r\n            } else if (contract.state === 5 && contract.cancel_expiration_time <= newTimestamp) {\r\n              contract.state = 130;\r\n              contract.is_new = true;\r\n              wallet.recountNewContracts();\r\n            }\r\n          });\r\n        });\r\n      });\r\n\r\n      this.backend.getAppData((status, data) => {\r\n        if (data && Object.keys(data).length > 0) {\r\n          for (const key in data) {\r\n            if (data.hasOwnProperty(key) && this.variablesService.settings.hasOwnProperty(key)) {\r\n              this.variablesService.settings[key] = data[key];\r\n            }\r\n          }\r\n          if (this.variablesService.settings.hasOwnProperty('scale') && ['8px', '10px', '12px', '14px'].indexOf(this.variablesService.settings.scale) !== -1) {\r\n            this.renderer.setStyle(document.documentElement, 'font-size', this.variablesService.settings.scale);\r\n          } else {\r\n            this.variablesService.settings.scale = '10px';\r\n            this.renderer.setStyle(document.documentElement, 'font-size', this.variablesService.settings.scale);\r\n          }\r\n        }\r\n        this.translate.use(this.variablesService.settings.language);\r\n        this.setBackendLocalization();\r\n\r\n        this.backend.setLogLevel(this.variablesService.settings.appLog);\r\n        this.backend.setEnableTor(this.variablesService.settings.appUseTor);\r\n\r\n        if (!this.variablesService.settings.wallets || !this.variablesService.settings.wallets.length) {\r\n          return this.router.navigate([`${ paths.auth }/${ pathsChildrenAuth.noWallet }`]).then();\r\n        }\r\n\r\n        if (this.router.url !== '/login') {\r\n          this.backend.haveSecureAppData((statusPass) => {\r\n            if (statusPass) {\r\n              this.ngZone.run(() => {\r\n                this.router.navigate(['/login'], { queryParams: { type: 'auth' } });\r\n              });\r\n            } else {\r\n              if (Object.keys(data).length !== 0) {\r\n                this.needOpenWallets = JSON.parse(JSON.stringify(this.variablesService.settings.wallets));\r\n                this.ngZone.run(() => {\r\n                  this.variablesService.appLogin = true;\r\n                  this.router.navigate(['/']);\r\n                });\r\n              } else {\r\n                this.ngZone.run(() => {\r\n                  this.router.navigate(['/login'], { queryParams: { type: 'reg' } });\r\n                });\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      /** Start listening dispatchAsyncCallResult */\r\n      this.backend.dispatchAsyncCallResult();\r\n\r\n      /** Start listening handleCurrentActionState */\r\n      this.backend.handleCurrentActionState();\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    this.variablesService.disable_price_fetch$.pipe(takeUntil(this.destroy$)).subscribe((disable_price_fetch) => {\r\n      if (!disable_price_fetch) {\r\n        this.getMoneyEquivalent();\r\n        this.intervalUpdatePriceState = setInterval(() => {\r\n          this.getMoneyEquivalent();\r\n        }, 30000);\r\n      } else {\r\n        if (this.intervalUpdatePriceState) {\r\n          clearInterval(this.intervalUpdatePriceState);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    if (this.intervalUpdateContractsState) {\r\n      clearInterval(this.intervalUpdateContractsState);\r\n    }\r\n    if (this.intervalUpdatePriceState) {\r\n      clearInterval(this.intervalUpdatePriceState);\r\n    }\r\n    this.expMedTsEvent.unsubscribe();\r\n  }\r\n\r\n  getMoneyEquivalent(): void {\r\n    this.http.get('https://api.coingecko.com/api/v3/ping').subscribe(\r\n      () => {\r\n        this.http.get('https://api.coingecko.com/api/v3/simple/price?ids=zano&vs_currencies=usd&include_24hr_change=true').subscribe(\r\n          data => {\r\n            this.variablesService.moneyEquivalent = data['zano']['usd'];\r\n            this.variablesService.moneyEquivalentPercent = data['zano']['usd_24h_change'];\r\n          },\r\n          error => {\r\n            console.warn('api.coingecko.com price error: ', error);\r\n          }\r\n        );\r\n      },\r\n      error => {\r\n        console.warn('api.coingecko.com error: ', error);\r\n        setTimeout(() => {\r\n          this.getMoneyEquivalent();\r\n        }, 30000);\r\n      }\r\n    );\r\n  }\r\n\r\n  getAliases(): void {\r\n    this.backend.getAllAliases((status, data, error) => {\r\n\r\n      console.warn(error);\r\n\r\n      if (error === 'CORE_BUSY') {\r\n        window.setTimeout(() => {\r\n          this.getAliases();\r\n        }, 10000);\r\n      } else if (error === 'OVERFLOW') {\r\n        this.variablesService.aliases = [];\r\n        this.variablesService.enableAliasSearch = false;\r\n        this.variablesService.wallets.forEach(wallet => {\r\n          wallet.alias = this.backend.getWalletAlias(wallet.address);\r\n        });\r\n      } else {\r\n        this.variablesService.enableAliasSearch = true;\r\n        if (data.aliases && data.aliases.length) {\r\n          this.variablesService.aliases = [];\r\n          data.aliases.forEach(alias => {\r\n            const newAlias = {\r\n              name: '@' + alias.alias,\r\n              address: alias.address,\r\n              comment: alias.comment\r\n            };\r\n            this.variablesService.aliases.push(newAlias);\r\n          });\r\n          this.variablesService.wallets.forEach(wallet => {\r\n            wallet.alias = this.backend.getWalletAlias(wallet.address);\r\n          });\r\n          this.variablesService.aliases = this.variablesService.aliases.sort((a, b) => {\r\n            if (a.name.length > b.name.length) {\r\n              return 1;\r\n            }\r\n            if (a.name.length < b.name.length) {\r\n              return -1;\r\n            }\r\n            if (a.name > b.name) {\r\n              return 1;\r\n            }\r\n            if (a.name < b.name) {\r\n              return -1;\r\n            }\r\n            return 0;\r\n          });\r\n          this.variablesService.changeAliases();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  contextMenuCopy(target): void {\r\n    if (target && (target['nodeName'].toUpperCase() === 'TEXTAREA' || target['nodeName'].toUpperCase() === 'INPUT')) {\r\n      const start = (target['contextSelectionStart']) ? 'contextSelectionStart' : 'selectionStart';\r\n      const end = (target['contextSelectionEnd']) ? 'contextSelectionEnd' : 'selectionEnd';\r\n      const canUseSelection = ((target[start]) || (target[start] === '0'));\r\n      const SelectedText = (canUseSelection) ? target['value'].substring(target[start], target[end]) : target['value'];\r\n      this.backend.setClipboard(String(SelectedText));\r\n    }\r\n  }\r\n\r\n  contextMenuOnlyCopy(text): void {\r\n    if (text) {\r\n      this.backend.setClipboard(String(text));\r\n    }\r\n  }\r\n\r\n  contextMenuPaste(target): void {\r\n    if (target && (target['nodeName'].toUpperCase() === 'TEXTAREA' || target['nodeName'].toUpperCase() === 'INPUT')) {\r\n      this.backend.getClipboard((status, clipboard) => {\r\n        clipboard = String(clipboard);\r\n        if (typeof clipboard !== 'string' || clipboard.length) {\r\n          const start = (target['contextSelectionStart']) ? 'contextSelectionStart' : 'selectionStart';\r\n          const end = (target['contextSelectionEnd']) ? 'contextSelectionEnd' : 'selectionEnd';\r\n          const _pre = target['value'].substring(0, target[start]);\r\n          const _aft = target['value'].substring(target[end], target['value'].length);\r\n          let text = _pre + clipboard + _aft;\r\n          const cursorPosition = (_pre + clipboard).length;\r\n          if (target['maxLength'] && parseInt(target['maxLength'], 10) > 0) {\r\n            text = text.substr(0, parseInt(target['maxLength'], 10));\r\n          }\r\n          target['value'] = text;\r\n          target.setSelectionRange(cursorPosition, cursorPosition);\r\n          target.dispatchEvent(new Event('input'));\r\n          target['focus']();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  contextMenuSelect(target): void {\r\n    if (target && (target['nodeName'].toUpperCase() === 'TEXTAREA' || target['nodeName'].toUpperCase() === 'INPUT')) {\r\n      target['focus']();\r\n      setTimeout(() => {\r\n        target['select']();\r\n      });\r\n    }\r\n  }\r\n\r\n  addToStore(wallet, boolean): void {\r\n    const value = this.store.value.sync;\r\n    if (value && value.length) {\r\n      const sync = value.filter(item => item.wallet_id === wallet.wallet_id);\r\n      if (sync && sync.length) {\r\n        const result = value.map(item => {\r\n          if (item.wallet_id === wallet.wallet_id) {\r\n            return { sync: boolean, wallet_id: wallet.wallet_id };\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        this.store.set('sync', result);\r\n      } else {\r\n        value.push({ sync: boolean, wallet_id: wallet.wallet_id });\r\n        this.store.set('sync', value);\r\n      }\r\n    } else {\r\n      this.store.set('sync', [{ sync: boolean, wallet_id: wallet.wallet_id }]);\r\n    }\r\n  }\r\n}\r\n","<router-outlet *ngIf=\"[0, 1, 2, 6].indexOf(variablesService.daemon_state) !== -1\"></router-outlet>\r\n\r\n<div *ngIf=\"[3, 4, 5].indexOf(variablesService.daemon_state) !== -1\"\r\n\t\t class=\"preloader\">\r\n\t<p *ngIf=\"variablesService.daemon_state === 3\"\r\n\t\t class=\"mb-2\">{{ 'SIDEBAR.SYNCHRONIZATION.LOADING' | translate }}</p>\r\n\t<p *ngIf=\"variablesService.daemon_state === 4\"\r\n\t\t class=\"mb-2\">{{ 'SIDEBAR.SYNCHRONIZATION.ERROR' | translate }}</p>\r\n\t<p *ngIf=\"variablesService.daemon_state === 5\"\r\n\t\t class=\"mb-2\">{{ 'SIDEBAR.SYNCHRONIZATION.COMPLETE' | translate }}</p>\r\n\t<div class=\"loading-bar\"></div>\r\n</div>\r\n\r\n\r\n<context-menu #allContextMenu>\r\n\t<ng-template (execute)=\"contextMenuCopy($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.COPY' | translate }}</ng-template>\r\n\t<ng-template (execute)=\"contextMenuPaste($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.PASTE' | translate }}</ng-template>\r\n\t<ng-template (execute)=\"contextMenuSelect($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.SELECT' | translate }}</ng-template>\r\n</context-menu>\r\n\r\n<context-menu #onlyCopyContextMenu>\r\n\t<ng-template (execute)=\"contextMenuOnlyCopy($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.COPY' | translate }}</ng-template>\r\n</context-menu>\r\n\r\n<context-menu #pasteSelectContextMenu>\r\n\t<ng-template (execute)=\"contextMenuPaste($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.PASTE' | translate }}</ng-template>\r\n\t<ng-template (execute)=\"contextMenuSelect($event.item)\"\r\n\t\t\t\t\t\t\t contextMenuItem>{{ 'CONTEXT_MENU.SELECT' | translate }}</ng-template>\r\n</context-menu>\r\n\r\n\r\n<app-open-wallet-modal *ngIf=\"needOpenWallets.length\"\r\n\t\t\t\t\t\t\t\t\t\t\t [wallets]=\"needOpenWallets\"></app-open-wallet-modal>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { AddWalletComponent } from './add-wallet/add-wallet.component';\r\nimport { CreateWalletComponent } from './create-wallet/create-wallet.component';\r\nimport { OpenWalletComponent } from './open-wallet/open-wallet.component';\r\nimport { OpenWalletModalComponent } from './open-wallet-modal/open-wallet-modal.component';\r\nimport { RestoreWalletComponent } from './restore-wallet/restore-wallet.component';\r\nimport { SeedPhraseComponent } from './seed-phrase/seed-phrase.component';\r\nimport { WalletDetailsComponent } from './wallet-details/wallet-details.component';\r\nimport { AssignAliasComponent } from './assign-alias/assign-alias.component';\r\nimport { EditAliasComponent } from './edit-alias/edit-alias.component';\r\nimport { TransferAliasComponent } from './transfer-alias/transfer-alias.component';\r\nimport { WalletComponent } from './wallet/wallet.component';\r\nimport { SendComponent } from './send/send.component';\r\nimport { ReceiveComponent } from './receive/receive.component';\r\nimport { HistoryComponent } from './history/history.component';\r\nimport { ContractsComponent } from './contracts/contracts.component';\r\nimport { PurchaseComponent } from './purchase/purchase.component';\r\nimport { StakingComponent } from './staking/staking.component';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { BackendService } from './_helpers/services/backend.service';\r\nimport { ModalService } from './_helpers/services/modal.service';\r\nimport { PaginationStore } from './_helpers/services/pagination.store';\r\nimport { Store } from 'store';\r\nimport { InputValidateDirective } from './_helpers/directives/input-validate/input-validate.directive';\r\nimport { ModalContainerComponent } from './_helpers/modals/modal-container/modal-container.component';\r\nimport { TransactionDetailsComponent } from './_helpers/directives/transaction-details/transaction-details.component';\r\nimport { ContextMenuModule } from 'ngx-contextmenu';\r\nimport { ChartModule, HIGHCHARTS_MODULES } from 'angular-highcharts';\r\nimport * as highcharts from 'highcharts';\r\nimport exporting from 'highcharts/modules/exporting.src';\r\nimport { InputDisableSelectionDirective } from './_helpers/directives/input-disable-selection/input-disable-selection.directive';\r\nimport { SendModalComponent } from './send-modal/send-modal.component';\r\nimport { ContactsComponent } from './contacts/contacts.component';\r\nimport { AddContactsComponent } from './add-contacts/add-contacts.component';\r\nimport { ContactSendComponent } from './contact-send/contact-send.component';\r\nimport { ExportImportComponent } from './export-import/export-import.component';\r\nimport { ExportHistoryModalComponent } from './_helpers/modals/export-history-modal/export-history-modal.component';\r\nimport { ContractsTabComponent } from './contracts/contracts-tab/contracts-tab.component';\r\nimport { SendDetailsModalComponent } from './send-details-modal/send-details-modal.component';\r\nimport { DisablePriceFetchModule } from './_shared/directives/disable-price-fetch/disable-price-fetch.module';\r\nimport { SharedModule } from './_shared/shared.module';\r\nimport { SynchronizationStatusModule } from './synchronization-status/synchronization-status.module';\r\nimport { TooltipModule } from './_helpers/directives/tooltip/tooltip.module';\r\nimport { WithSidebarLayoutModule } from './layouts/with-sidebar-layout/with-sidebar-layout.module';\r\nimport { FullLayoutModule } from './layouts/full-layout/full-layout.module';\r\nimport { PipesModule } from './_helpers/pipes/pipes.module';\r\nimport { ConfirmModalModule } from './_helpers/modals/confirm-modal/confirm-modal.module';\r\nimport { DeeplinkModule } from './deeplink/deeplink.module';\r\nimport { StakingSwitchModule } from './_helpers/directives/staking-switch/staking-switch.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { ScrollXModule } from './_shared/components/scroll-x/scroll-x.module';\r\nimport { CardTokenModule } from './_shared/components/card-token/card-token.module';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { AddCustomTokenModule } from './_helpers/modals/add-custom-token/add-custom-token.module';\r\nimport { ShortStringPipeModule } from './_shared/pipes/short-string-pipe/short-string-pipe.module';\r\nimport { IsAvailableAliasNamePipeModule } from './_shared/pipes/is-available-alias-name-pipe/is-available-alias-name-pipe.module';\r\nimport { CopyButtonModule } from './_shared/components/copy-button/copy-button.module';\r\n\r\nexport function HttpLoaderFactory(httpClient: HttpClient) {\r\n  return new TranslateHttpLoader(httpClient, './assets/i18n/', '.json');\r\n}\r\n\r\nexport function highchartsFactory() {\r\n  highcharts.setOptions({\r\n    time: {\r\n      useUTC: false\r\n    }\r\n  });\r\n\r\n  return [exporting];\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    SettingsComponent,\r\n    AddWalletComponent,\r\n    CreateWalletComponent,\r\n    OpenWalletComponent,\r\n    OpenWalletModalComponent,\r\n    RestoreWalletComponent,\r\n    SeedPhraseComponent,\r\n    WalletDetailsComponent,\r\n    AssignAliasComponent,\r\n    EditAliasComponent,\r\n    TransferAliasComponent,\r\n    WalletComponent,\r\n    SendComponent,\r\n    ReceiveComponent,\r\n    HistoryComponent,\r\n    ContractsComponent,\r\n    PurchaseComponent,\r\n    StakingComponent,\r\n    InputValidateDirective,\r\n    ModalContainerComponent,\r\n    TransactionDetailsComponent,\r\n    InputDisableSelectionDirective,\r\n    SendModalComponent,\r\n    ContactsComponent,\r\n    AddContactsComponent,\r\n    ContactSendComponent,\r\n    ExportImportComponent,\r\n    ExportHistoryModalComponent,\r\n    ContractsTabComponent,\r\n    SendDetailsModalComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgSelectModule,\r\n    ChartModule,\r\n    FlexLayoutModule,\r\n    DisablePriceFetchModule,\r\n    TooltipModule,\r\n    ConfirmModalModule,\r\n    PipesModule,\r\n    DeeplinkModule,\r\n    StakingSwitchModule,\r\n    FullLayoutModule,\r\n    WithSidebarLayoutModule,\r\n    SynchronizationStatusModule,\r\n    SharedModule,\r\n    ContextMenuModule.forRoot(),\r\n    ScrollXModule,\r\n    CardTokenModule,\r\n    OverlayModule,\r\n    AddCustomTokenModule,\r\n    ShortStringPipeModule,\r\n    IsAvailableAliasNamePipeModule,\r\n    CopyButtonModule\r\n  ],\r\n  providers: [\r\n    Store,\r\n    BackendService,\r\n    ModalService,\r\n    PaginationStore,\r\n    { provide: HIGHCHARTS_MODULES, useFactory: highchartsFactory }\r\n  ],\r\n  entryComponents: [\r\n    ModalContainerComponent,\r\n    SendModalComponent,\r\n    ExportHistoryModalComponent,\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { MoneyToIntPipe } from '../_helpers/pipes/money-to-int.pipe';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\nimport BigNumber from 'bignumber.js';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-assign-alias',\r\n  templateUrl: './assign-alias.component.html',\r\n  styleUrls: ['./assign-alias.component.scss']\r\n})\r\nexport class AssignAliasComponent implements OnInit, OnDestroy {\r\n  wallet: Wallet;\r\n\r\n  assignForm = new FormGroup({\r\n    name: new FormControl('', [Validators.required, Validators.pattern(/^@?[a-z\\d\\.\\-]{6,25}$/)]),\r\n    comment: new FormControl('', [(g: FormControl) => {\r\n      if (g.value > this.variablesService.maxCommentLength) {\r\n        return { 'maxLength': true };\r\n      } else {\r\n        return null;\r\n      }\r\n    }])\r\n  });\r\n\r\n  assignFormSubscription: Subscription;\r\n\r\n  alias = {\r\n    name: '',\r\n    fee: this.variablesService.default_fee,\r\n    price: new BigNumber(0),\r\n    reward: '0',\r\n    rewardOriginal: '0',\r\n    comment: '',\r\n    exists: false\r\n  };\r\n\r\n  canRegister = false;\r\n\r\n  notEnoughMoney = false;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private ngZone: NgZone,\r\n    private location: Location,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private moneyToInt: MoneyToIntPipe,\r\n    private intToMoney: IntToMoneyPipe\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.wallet = this.variablesService.currentWallet;\r\n    this.assignFormSubscription = this.assignForm.get('name').valueChanges.subscribe(value => {\r\n      this.canRegister = false;\r\n      this.alias.exists = false;\r\n      const newName = value.toLowerCase().replace('@', '');\r\n      if (!(this.assignForm.controls['name'].errors && this.assignForm.controls['name'].errors.hasOwnProperty(\r\n        'pattern')) && newName.length >= 6 && newName.length <= 25) {\r\n        this.backend.getAliasByName(newName, status => {\r\n          this.ngZone.run(() => {\r\n            this.alias.exists = status;\r\n          });\r\n          if (!status) {\r\n            this.alias.price = new BigNumber(0);\r\n            this.backend.getAliasCoast(newName, (statusPrice, dataPrice) => {\r\n              this.ngZone.run(() => {\r\n                if (statusPrice) {\r\n                  this.alias.price = BigNumber.sum(dataPrice['coast'], this.variablesService.default_fee_big);\r\n                }\r\n                this.notEnoughMoney = this.alias.price.isGreaterThan(this.wallet.unlocked_balance);\r\n                this.alias.reward = this.intToMoney.transform(this.alias.price, false);\r\n                this.alias.rewardOriginal = this.intToMoney.transform(dataPrice['coast'], false);\r\n                this.canRegister = !this.notEnoughMoney;\r\n              });\r\n            });\r\n          } else {\r\n            this.notEnoughMoney = false;\r\n            this.alias.reward = '0';\r\n            this.alias.rewardOriginal = '0';\r\n          }\r\n        });\r\n      } else {\r\n        this.notEnoughMoney = false;\r\n        this.alias.reward = '0';\r\n        this.alias.rewardOriginal = '0';\r\n      }\r\n      this.alias.name = newName;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.assignFormSubscription.unsubscribe();\r\n  }\r\n\r\n  assignAlias(): void {\r\n    const alias = this.backend.getWalletAlias(this.wallet.address);\r\n    if (alias.hasOwnProperty('name')) {\r\n      this.modalService.prepareModal('info', 'ASSIGN_ALIAS.ONE_ALIAS');\r\n    } else {\r\n      this.alias.comment = this.assignForm.get('comment').value;\r\n      this.backend.registerAlias(this.wallet.wallet_id, this.alias.name, this.wallet.address, this.alias.fee, this.alias.comment,\r\n        this.alias.rewardOriginal, (status) => {\r\n          if (status) {\r\n            this.wallet.wakeAlias = true;\r\n            this.modalService.prepareModal('info', 'ASSIGN_ALIAS.REQUEST_ADD_REG');\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/wallet/']);\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ASSIGN_ALIAS' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/wallet/history']\">{{ wallet.name }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'BREADCRUMBS.ASSIGN_ALIAS' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form [formGroup]=\"assignForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label [delay]=\"50\"\r\n\t\t\t\t\t\t\t\t for=\"alias-name\"\r\n\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t tooltip=\"{{ 'ASSIGN_ALIAS.NAME.TOOLTIP' | translate }}\"\r\n\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip assign-alias-tooltip\">\r\n\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.NAME.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div class=\"has-no-edit-symbol\">\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'ASSIGN_ALIAS.NAME.PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t\t id=\"alias-name\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"assignForm.controls['name'].invalid &&  (assignForm.controls['name'].dirty || assignForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t*ngIf=\"assignForm.controls['name'].errors['pattern'] && assignForm.get('name').value.length > 6 && assignForm.get('name').value.length <= 25\">\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_WRONG' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"assignForm.get('name').value.length <= 6 || assignForm.get('name').value.length > 25\">\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"assignForm.controls['name'].hasError('required')\">\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"alias.exists\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_EXISTS' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"notEnoughMoney\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.NO_MONEY' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field textarea\">\r\n\t\t\t\t\t<label [delay]=\"50\"\r\n\t\t\t\t\t\t\t\t for=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t tooltip=\"{{ 'ASSIGN_ALIAS.COMMENT.TOOLTIP' | translate }}\"\r\n\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip assign-alias-tooltip\">\r\n\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.COMMENT.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t\t[maxLength]=\"variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"scrolled-content\"\r\n\t\t\t\t\t\t\t\t\t\tformControlName=\"comment\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"{{ 'ASSIGN_ALIAS.COMMENT.PLACEHOLDER' | translate }}\">\r\n                    </textarea>\r\n\t\t\t\t\t<div *ngIf=\"assignForm.get('comment').value.length >= variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'ASSIGN_ALIAS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<p class=\"mb-2\">{{ \"ASSIGN_ALIAS.COST\" | translate : {\r\n\t\t\t\t\tvalue: alias.price | intToMoney, currency:\r\n\t\t\t\t\tvariablesService.defaultCurrency\r\n\t\t\t\t} }}</p>\r\n\r\n\t\t\t\t<button (click)=\"assignAlias()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!assignForm.valid || !canRegister || notEnoughMoney\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'ASSIGN_ALIAS.BUTTON_ASSIGN' | translate\r\n\t\t\t\t\t}}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-contact-send',\r\n  templateUrl: './contact-send.component.html',\r\n  styleUrls: ['./contact-send.component.scss']\r\n})\r\nexport class ContactSendComponent implements OnInit, OnDestroy {\r\n  queryRouting;\r\n\r\n  address;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private location: Location,\r\n    private route: ActivatedRoute,\r\n    private ngZone: NgZone,\r\n    private router: Router,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.address) {\r\n        this.address = params.address;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  goToWallet(id): void {\r\n    this.variablesService.setCurrentWallet(id);\r\n    this.variablesService.currentWallet.send_data['address'] = this.address;\r\n    this.ngZone.run(() => {\r\n      this.router.navigate(['/wallet/send'], { queryParams: { send: true } });\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'CONTACTS.TITLE' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/contacts']\">{{'CONTACTS.TITLE' | translate}}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'CONTACTS.SEND' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form class=\"form\">\r\n\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.SEND_FROM' | translate }}\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<ng-select [(ngModel)]=\"this.variablesService.selectWallet\"\r\n\t\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t [items]=\"this.variablesService.wallets\"\r\n\t\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t bindLabel=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t bindValue=\"wallet_id\"\r\n\t\t\t\t\t\t\t\t\t\t\t class=\"custom-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t name=\"wallets\">\r\n\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button [routerLink]=\"['/add-wallet']\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline w-100 mt-3 p-1\">\r\n\t\t\t\t\t\t\t{{ 'CONTACTS.OPEN_ADD_WALLET' | translate }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"address\">{{ 'CONTACTS.SEND_TO' | translate }}</label>\r\n\t\t\t\t\t<input [(ngModel)]=\"address\"\r\n\t\t\t\t\t\t\t\t [readonly]=\"true\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t id=\"address\"\r\n\t\t\t\t\t\t\t\t name=\"address\"\r\n\t\t\t\t\t\t\t\t type=\"text\"/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button (click)=\"goToWallet(this.variablesService.selectWallet)\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!(this.variablesService.selectWallet === 0 || this.variablesService.selectWallet)\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t{{'CONTACTS.BUTTON.GO_TO_WALLET' | translate }}\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\n\r\n@Component({\r\n  selector: 'app-contacts',\r\n  templateUrl: './contacts.component.html',\r\n  styleUrls: ['./contacts.component.scss']\r\n})\r\nexport class ContactsComponent implements OnInit {\r\n  @ViewChild('head', { static: true }) head: ElementRef;\r\n\r\n  calculatedWidth = [];\r\n\r\n  constructor(\r\n    private location: Location,\r\n    public variablesService: VariablesService,\r\n    private backend: BackendService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.backend.getContactAlias();\r\n  }\r\n\r\n  delete(index: number): void {\r\n    if (this.variablesService.appPass) {\r\n      this.variablesService.contacts.splice(index, 1);\r\n      this.backend.storeSecureAppData();\r\n    }\r\n  }\r\n\r\n  calculateWidth(): void {\r\n    this.calculatedWidth = [];\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[0].clientWidth\r\n    );\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[1].clientWidth +\r\n      this.head.nativeElement.childNodes[2].clientWidth\r\n    );\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[3].clientWidth\r\n    );\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[4].clientWidth\r\n    );\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'CONTACTS.TITLE' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div fxFlex=\"1 1 auto\" fxLayout=\"row\">\r\n\t\t\t<ng-container *ngIf=\"this.variablesService.contacts.length !== 0; else emptyList\">\r\n\t\t\t\t<div class=\"contacts w-100\"\r\n\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"start stretch\"\r\n\t\t\t\t\t\t fxLayoutGap=\"2rem\">\r\n\t\t\t\t\t<div class=\"wrap-table scrolled-content\"\r\n\t\t\t\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t\t\t<table class=\"contacts-table\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr #head\r\n\t\t\t\t\t\t\t\t\t(window:resize)=\"calculateWidth()\">\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">{{ 'CONTACTS.TABLE.NAME' | translate }}</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">{{ 'CONTACTS.TABLE.ALIAS' | translate }}</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">{{ 'CONTACTS.TABLE.ADDRESS' | translate }}</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">{{ 'CONTACTS.TABLE.NOTES' | translate }}</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t<div class=\"bg title\">&nbsp;</div>\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<ng-container *ngFor=\"let contact of this.variablesService.contacts; let i = index\">\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{{ contact.name }}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"contact.alias\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{{ contact.alias }}</span>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, contact.address)\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"remote-address\">\r\n\t\t\t\t\t\t\t\t\t\t{{ contact.address | slice:0:6 }}...{{ contact.address | slice:-6 }}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td class=\"remote-notes\">\r\n\t\t\t\t\t\t\t\t\t\t{{ contact.notes }}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"button-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button [queryParams]=\"{ address: contact.address }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/contact-send/' + i]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon small circle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon arrow-up-square\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button [queryParams]=\"{ id: i }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/edit-contacts/' + i]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon small circle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon edit-square\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button (click)=\"delete(i)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon small circle\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon delete\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ng-container *ngTemplateOutlet=\"tempButtonAdd\"></ng-container>\r\n\t\t\t\t</div>\r\n\t\t\t</ng-container>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<ng-template #emptyList>\r\n\t<div class=\"empty-list w-100\"\r\n\t\t\t fxLayout=\"column\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<h4 class=\"mb-2\">{{ 'CONTACTS.TABLE.EMPTY' | translate }}</h4>\r\n\t\t<ng-container *ngTemplateOutlet=\"tempButtonAdd\"></ng-container>\r\n\t</div>\r\n</ng-template>\r\n\r\n<ng-template #tempButtonAdd>\r\n\t<button [routerLink]=\"['/add-contacts']\"\r\n\t\t\t\t\tclass=\"primary big w-100 max-w-19-rem\">\r\n\t\t{{ 'CONTACTS.BUTTON.ADD' | translate }}\r\n\t</button>\r\n</ng-template>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-contracts-tab',\r\n  templateUrl: './contracts-tab.component.html',\r\n  styleUrls: ['./contracts-tab.component.scss']\r\n})\r\nexport class ContractsTabComponent {\r\n}\r\n","<router-outlet></router-outlet>\r\n","import { Component } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-contracts',\r\n  templateUrl: './contracts.component.html',\r\n  styleUrls: ['./contracts.component.scss']\r\n})\r\nexport class ContractsComponent {\r\n  constructor(\r\n    public variablesService: VariablesService\r\n  ) {\r\n  }\r\n\r\n  get sortedArrayContracts(): any[] {\r\n    return this.variablesService.currentWallet.contracts.sort((a, b) => {\r\n      if (a.is_new < b.is_new) {\r\n        return 1;\r\n      }\r\n      if (a.is_new > b.is_new) {\r\n        return -1;\r\n      }\r\n      if (a.timestamp < b.timestamp) {\r\n        return 1;\r\n      }\r\n      if (a.timestamp > b.timestamp) {\r\n        return -1;\r\n      }\r\n      if (a.contract_id < b.contract_id) {\r\n        return 1;\r\n      }\r\n      if (a.contract_id > b.contract_id) {\r\n        return -1;\r\n      }\r\n      return 0;\r\n    });\r\n  }\r\n}\r\n","<div *ngIf=\"variablesService.currentWallet.contracts.length; else emptyContracts\"\r\n\t\t class=\"container\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\">\r\n\t<div class=\"wrap-table scrolled-content mb-2\"\r\n\t\t\t fxFlex=\"1 1 auto\">\r\n\t\t<table class=\"contracts-table\">\r\n\t\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.CONTRACTS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.DATE' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.AMOUNT' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.STATUS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'CONTRACTS.COMMENTS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t</tr>\r\n\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t<ng-container *ngFor=\"let item of sortedArrayContracts\">\r\n\t\t\t\t<tr [routerLink]=\"'/wallet/contracts/purchase/' + item.contract_id\">\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div class=\"contract\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t\t\t\t\t<i *ngIf=\"!item.is_new\"\r\n\t\t\t\t\t\t\t\t class=\"icon alert mr-1\"></i>\r\n\t\t\t\t\t\t\t<i *ngIf=\"item.is_new\"\r\n\t\t\t\t\t\t\t\t class=\"icon new mr-1\"></i>\r\n\t\t\t\t\t\t\t<i [class.purchase-arrow-down]=\"item.is_a\"\r\n\t\t\t\t\t\t\t\t [class.purchase-arrow-up]=\"!item.is_a\"\r\n\t\t\t\t\t\t\t\t class=\"icon mr-1\"></i>\r\n\t\t\t\t\t\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-left\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ item.private_detailes.t }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip\">{{item.private_detailes.t}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div>{{item.timestamp * 1000 | date : 'dd-MM-yyyy HH:mm'}}</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div>{{item.private_detailes.to_pay | intToMoney}} {{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div [class.color-red]=\"item.state === 4\"\r\n\t\t\t\t\t\t\t\t [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t class=\"status\"\r\n\t\t\t\t\t\t\t\t placement=\"top\"\r\n\t\t\t\t\t\t\t\t tooltip=\"{{item.state | contractStatusMessages : item.is_a}}\"\r\n\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\">\r\n\t\t\t\t\t\t\t{{item.state | contractStatusMessages : item.is_a}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t [showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t\t\t\t class=\"comment\"\r\n\t\t\t\t\t\t\t\t placement=\"top-right\"\r\n\t\t\t\t\t\t\t\t tooltip=\"{{ item.private_detailes.c }}\"\r\n\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\">\r\n\t\t\t\t\t\t\t{{item.private_detailes.c}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t</ng-container>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n\t<div class=\"buttons-wrap w-100\"\r\n\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t<button [routerLink]=\"'/wallet/contracts/purchase'\"\r\n\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t'CONTRACTS.PURCHASE_BUTTON' | translate }}</button>\r\n\t</div>\r\n</div>\r\n\r\n<ng-template #emptyContracts>\r\n\t<div class=\"container\"\r\n\t\t\t fxFlexFill\r\n\t\t\t fxLayout=\"column\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<span class=\"mb-2\">{{ 'CONTRACTS.EMPTY' | translate }}</span>\r\n\t\t<button [routerLink]=\"'/wallet/contracts/purchase'\"\r\n\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t'CONTRACTS.PURCHASE_BUTTON' | translate }}</button>\r\n\t</div>\r\n</ng-template>\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Router } from '@angular/router';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-create-wallet',\r\n  templateUrl: './create-wallet.component.html',\r\n  styleUrls: ['./create-wallet.component.scss']\r\n})\r\nexport class CreateWalletComponent {\r\n  createForm = new FormGroup({\r\n    name: new FormControl('', [Validators.required, (g: FormControl) => {\r\n      for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n        if (g.value === this.variablesService.wallets[i].name) {\r\n          return { 'duplicate': true };\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    password: new FormControl('', Validators.pattern(this.variablesService.pattern)),\r\n    confirm: new FormControl('')\r\n  }, function (g: FormGroup) {\r\n    return g.get('password').value === g.get('confirm').value ? null : { 'confirm_mismatch': true };\r\n  });\r\n\r\n  wallet = {\r\n    id: ''\r\n  };\r\n\r\n  walletSaved = false;\r\n\r\n  walletSavedName = '';\r\n\r\n  progressWidth = '9rem';\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService,\r\n    private location: Location,\r\n  ) {\r\n  }\r\n\r\n  createWallet(): void {\r\n    this.ngZone.run(() => {\r\n      this.progressWidth = '100%';\r\n      this.router.navigate(['/seed-phrase'], { queryParams: { wallet_id: this.wallet.id } });\r\n    });\r\n  }\r\n\r\n  saveWallet(): void {\r\n    if (this.createForm.valid && this.createForm.get('name').value.length <= this.variablesService.maxWalletNameLength) {\r\n      this.backend.saveFileDialog(this.translate.instant('CREATE_WALLET.TITLE_SAVE'), '*', this.variablesService.settings.default_path,\r\n        (file_status, file_data) => {\r\n          if (file_status) {\r\n            this.variablesService.settings.default_path = file_data.path.substr(0, file_data.path.lastIndexOf('/'));\r\n            this.walletSavedName = file_data.path.substr(file_data.path.lastIndexOf('/') + 1, file_data.path.length - 1);\r\n            this.backend.generateWallet(file_data.path, this.createForm.get('password').value,\r\n              (generate_status, generate_data, errorCode) => {\r\n                if (generate_status) {\r\n                  this.wallet.id = generate_data.wallet_id;\r\n                  this.variablesService.opening_wallet = new Wallet(\r\n                    generate_data.wallet_id,\r\n                    this.createForm.get('name').value,\r\n                    this.createForm.get('password').value,\r\n                    generate_data['wi'].path,\r\n                    generate_data['wi'].address,\r\n                    generate_data['wi'].balance,\r\n                    generate_data['wi'].unlocked_balance,\r\n                    generate_data['wi'].mined_total,\r\n                    generate_data['wi'].tracking_hey\r\n                  );\r\n                  this.variablesService.opening_wallet.alias = this.backend.getWalletAlias(generate_data['wi'].address);\r\n                  this.variablesService.opening_wallet.total_history_item = 0;\r\n                  this.variablesService.opening_wallet.pages = new Array(1).fill(1);\r\n                  this.variablesService.opening_wallet.totalPages = 1;\r\n                  this.variablesService.opening_wallet.currentPage = 1;\r\n                  this.ngZone.run(() => {\r\n                    this.walletSaved = true;\r\n                    this.progressWidth = '33%';\r\n                  });\r\n                } else {\r\n                  if (errorCode && errorCode === 'ALREADY_EXISTS') {\r\n                    this.modalService.prepareModal('error', 'CREATE_WALLET.ERROR_CANNOT_SAVE_TOP');\r\n                  } else {\r\n                    this.modalService.prepareModal('error', 'CREATE_WALLET.ERROR_CANNOT_SAVE_SYSTEM');\r\n                  }\r\n                }\r\n              });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/add-wallet']\">{{'BREADCRUMBS.ADD_WALLET' | translate }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{'BREADCRUMBS.CREATE_WALLET' | translate}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form [formGroup]=\"createForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-name\">{{'CREATE_WALLET.NAME' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [maxlength]=\"variablesService.maxWalletNameLength + ''\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"createForm.controls['name'].invalid && (createForm.controls['name'].dirty || createForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"createForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t{{ 'CREATE_WALLET.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"createForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'CREATE_WALLET.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"createForm.get('name').value.length >= variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'CREATE_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-password\">{{ 'CREATE_WALLET.PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_NEW' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"createForm.controls['password'].dirty && createForm.controls['password'].errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"createForm.controls['password'].errors.pattern\">\r\n\t\t\t\t\t\t\t{{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"confirm-wallet-password\">{{ 'CREATE_WALLET.CONFIRM' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [class.invalid]=\"createForm.errors && createForm.errors['confirm_mismatch'] && createForm.get('confirm').value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"confirm\"\r\n\t\t\t\t\t\t\t\t id=\"confirm-wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"createForm.controls['confirm'].dirty && createForm.controls['confirm'].dirty && createForm.errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"createForm.errors['confirm_mismatch'] && createForm.get('confirm').value.length > 0\">\r\n\t\t\t\t\t\t\t{{ 'CREATE_WALLET.FORM_ERRORS.CONFIRM_NOT_MATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button *ngIf=\"walletSaved\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\ttype=\"button\"><i class=\"icon check-circle mr-1\"></i>{{walletSavedName}}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<button (click)=\"saveWallet()\"\r\n\t\t\t\t\t\t\t\t*ngIf=\"!walletSaved\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!createForm.valid\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'CREATE_WALLET.BUTTON_SELECT' | translate }}</button>\r\n\r\n\t\t\t\t<button (click)=\"createWallet()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!walletSaved\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t\t\t'CREATE_WALLET.BUTTON_CREATE' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, HostBinding, NgZone, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { DeeplinkParams, PushOffer, Wallet } from '../_helpers/models/wallet.model';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { MIXIN } from '../_shared/constants';\r\nimport { Subject } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-deeplink-modal',\r\n  templateUrl: './deeplink-modal.component.html',\r\n  styleUrls: ['./deeplink-modal.component.scss']\r\n})\r\nexport class DeeplinkModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  secondStep = false;\r\n\r\n  walletToPayId = 0;\r\n\r\n  nextStepInterval;\r\n\r\n  marketplaceModalShow = true;\r\n\r\n  copyAnimation = false;\r\n\r\n  marketplaceConfirmHash: any = null;\r\n\r\n  actionData: DeeplinkParams = {};\r\n\r\n  defaultMixin = MIXIN;\r\n\r\n  walletsToPay: Array<Wallet> = [];\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private _router: Router,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private renderer: Renderer2\r\n  ) {\r\n    this.walletsToPay = this.variablesService.wallets.filter(wallet => !wallet.is_watch_only || !wallet.is_auditable);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n\r\n    this.variablesService.deeplink$\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe((deeplink) => {\r\n        this.actionData = {};\r\n\r\n        if (deeplink) {\r\n          if (!this.walletsToPay.length) {\r\n            this.canselAction();\r\n            return;\r\n          }\r\n          this.actionData = this.parseDeeplink(deeplink);\r\n          if (this.walletsToPay.length === 1) {\r\n            this.walletToPayId = this.walletsToPay[0].wallet_id;\r\n            const { daemon_state, sync_started } = this.variablesService;\r\n\r\n            if (daemon_state === 2 && sync_started === false) {\r\n              this.nextStep();\r\n            } else {\r\n              this.nextStepInterval = setInterval(() => {\r\n                if (daemon_state === 2 && sync_started === false) {\r\n                  this.nextStep();\r\n                  clearInterval(this.nextStepInterval);\r\n                }\r\n              }, 1500);\r\n            }\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.variablesService.deeplink$.next(null);\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  parseDeeplink(deeplink): DeeplinkParams {\r\n    const quotesRex = new RegExp(/'|\"|”|%E2%80%9D|%22/g);\r\n    const spaceSymbolRex = new RegExp(/%20/g);\r\n    const newObj = {};\r\n\r\n    const newString = deeplink.substr(5); // delete zano:;\r\n    newString.split('&').forEach((str) => {\r\n      const [key, value] = str.split('=');\r\n      newObj[key] = value.replace(quotesRex, '').replace(spaceSymbolRex, ' ').trim();\r\n    });\r\n    return newObj;\r\n  }\r\n\r\n  canselAction(): void {\r\n    this.variablesService.deeplink$.next(null);\r\n    this.variablesService.sendActionData$.next({});\r\n    this.actionData = {};\r\n    this.secondStep = false;\r\n  }\r\n\r\n  marketplaceSend(): void {\r\n    const offerObject: PushOffer = {\r\n      wallet_id: this.walletToPayId,\r\n      od: {\r\n        ap: this.actionData.price || '',\r\n        at: '1',\r\n        cat: this.actionData.category || '',\r\n        cnt: this.actionData.contact || '',\r\n        com: this.actionData.comment || this.actionData.comments || '',\r\n        do: this.actionData.description || '',\r\n        et: 10,\r\n        fee: new BigNumber('' + ((+this.actionData.fee || +this.variablesService.default_fee) * 1000000000000)),\r\n        lci: '',\r\n        lco: 'World Wide',\r\n        ot: 1,\r\n        pt: 'Credit cards, BTC, ZANO, ETH',\r\n        t: this.actionData.title || '',\r\n        url: this.actionData.url || this.actionData.img_url || '',\r\n      },\r\n    };\r\n    this.backend.push_offer(offerObject, (status, data) => {\r\n      this.ngZone.run(() => {\r\n        if (data.success) {\r\n          this.marketplaceModalShow = false;\r\n          this.marketplaceConfirmHash = data.tx_hash;\r\n        } else {\r\n          this.canselAction();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  copyHash(): void {\r\n    this.backend.setClipboard(this.marketplaceConfirmHash);\r\n    this.copyAnimation = true;\r\n    setTimeout(() => this.copyAnimation = false, 2000);\r\n  }\r\n\r\n  nextStep(): void {\r\n    if (this.actionData.action === 'send') {\r\n      this.variablesService.sendActionData$.next(this.actionData);\r\n      this.variablesService.deeplink$.next(null);\r\n      this.variablesService.setCurrentWallet(this.walletToPayId);\r\n      this._router.navigate(['/wallet/send']).then();\r\n      this.secondStep = false;\r\n    } else if (this.actionData.action === 'escrow') {\r\n      this.variablesService.sendActionData$.next(this.actionData);\r\n      this.variablesService.deeplink$.next(null);\r\n      this.variablesService.setCurrentWallet(this.walletToPayId);\r\n      this._router.navigate(['/wallet/contracts/purchase']).then();\r\n      this.secondStep = false;\r\n\r\n    } else {\r\n      this.secondStep = true;\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-h-100\"\r\n\t\t fxFlex=\"0 1 54rem\"\r\n\t\t fxLayout=\"column\">\r\n\t<ng-container *ngIf=\"walletsToPay.length > 1 && !secondStep\">\r\n\t\t<div class=\"content mb-2\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"form__field\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\">\r\n\t\t\t\t<label>Select wallet for action:</label>\r\n\t\t\t\t<ng-select [(ngModel)]=\"walletToPayId\"\r\n\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t [items]=\"walletsToPay\"\r\n\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t bindLabel=\"name\"\r\n\t\t\t\t\t\t\t\t\t bindValue=\"wallet_id\">\r\n\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t</ng-select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\"\r\n\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">{{ 'EXPORT_HISTORY.CANCEL' | translate }}</button>\r\n\t\t\t<button (click)=\"nextStep()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"submit\">Next...\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</ng-container>\r\n\r\n\t<ng-container *ngIf=\"secondStep && marketplaceModalShow && actionData.action === 'marketplace_offer_create'\">\r\n\t\t<h4 class=\"mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">\r\n\t\t\tCreating a marketplace offer\r\n\t\t</h4>\r\n\t\t<div class=\"content scrolled-content mb-2\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"table-info\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Offer title' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{ actionData.title }}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Description' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{ actionData.description }}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Category' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{ actionData.category }}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Price' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.price}} {{this.variablesService.defaultCurrency}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Preview url' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.url || actionData.img_url}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Contacts' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.contact}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Comments' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.comment || actionData.comments}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Mixins' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">{{actionData.mixins || defaultMixin}}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Transaction fee' | translate }}</div>\r\n\t\t\t\t\t<div class=\"text\">\r\n\t\t\t\t\t\t{{actionData.price * (actionData.fee || this.variablesService.default_fee)}}\r\n\t\t\t\t\t\t{{this.variablesService.defaultCurrency}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\"\r\n\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">{{ 'EXPORT_HISTORY.CANCEL' | translate }}</button>\r\n\t\t\t<button (click)=\"marketplaceSend()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"submit\">Sign & Send...\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t</ng-container>\r\n\r\n\t<ng-container *ngIf=\"marketplaceConfirmHash\">\r\n\t\t<h4 class=\"mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">\r\n\t\t\tOperation successful\r\n\t\t</h4>\r\n\r\n\t\t<div class=\"content scrolled-content mb-2\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"table-info\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'Operation hash' | translate }}</div>\r\n\t\t\t\t\t<div (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, marketplaceConfirmHash)\"\r\n\t\t\t\t\t\t\t class=\"text\"\r\n\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t{{marketplaceConfirmHash}}\r\n\t\t\t\t\t\t<i (click)=\"copyHash()\"\r\n\t\t\t\t\t\t\t [class.check]=\"copyAnimation\"\r\n\t\t\t\t\t\t\t [class.copy]=\"!copyAnimation\"\r\n\t\t\t\t\t\t\t class=\"icon ml-1\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\tClose\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</ng-container>\r\n\r\n\t<ng-container *ngIf=\"!walletsToPay.length\">\r\n\t\t<h4 class=\"mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">\r\n\t\t\tYour wallets have not loaded yet. Try this action a little later.\r\n\t\t</h4>\r\n\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t<button (click)=\"canselAction()\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\tOk\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</ng-container>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DeeplinkModalComponent } from './deeplink-modal.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [DeeplinkModalComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NgSelectModule,\r\n    FormsModule,\r\n    FlexLayoutModule,\r\n    TranslateModule\r\n  ],\r\n  exports: [DeeplinkModalComponent],\r\n  entryComponents: [DeeplinkModalComponent]\r\n})\r\nexport class DeeplinkModalModule {\r\n}\r\n","import { delay, takeUntil } from 'rxjs/operators';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-deeplink',\r\n  templateUrl: './deeplink.component.html',\r\n  styleUrls: ['./deeplink.component.scss']\r\n})\r\nexport class DeeplinkComponent implements OnInit, OnDestroy {\r\n  deeplink$ = new BehaviorSubject<string | null>(null);\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.variablesService.deeplink$\r\n      .pipe(delay(200), takeUntil(this.destroy$))\r\n      .subscribe((data) => {\r\n        this.deeplink$.next(data);\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<ng-container *ngIf=\"deeplink$ | async\">\r\n\t<app-deeplink-modal\r\n\t\t*ngIf=\"(variablesService?.daemon_state === 2 || !variablesService?.sync_started)\"></app-deeplink-modal>\r\n\r\n\t<app-sync-modal *ngIf=\"(variablesService?.daemon_state !== 2 || variablesService?.sync_started)\">\r\n\t</app-sync-modal>\r\n</ng-container>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DeeplinkModalModule } from '../deeplink-modal/deeplink-modal.module';\r\nimport { SyncModalModule } from '../_helpers/modals/sync-modal/sync-modal.module';\r\nimport { DeeplinkComponent } from './deeplink.component';\r\n\r\n@NgModule({\r\n  declarations: [DeeplinkComponent],\r\n  imports: [\r\n    CommonModule,\r\n    DeeplinkModalModule,\r\n    SyncModalModule\r\n  ],\r\n  exports: [DeeplinkComponent, DeeplinkModalModule, SyncModalModule],\r\n  entryComponents: [DeeplinkComponent]\r\n})\r\nexport class DeeplinkModule {\r\n}\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\n\r\n@Component({\r\n  selector: 'app-edit-alias',\r\n  templateUrl: './edit-alias.component.html',\r\n  styleUrls: ['./edit-alias.component.scss']\r\n})\r\nexport class EditAliasComponent implements OnInit {\r\n  wallet: Wallet;\r\n\r\n  alias: any;\r\n\r\n  oldAliasComment: string;\r\n\r\n  notEnoughMoney: boolean;\r\n\r\n  requestProcessing = false;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private location: Location,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.wallet = this.variablesService.currentWallet;\r\n    const alias = this.backend.getWalletAlias(this.wallet.address);\r\n    this.alias = {\r\n      name: alias.name,\r\n      address: alias.address,\r\n      comment: alias.comment\r\n    };\r\n    this.oldAliasComment = alias.comment;\r\n    this.notEnoughMoney = this.wallet.unlocked_balance.isLessThan(this.variablesService.default_fee_big);\r\n  }\r\n\r\n  updateAlias(): void {\r\n    if (this.requestProcessing || this.notEnoughMoney || this.oldAliasComment === this.alias.comment || this.alias.comment.length > this.variablesService.maxCommentLength) {\r\n      return;\r\n    }\r\n    this.requestProcessing = true;\r\n    this.backend.updateAlias(this.wallet.wallet_id, this.alias, this.variablesService.default_fee, (status) => {\r\n      if (status) {\r\n        this.modalService.prepareModal('success', '');\r\n        this.wallet.alias['comment'] = this.alias.comment;\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/wallet/']);\r\n        });\r\n      }\r\n      this.requestProcessing = false;\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.EDIT_ALIAS' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/wallet/history']\">{{ wallet.name }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'BREADCRUMBS.EDIT_ALIAS' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form class=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"alias-name\">\r\n\t\t\t\t\t\t{{ 'EDIT_ALIAS.NAME.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input [value]=\"alias.name\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t id=\"alias-name\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'EDIT_ALIAS.NAME.PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field textarea\">\r\n\t\t\t\t\t<label for=\"alias-comment\">\r\n\t\t\t\t\t\t{{ 'EDIT_ALIAS.COMMENT.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]=\"alias.comment\"\r\n\t\t\t\t\t\t\t\t\t\t[maxlength]=\"variablesService.maxCommentLength + ''\"\r\n\t\t\t\t\t\t\t\t\t\t[ngModelOptions]=\"{standalone: true}\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"{{ 'EDIT_ALIAS.COMMENT.PLACEHOLDER' | translate }}\">\r\n            </textarea>\r\n\t\t\t\t\t<div *ngIf=\"alias.comment.length > 0 && notEnoughMoney\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'EDIT_ALIAS.FORM_ERRORS.NO_MONEY' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"alias.comment.length >= variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'EDIT_ALIAS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"alias-cost mb-2\">{{ \"EDIT_ALIAS.COST\" | translate : {\r\n\t\t\t\t\tvalue: variablesService.default_fee, currency:\r\n\t\t\t\t\tvariablesService.defaultCurrency\r\n\t\t\t\t} }}</div>\r\n\r\n\t\t\t\t<button (click)=\"updateAlias()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"notEnoughMoney || (oldAliasComment === alias.comment) || alias.comment.length > variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t\t\t'EDIT_ALIAS.BUTTON_EDIT' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { Contact } from '../_helpers/models/contact.model';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Papa } from 'ngx-papaparse';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-export-import',\r\n  templateUrl: './export-import.component.html',\r\n  styleUrls: ['./export-import.component.scss']\r\n})\r\nexport class ExportImportComponent {\r\n  constructor(\r\n    private location: Location,\r\n    private variablesService: VariablesService,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private papa: Papa,\r\n    private translate: TranslateService,\r\n    private router: Router,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  import(): void {\r\n    this.backend.openFileDialog(\r\n      '',\r\n      '*',\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (file_status) {\r\n          this.variablesService.settings.default_path = file_data.path.substr(\r\n            0,\r\n            file_data.path.lastIndexOf('/')\r\n          );\r\n          if (this.isValid(file_data.path)) {\r\n            this.backend.loadFile(file_data.path, (status, data) => {\r\n              if (!status) {\r\n                this.modalService.prepareModal(\r\n                  'error',\r\n                  'CONTACTS.ERROR_IMPORT_EMPTY'\r\n                );\r\n              } else {\r\n                const options = {\r\n                  header: true\r\n                };\r\n                const elements = this.papa.parse(data, options);\r\n                const isArray = Array.isArray(elements.data);\r\n                if (isArray && elements.data.length !== 0 && !elements.errors.length) {\r\n                  if (!this.variablesService.contacts.length) {\r\n                    elements.data.forEach(element => {\r\n                      this.variablesService.contacts.push(element);\r\n                    });\r\n                  } else {\r\n                    elements.data.forEach(element => {\r\n                      const indexName = this.variablesService.contacts.findIndex(\r\n                        contact => contact.name === element.name\r\n                      );\r\n                      const indexAddress = this.variablesService.contacts.findIndex(\r\n                        contact => contact.address === element.address\r\n                      );\r\n                      if (indexAddress === -1 && indexName === -1) {\r\n                        this.variablesService.contacts.push(element);\r\n                      }\r\n                      if (indexName !== -1 && indexAddress === -1) {\r\n                        this.variablesService.contacts.push({\r\n                          name: `${ element.name } ${ this.translate.instant(\r\n                            'CONTACTS.COPY'\r\n                          ) }`,\r\n                          address: element.address,\r\n                          notes: element.notes\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                  this.backend.getContactAlias();\r\n                  this.ngZone.run(() => {\r\n                    this.router.navigate(['/contacts']);\r\n                  });\r\n                }\r\n                if (elements.errors.length) {\r\n                  this.modalService.prepareModal(\r\n                    'error',\r\n                    'CONTACTS.ERROR_IMPORT'\r\n                  );\r\n                  console.log(elements.errors);\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            this.modalService.prepareModal('error', 'CONTACTS.ERROR_TYPE_FILE');\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  export(): void {\r\n    const contacts: Array<Contact> = [];\r\n    this.variablesService.contacts.forEach(contact => {\r\n      delete contact.alias;\r\n      contacts.push(contact);\r\n    });\r\n\r\n    this.backend.saveFileDialog(\r\n      '',\r\n      '*',\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (!this.variablesService.contacts.length && !(file_data.error_code === 'CANCELED')) {\r\n          this.modalService.prepareModal('error', 'CONTACTS.ERROR_EMPTY_LIST');\r\n        }\r\n        const path = this.isValid(file_data.path) ? file_data.path : `${ file_data.path }.csv`;\r\n        if (file_status && this.isValid(path) && this.variablesService.contacts.length) {\r\n          this.backend.storeFile(path, this.papa.unparse(contacts));\r\n        }\r\n        if (!(file_data.error_code === 'CANCELED') && !this.isValid(path)) {\r\n          this.modalService.prepareModal('error', 'CONTACTS.ERROR_EXPORT');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  isValid(file): boolean {\r\n    return file.endsWith('.csv');\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'CONTACTS.IMPORT_EXPORT' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<div class=\"controls flex\">\r\n\t\t\t\t<button (click)=\"import()\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100 mr-1\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t{{ 'CONTACTS.IMPORT' | translate }}\r\n\t\t\t\t</button>\r\n\t\t\t\t<button (click)=\"export()\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t{{ 'CONTACTS.EXPORT' | translate }}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { AfterViewChecked, Component, ElementRef, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Transaction } from '../_helpers/models/transaction.model';\r\nimport BigNumber from 'bignumber.js';\r\nimport { PaginationService } from '../_helpers/services/pagination.service';\r\nimport { PaginationStore } from '../_helpers/services/pagination.store';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { Subject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-history',\r\n  templateUrl: './history.component.html',\r\n  styleUrls: ['./history.component.scss']\r\n})\r\nexport class HistoryComponent implements OnInit, OnDestroy, AfterViewChecked {\r\n  @ViewChild('head', { static: true }) head: ElementRef;\r\n\r\n  parentRouting;\r\n\r\n  openedDetails = '';\r\n\r\n  calculatedWidth = [];\r\n\r\n  stop_paginate = false;\r\n\r\n  mining = false;\r\n\r\n  wallet: Wallet;\r\n\r\n  x = new BigNumber(3);\r\n\r\n  y = new BigNumber(0.2);\r\n\r\n  private destroy$: Subject<void> = new Subject<void>();\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    public variablesService: VariablesService,\r\n    private pagination: PaginationService,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private paginationStore: PaginationStore,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.parentRouting = this.route.parent.params.subscribe(() => {\r\n      this.openedDetails = '';\r\n    });\r\n    let restore = false;\r\n    if (this.variablesService.after_sync_request.hasOwnProperty(this.variablesService.currentWallet.wallet_id)) {\r\n      restore = this.variablesService.after_sync_request[this.variablesService.currentWallet.wallet_id];\r\n    }\r\n    if (!this.variablesService.sync_started && restore && this.variablesService.currentWallet.wallet_id) {\r\n      this.wallet = this.variablesService.getNotLoadedWallet();\r\n      if (this.wallet) {\r\n        this.tick();\r\n      }\r\n      // if this is was restore wallet and it was selected on moment when sync completed\r\n      this.getRecentTransfers();\r\n      this.variablesService.after_sync_request[this.variablesService.currentWallet.wallet_id] = false;\r\n    }\r\n    let after_sync_request = false;\r\n    if (\r\n      this.variablesService.after_sync_request.hasOwnProperty(this.variablesService.currentWallet.wallet_id)\r\n    ) {\r\n      after_sync_request = this.variablesService.after_sync_request[\r\n        this.variablesService.currentWallet.wallet_id\r\n        ];\r\n    }\r\n    if (after_sync_request && !this.variablesService.sync_started) {\r\n      // if user click on the wallet at the first time after restore.\r\n      this.getRecentTransfers();\r\n    }\r\n\r\n    if (this.variablesService.stop_paginate.hasOwnProperty(this.variablesService.currentWallet.wallet_id)) {\r\n      this.stop_paginate = this.variablesService.stop_paginate[this.variablesService.currentWallet.wallet_id];\r\n    } else {\r\n      this.stop_paginate = false;\r\n    }\r\n    // this will hide pagination a bit earlier\r\n    this.wallet = this.variablesService.getNotLoadedWallet();\r\n    if (this.wallet) {\r\n      this.tick();\r\n    }\r\n\r\n    this.variablesService\r\n      .getWalletChangedEvent\r\n      .pipe(\r\n        filter(w => !!w),\r\n        takeUntil(this.destroy$)\r\n      ).subscribe((currentWallet: Wallet) => {\r\n      this.mining = currentWallet.exclude_mining_txs;\r\n    });\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    this.calculateWidth();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.parentRouting.unsubscribe();\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  strokeSize(item): number {\r\n    const rem = this.variablesService.settings.scale;\r\n    if ((this.variablesService.height_app - item.height >= 10 && item.height !== 0) || (item.is_mining === true && item.height === 0)) {\r\n      return 0;\r\n    } else {\r\n      if (item.height === 0 || this.variablesService.height_app - item.height < 0) {\r\n        return (4.5 * parseInt(rem, 10));\r\n      } else {\r\n        return ((4.5 * parseInt(rem, 10)) - (((4.5 * parseInt(rem, 10)) / 100) * ((this.variablesService.height_app - item.height) * 10)));\r\n      }\r\n    }\r\n  }\r\n\r\n  resetPaginationValues(): void {\r\n    this.ngZone.run(() => {\r\n      const total_history_item = this.variablesService.currentWallet\r\n        .total_history_item;\r\n      const count = this.variablesService.count;\r\n      this.variablesService.currentWallet.totalPages = Math.ceil(\r\n        total_history_item / count\r\n      );\r\n      this.variablesService.currentWallet.exclude_mining_txs = this.mining;\r\n      this.variablesService.currentWallet.currentPage = 1;\r\n\r\n      if (!this.variablesService.currentWallet.totalPages) {\r\n        this.variablesService.currentWallet.totalPages = 1;\r\n      }\r\n      this.variablesService.currentWallet.totalPages >\r\n      this.variablesService.maxPages\r\n        ? (this.variablesService.currentWallet.pages = new Array(5)\r\n          .fill(1)\r\n          .map((value, index) => value + index))\r\n        : (this.variablesService.currentWallet.pages = new Array(\r\n          this.variablesService.currentWallet.totalPages\r\n        )\r\n          .fill(1)\r\n          .map((value, index) => value + index));\r\n    });\r\n  }\r\n\r\n\r\n  setPage(pageNumber: number): void {\r\n    // this is will allow pagination for wallets that was open from existed wallets'\r\n    if (pageNumber === this.variablesService.currentWallet.currentPage) {\r\n      return;\r\n    }\r\n    if (\r\n      this.variablesService.currentWallet.open_from_exist &&\r\n      !this.variablesService.currentWallet.updated\r\n    ) {\r\n      this.variablesService.get_recent_transfers = false;\r\n      this.variablesService.currentWallet.updated = true;\r\n    }\r\n    // if not running get_recent_transfers callback\r\n    if (!this.variablesService.get_recent_transfers) {\r\n      this.variablesService.currentWallet.currentPage = pageNumber;\r\n    }\r\n    if (!this.variablesService.get_recent_transfers) {\r\n      this.getRecentTransfers();\r\n    }\r\n  }\r\n\r\n  toggleMiningTransactions(): void {\r\n    if (!this.variablesService.sync_started && !this.wallet) {\r\n      const value = this.paginationStore.value;\r\n      if (!value) {\r\n        this.paginationStore.setPage(1, 0, this.variablesService.currentWallet.wallet_id); // add back page for the first page\r\n      } else {\r\n        const pages = value.filter((item) => item.walletID === this.variablesService.currentWallet.wallet_id);\r\n        if (!pages.length) {\r\n          this.paginationStore.setPage(1, 0, this.variablesService.currentWallet.wallet_id); // add back page for the first page\r\n        }\r\n      }\r\n      this.mining = !this.mining;\r\n      this.resetPaginationValues();\r\n      this.getRecentTransfers();\r\n    }\r\n  }\r\n\r\n  getRecentTransfers(): void {\r\n    const offset = this.pagination.getOffset(this.variablesService.currentWallet.wallet_id);\r\n    const value = this.paginationStore.value;\r\n    const pages = value\r\n      ? value.filter((item) => item.walletID === this.variablesService.currentWallet.wallet_id)\r\n      : [];\r\n\r\n    this.backend.getRecentTransfers(\r\n      this.variablesService.currentWallet.wallet_id,\r\n      offset,\r\n      this.variablesService.count,\r\n      this.variablesService.currentWallet.exclude_mining_txs,\r\n      (status, data) => {\r\n        const isForward = this.paginationStore.isForward(\r\n          pages,\r\n          this.variablesService.currentWallet.currentPage\r\n        );\r\n        if (this.mining && isForward && pages && pages.length === 1) {\r\n          this.variablesService.currentWallet.currentPage = 1; // set init page after navigation back\r\n        }\r\n\r\n        const history = data && data.history;\r\n        this.variablesService.stop_paginate[this.variablesService.currentWallet.wallet_id] =\r\n          (history && history.length < this.variablesService.count) || !history;\r\n        this.stop_paginate = this.variablesService.stop_paginate[this.variablesService.currentWallet.wallet_id];\r\n        if (!this.variablesService.stop_paginate[this.variablesService.currentWallet.wallet_id]) {\r\n          const page = this.variablesService.currentWallet.currentPage + 1;\r\n          if (\r\n            isForward &&\r\n            this.mining &&\r\n            history &&\r\n            history.length === this.variablesService.count\r\n          ) {\r\n            this.paginationStore.setPage(\r\n              page,\r\n              data.last_item_index,\r\n              this.variablesService.currentWallet.wallet_id\r\n            ); // add back page for current page\r\n          }\r\n        }\r\n\r\n        this.pagination.calcPages(data);\r\n        this.pagination.prepareHistory(data, status);\r\n\r\n        this.ngZone.run(() => {\r\n          this.variablesService.get_recent_transfers = false;\r\n          if (\r\n            this.variablesService.after_sync_request.hasOwnProperty(\r\n              this.variablesService.currentWallet.wallet_id\r\n            )\r\n          ) {\r\n            // this is will complete get_recent_transfers request\r\n            // this will switch of\r\n            this.variablesService.after_sync_request[this.variablesService.currentWallet.wallet_id] = false;\r\n          }\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  tick(): void {\r\n    const walletInterval = setInterval(() => {\r\n      this.wallet = this.variablesService.getNotLoadedWallet();\r\n      if (!this.wallet) {\r\n        clearInterval(walletInterval);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  getHeight(item): number {\r\n    if ((this.variablesService.height_app - item.height >= 10 && item.height !== 0) || (item.is_mining === true && item.height === 0)) {\r\n      return 10;\r\n    } else {\r\n      if (item.height === 0 || this.variablesService.height_app - item.height < 0) {\r\n        return 0;\r\n      } else {\r\n        return (this.variablesService.height_app - item.height);\r\n      }\r\n    }\r\n  }\r\n\r\n  openDetails(tx_hash): void {\r\n    if (tx_hash === this.openedDetails) {\r\n      this.openedDetails = '';\r\n    } else {\r\n      this.openedDetails = tx_hash;\r\n    }\r\n  }\r\n\r\n  calculateWidth(): void {\r\n    this.calculatedWidth = [];\r\n    this.calculatedWidth.push(this.head.nativeElement.childNodes[0].clientWidth);\r\n    this.calculatedWidth.push(this.head.nativeElement.childNodes[1].clientWidth + this.head.nativeElement.childNodes[2].clientWidth);\r\n    this.calculatedWidth.push(this.head.nativeElement.childNodes[3].clientWidth);\r\n    this.calculatedWidth.push(this.head.nativeElement.childNodes[4].clientWidth);\r\n  }\r\n\r\n  time(item: Transaction): number {\r\n    const now = new Date().getTime();\r\n    const unlockTime = now + ((item.unlock_time - this.variablesService.height_max) * 60 * 1000);\r\n    return unlockTime;\r\n  }\r\n\r\n  isLocked(item: Transaction): boolean {\r\n    if ((item.unlock_time > 500000000) && (item.unlock_time > new Date().getTime() / 1000)) {\r\n      return true;\r\n    }\r\n    if ((item.unlock_time < 500000000) && (item.unlock_time > this.variablesService.height_max)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","<div class=\"history-wrap\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\">\r\n\t<div class=\"wrap-table scrolled-content mb-2\"\r\n\t\t\t fxFlex=\"1 1 auto\">\r\n\t\t<table class=\"history-table\">\r\n\t\t\t<thead>\r\n\t\t\t<tr #head\r\n\t\t\t\t\t(window:resize)=\"calculateWidth()\">\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.STATUS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.AMOUNT' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.FEE' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.ADDRESS' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th>\r\n\t\t\t\t\t<div class=\"bg title\">{{ 'HISTORY.DATE' | translate }}</div>\r\n\t\t\t\t</th>\r\n\t\t\t</tr>\r\n\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t<ng-container *ngFor=\"let item of variablesService.currentWallet.history\">\r\n\t\t\t\t<tr (click)=\"openDetails(item.tx_hash)\"\r\n\t\t\t\t\t\t[class.locked-transaction]=\"!item.is_mining && item.unlock_time > 0\">\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div [ngClass]=\"item.is_income ? 'received' : 'send'\"\r\n\t\t\t\t\t\t\t\t class=\"status text-ellipsis\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"getHeight(item) < 10\">\r\n\t\t\t\t\t\t\t\t<svg [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"confirmation mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t\t\t style=\"transform: rotateZ(-90deg)\"\r\n\t\t\t\t\t\t\t\t\t\t tooltip=\"{{ 'HISTORY.STATUS_TOOLTIP' | translate : {'current': getHeight(item), 'total': 10} }}\"\r\n\t\t\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\">\r\n\t\t\t\t\t\t\t\t\t<circle cx=\"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcy=\"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"transparent\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tr=\"0.7rem\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"rgba(31, 143, 235, 0.33)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-dasharray=\"100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-dashoffset=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"0.3rem\">\r\n\t\t\t\t\t\t\t\t\t</circle>\r\n\t\t\t\t\t\t\t\t\t<circle [style.stroke-dashoffset]=\"strokeSize(item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[style.stroke]=\"item.is_income ? '#16d1d6' : '#1f8feb'\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"progress-circle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcx=\"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcy=\"50%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"transparent\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tr=\"0.7rem\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-dasharray=\"4.5rem\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-dashoffset=\"4.5rem\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"0.3rem\"></circle>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"getHeight(item) === 10\">\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"!item.is_income\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"status-transaction mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/blue/send.svg\">\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"item.is_income\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"status-transaction mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/aqua/receive.svg\">\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclass=\"status-transaction-text\">{{ (item.is_income ? 'HISTORY.RECEIVED' : 'HISTORY.SEND') | translate }}</span>\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"item.unlock_time !== 0 && item.tx_type !== 6\">\r\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"isLocked(item); else unlock\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"item.unlock_time < 500000000\">\r\n\t\t\t\t\t\t\t\t\t\t<i [class.position]=\"variablesService.height_app - item.height < 10 || item.height === 0 && item.timestamp > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t class=\"icon lock-transaction mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t\t\t\t tooltip=\"{{ 'HISTORY.LOCK_TOOLTIP' | translate : {'date': time(item) | date : 'MM.dd.yy'} }}\"\r\n\t\t\t\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\"></i>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"item.unlock_time > 500000000\">\r\n\t\t\t\t\t\t\t\t\t\t<i [class.position]=\"variablesService.height_app - item.height < 10 || item.height === 0 && item.timestamp > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t class=\"icon lock-transaction mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t placement=\"bottom-left\"\r\n\t\t\t\t\t\t\t\t\t\t\t tooltip=\"{{ 'HISTORY.LOCK_TOOLTIP' | translate : {'date': item.unlock_time * 1000 | date : 'MM.dd.yy'} }}\"\r\n\t\t\t\t\t\t\t\t\t\t\t tooltipClass=\"table-tooltip\"></i>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t<ng-template #unlock>\r\n\t\t\t\t\t\t\t\t\t<i [class.position]=\"variablesService.height_app - item.height < 10 || item.height === 0 && item.timestamp > 0\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"icon unlock-transaction mr-1\"></i>\r\n\t\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div class=\"text-ellipsis\">\r\n                              <span *ngIf=\"item.sortAmount && item.sortAmount.toString() !== '0'\">\r\n                                  {{item.sortAmount | intToMoney}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{variablesService.defaultCurrency}}\r\n                              </span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div class=\"text-ellipsis\">\r\n                            <span *ngIf=\"item.sortFee && item.sortFee.toString() !== '0'\">\r\n                                {{item.sortFee | intToMoney}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{variablesService.defaultCurrency}}\r\n                            </span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"remote-address\">\r\n\t\t\t\t\t\t<ng-container *ngIf=\"!(item.tx_type === 0); else walletOrAliases\" class=\"text-ellipsis\">\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t*ngIf=\"!(item.tx_type === 0 && item.remote_addresses && item.remote_addresses[0])\">\r\n\t\t\t\t\t\t\t\t{{item | historyTypeMessages}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t<ng-template #walletOrAliases>\r\n\t\t\t\t\t\t\t<div *ngIf=\"item.tx_type === 0 && item.remote_addresses && item.remote_addresses[0] && !item.remote_aliases?.length\"\r\n\t\t\t\t\t\t\t\t\t class=\"text-ellipsis\">\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t(contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, item.remote_addresses[0])\">\r\n                                \t{{ item.remote_addresses[0] | slice:0:6 }}\r\n\t\t\t\t\t\t\t\t\t...{{ item.remote_addresses[0] | slice:-6 }}\r\n                            \t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"item.remote_aliases && item.remote_aliases.length\">\r\n\t\t\t\t\t\t\t\t<div fxLayout=\"row wrap\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngFor=\"let alias of item.remote_aliases\">\r\n\t\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"alias && alias.length\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, '@' + alias)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t [class.available]=\"alias.length >= 1 && alias.length <= 5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t [class.mb-0_5]=\"item.remote_aliases.length >= 2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t [class.mr-0_5]=\"item.remote_aliases.length >= 2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t class=\"alias\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t fxLayout=\"row inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ '@' + alias }}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<div class=\"text-ellipsis\">\r\n\t\t\t\t\t\t\t{{item.timestamp * 1000 | date : 'dd-MM-yyyy HH:mm'}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<div class=\"row-divider\"></div>\r\n\t\t\t\t<tr [class.open]=\"item.tx_hash === openedDetails\"\r\n\t\t\t\t\t\tclass=\"details\">\r\n\t\t\t\t\t<td colspan=\"5\">\r\n\t\t\t\t\t\t<app-transaction-details *ngIf=\"item.tx_hash === openedDetails\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t [sizes]=\"calculatedWidth\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t [transaction]=\"item\"></app-transaction-details>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<div [class.hide]=\"item.tx_hash !== openedDetails\"\r\n\t\t\t\t\t\t class=\"row-divider\"></div>\r\n\t\t\t</ng-container>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n\t<div class=\"pagination-wrapper\">\r\n\t\t<div class=\"pagination\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t<div class=\"left\"\r\n\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t\t<button (click)=\"setPage(variablesService.currentWallet.currentPage - 1)\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"variablesService.currentWallet.currentPage === 1 || variablesService.sync_started || wallet\"\r\n\t\t\t\t\t\t\t\tclass=\"btn-icon circle small mr-1\">\r\n\t\t\t\t\t<i class=\"icon arrow-left-stroke\"></i>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<ng-container *ngIf=\"!mining\">\r\n\t\t\t\t\t<button (click)=\"setPage(page)\"\r\n\t\t\t\t\t\t\t\t\t*ngFor=\"let page of variablesService.currentWallet.pages\"\r\n\t\t\t\t\t\t\t\t\t[class.color-primary]=\"variablesService.currentWallet.currentPage === page\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mr-0_5\">{{page}}</button>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-container *ngIf=\"mining\">\r\n\t\t\t\t\t<button (click)=\"setPage(variablesService.currentWallet.currentPage)\"\r\n\t\t\t\t\t\t\t\t\t[disabled]=\"stop_paginate || variablesService.sync_started || wallet\"\r\n\t\t\t\t\t\t\t\t\t[ngClass]=\"{ 'color-primary': variablesService.currentWallet.currentPage, 'disabled': variablesService.sync_started || wallet}\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mr-0_5\">\r\n\t\t\t\t\t\t{{variablesService.currentWallet.currentPage}}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<button (click)=\"setPage(variablesService.currentWallet.currentPage + 1)\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"stop_paginate || variablesService.sync_started || wallet\"\r\n\t\t\t\t\t\t\t\tclass=\"btn-icon circle small ml-0_5\">\r\n\t\t\t\t\t<i class=\"icon arrow-right-stroke\"></i>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"right\"\r\n\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t\t<span class=\"switch-text mr-2\">Hide mining transactions</span>\r\n\t\t\t\t<app-switch (emitChange)=\"toggleMiningTransactions()\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"variablesService.sync_started || !!wallet\"\r\n\t\t\t\t\t\t\t\t\t\t[value]=\"mining\"></app-switch>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-full-layout',\r\n  templateUrl: './full-layout.component.html',\r\n  styleUrls: ['./full-layout.component.scss']\r\n})\r\nexport class FullLayoutComponent {\r\n}\r\n","<div class=\"overflow-auto p-2\"\r\n\t\t fxFlex=\"100\"\r\n\t\t fxFlexFill>\r\n\t<router-outlet></router-outlet>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FullLayoutComponent } from './full-layout.component';\r\nimport { AppRoutingModule } from '../../app-routing.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [FullLayoutComponent],\r\n  imports: [\r\n    AppRoutingModule,\r\n    FlexLayoutModule,\r\n    CommonModule\r\n  ],\r\n  exports: [FullLayoutComponent]\r\n})\r\nexport class FullLayoutModule {\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-with-sidebar-layout',\r\n  templateUrl: './with-sidebar-layout.component.html',\r\n  styleUrls: ['./with-sidebar-layout.component.scss']\r\n})\r\nexport class WithSidebarLayoutComponent {\r\n}\r\n","<app-sidebar></app-sidebar>\r\n\r\n<div class=\"overflow-auto p-2\"\r\n\t\t fxFlex=\"100\">\r\n\t<router-outlet></router-outlet>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WithSidebarLayoutComponent } from './with-sidebar-layout.component';\r\nimport { AppRoutingModule } from '../../app-routing.module';\r\nimport { SidebarModule } from '../../sidebar/sidebar.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [WithSidebarLayoutComponent],\r\n  imports: [\r\n    AppRoutingModule,\r\n    CommonModule,\r\n    FlexLayoutModule,\r\n    SidebarModule\r\n  ],\r\n  exports: [WithSidebarLayoutComponent]\r\n})\r\nexport class WithSidebarLayoutModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators, ValidationErrors } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n\r\n  queryRouting;\r\n\r\n  regForm = new FormGroup({\r\n    password: new FormControl('',\r\n      Validators.pattern(this.variablesService.pattern)),\r\n    confirmation: new FormControl('')\r\n  }, [function (g: FormGroup) {\r\n    return g.get('password').value === g.get('confirmation').value ? null : { 'mismatch': true };\r\n  }\r\n  ]);\r\n\r\n  authForm = new FormGroup({\r\n    password: new FormControl('')\r\n  });\r\n\r\n  type = 'reg';\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.type) {\r\n        this.type = params.type;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  onSubmitCreatePass(): void {\r\n    if (this.regForm.valid) {\r\n      this.variablesService.appPass = this.regForm.get('password').value;  // the pass what was written in input of login form by user\r\n\r\n      this.backend.setMasterPassword({ pass: this.variablesService.appPass }, (status, data) => {\r\n        if (status) {\r\n          this.backend.storeSecureAppData({ pass: this.variablesService.appPass });\r\n          this.variablesService.appLogin = true;\r\n          this.variablesService.dataIsLoaded = true;\r\n          if (this.variablesService.settings.appLockTime) {\r\n            this.variablesService.startCountdown();\r\n          }\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/']);\r\n          });\r\n        } else {\r\n          console.log(data['error_code']);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onSkipCreatePass(): void {\r\n    this.variablesService.appPass = '';\r\n    this.ngZone.run(() => {\r\n      this.variablesService.appLogin = true;\r\n      this.router.navigate(['/']);\r\n    });\r\n  }\r\n\r\n  dropSecureAppData(): void {\r\n    this.backend.dropSecureAppData(() => {\r\n      this.onSkipCreatePass();\r\n    });\r\n    this.variablesService.wallets = [];\r\n    this.variablesService.contacts = [];\r\n  }\r\n\r\n  onSubmitAuthPass(): void {\r\n    if (this.authForm.valid) {\r\n      this.variablesService.appPass = this.authForm.get('password').value;\r\n      if (this.variablesService.dataIsLoaded) {\r\n        this.backend.checkMasterPassword({ pass: this.variablesService.appPass }, (status) => {\r\n          if (status) {\r\n            this.variablesService.appLogin = true;\r\n            if (this.variablesService.settings.appLockTime) {\r\n              this.variablesService.startCountdown();\r\n            }\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/'], { queryParams: { prevUrl: 'login' } });\r\n            });\r\n          } else {\r\n            this.ngZone.run(() => {\r\n              this.setAuthPassError({ wrong_password: true });\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        this.getData(this.variablesService.appPass);\r\n      }\r\n    }\r\n  }\r\n\r\n  getData(appPass) {\r\n    this.backend.getSecureAppData({ pass: appPass }, (status, data) => {\r\n      if (!data.error_code) {\r\n        this.setAuthPassError(null);\r\n        this.variablesService.appLogin = true;\r\n        this.variablesService.dataIsLoaded = true;\r\n        if (this.variablesService.settings.appLockTime) {\r\n          this.variablesService.startCountdown();\r\n        }\r\n        this.variablesService.appPass = appPass;\r\n        const isEmptyObject = Object.keys(data).length === 0 && data.constructor === Object;\r\n\r\n        if (this.variablesService.wallets.length) {\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n          return;\r\n        }\r\n        if (data.hasOwnProperty('contacts')) {\r\n          if (Object.keys(data['contacts']).length !== 0) {\r\n            data['contacts'].map(contact => {\r\n              this.variablesService.contacts.push(contact);\r\n            });\r\n          }\r\n        }\r\n        if (data.hasOwnProperty('wallets')) {\r\n          if (Object.keys(data['wallets']).length !== 0) {\r\n            this.getWalletData(data['wallets']);\r\n          } else {\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/']);\r\n            });\r\n          }\r\n        }\r\n        if (!data.hasOwnProperty('wallets') && !data.hasOwnProperty('contacts')) {\r\n          if (data.length !== 0 && !isEmptyObject) {\r\n            this.getWalletData(data);\r\n          } else {\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/']);\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      if (data.error_code === 'WRONG_PASSWORD') {\r\n        this.ngZone.run(() => {\r\n          this.setAuthPassError({ wrong_password: true });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  getWalletData(walletData) {\r\n    let openWallets = 0;\r\n    let runWallets = 0;\r\n    walletData.forEach((wallet, wallet_index) => {\r\n      this.backend.openWallet(wallet.path, wallet.pass, this.variablesService.count, true, (open_status, open_data, open_error) => {\r\n        if (open_status || open_error === 'FILE_RESTORED') {\r\n          openWallets++;\r\n          this.ngZone.run(() => {\r\n            const new_wallet = new Wallet(\r\n              open_data.wallet_id,\r\n              wallet.name,\r\n              wallet.pass,\r\n              open_data['wi'].path,\r\n              open_data['wi'].address,\r\n              open_data['wi'].balance,\r\n              open_data['wi'].unlocked_balance,\r\n              open_data['wi'].mined_total,\r\n              open_data['wi'].tracking_hey\r\n            );\r\n            new_wallet.alias = this.backend.getWalletAlias(new_wallet.address);\r\n            if (wallet.staking) {\r\n              new_wallet.staking = true;\r\n              this.backend.startPosMining(new_wallet.wallet_id);\r\n            } else {\r\n              new_wallet.staking = false;\r\n            }\r\n            new_wallet.is_auditable = open_data['wi'].is_auditable;\r\n            new_wallet.is_watch_only = open_data['wi'].is_watch_only;\r\n            new_wallet.currentPage = 1;\r\n            new_wallet.exclude_mining_txs = false;\r\n            if (open_data.recent_history && open_data.recent_history.history) {\r\n              new_wallet.total_history_item = open_data.recent_history.total_history_items;\r\n              new_wallet.totalPages = Math.ceil(open_data.recent_history.total_history_items / this.variablesService.count);\r\n              new_wallet.totalPages > this.variablesService.maxPages\r\n                ? new_wallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n                : new_wallet.pages = new Array(new_wallet.totalPages).fill(1).map((value, index) => value + index);\r\n              new_wallet.prepareHistory(open_data.recent_history.history);\r\n            } else {\r\n              new_wallet.total_history_item = 0;\r\n              new_wallet.pages = new Array(1).fill(1);\r\n              new_wallet.totalPages = 1;\r\n            }\r\n            this.backend.getContracts(open_data.wallet_id, (contracts_status, contracts_data) => {\r\n              if (contracts_status && contracts_data.hasOwnProperty('contracts')) {\r\n                this.ngZone.run(() => {\r\n                  new_wallet.prepareContractsAfterOpen(\r\n                    contracts_data.contracts,\r\n                    this.variablesService.exp_med_ts,\r\n                    this.variablesService.height_app,\r\n                    this.variablesService.settings.viewedContracts,\r\n                    this.variablesService.settings.notViewedContracts\r\n                  );\r\n                });\r\n              }\r\n            });\r\n            this.variablesService.wallets.push(new_wallet);\r\n            if (this.variablesService.wallets.length === 1) {\r\n              this.router.navigate(['/wallet/']);\r\n            }\r\n          });\r\n          this.backend.runWallet(open_data.wallet_id, (run_status) => {\r\n            if (run_status) {\r\n              runWallets++;\r\n            } else {\r\n              if (wallet_index === walletData.length - 1 && runWallets === 0) {\r\n                this.ngZone.run(() => {\r\n                  this.router.navigate(['/']);\r\n                });\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          if (wallet_index === walletData.length - 1 && openWallets === 0) {\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/']);\r\n            });\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private setAuthPassError(errors: ValidationErrors | null) {\r\n    this.authForm.controls['password'].setErrors(errors);\r\n  }\r\n}\r\n","<div class=\"auth\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"row\"\r\n\t\t fxLayoutAlign=\"center center\">\r\n\t<div\r\n\t\tclass=\"card max-w-42-rem max-h-100 w-100 p-2 border-radius-0_8-rem bg-light-blue overflow-x-hidden\">\r\n\r\n\t\t<div class=\"logo border-radius-0_8-rem overflow-hidden mb-3\"\r\n\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t<img alt=\"zano-logo\"\r\n\t\t\t\t\t src=\"assets/icons/blue/zano-logo.svg\">\r\n\t\t</div>\r\n\r\n\t\t<form (ngSubmit)=\"onSubmitCreatePass()\"\r\n\t\t\t\t\t*ngIf=\"type === 'reg'\"\r\n\t\t\t\t\t[formGroup]=\"regForm\"\r\n\t\t\t\t\tclass=\"form bg-light-blue-details\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"form__field--wrapper pt-2 pl-2 pr-2 pb-1 mb-2 bg-light-blue-details border-radius-0_8-rem overflow-hidden\">\r\n\t\t\t\t<div class=\"form__field mb-2\">\r\n\t\t\t\t\t<label for=\"master-pass\">{{ 'LOGIN.SETUP_MASTER_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"master-pass\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"regForm.controls['password'].dirty && regForm.controls['password'].errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"regForm.controls['password'].errors.pattern\">\r\n\t\t\t\t\t\t\t{{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"confirm-pass\">{{ 'LOGIN.SETUP_CONFIRM_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"confirmation\"\r\n\t\t\t\t\t\t\t\t id=\"confirm-pass\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"regForm.controls['password'].dirty && regForm.controls['confirmation'].dirty && regForm.errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"regForm.errors['mismatch']\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.MISMATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button [disabled]=\"!regForm.controls['password'].value.length || !regForm.controls['confirmation'].value.length || (regForm.errors && regForm.errors['mismatch']) || regForm.controls['password'].errors\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100 mb-1\"\r\n\t\t\t\t\t\t\ttype=\"submit\">{{\r\n\t\t\t\t'LOGIN.BUTTON_NEXT' | translate }}</button>\r\n\r\n\t\t\t<button (click)=\"onSkipCreatePass()\"\r\n\t\t\t\t\t\t\t[disabled]=\"regForm.controls['password'].value.length || regForm.controls['confirmation'].value.length\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t\t'LOGIN.BUTTON_SKIP' | translate }}</button>\r\n\r\n\t\t</form>\r\n\r\n\t\t<form (ngSubmit)=\"onSubmitAuthPass()\"\r\n\t\t\t\t\t*ngIf=\"type !== 'reg'\"\r\n\t\t\t\t\t[formGroup]=\"authForm\"\r\n\t\t\t\t\tclass=\"form\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"form__field--wrapper pt-2 pl-2 pr-2 pb-1 mb-2 bg-light-blue-details border-radius-0_8-rem overflow-hidden\">\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"master-pass-login\">{{ 'LOGIN.MASTER_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t autofocus\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"master-pass-login\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"authForm.controls['password'].invalid && (authForm.controls['password'].dirty || authForm.controls['password'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"authForm.controls['password'].hasError('wrong_password')\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.INVALID_PASS' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button class=\"primary big w-100 mb-1\"\r\n\t\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t\t{{'LOGIN.BUTTON_NEXT' | translate }}</button>\r\n\r\n\t\t\t<button (click)=\"dropSecureAppData()\"\r\n\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t{{ 'LOGIN.BUTTON_RESET' | translate }}</button>\r\n\t\t</form>\r\n\t</div>\r\n\r\n\t<app-synchronization-status class=\"max-w-19-rem\"></app-synchronization-status>\r\n</div>\r\n","import { Component, HostBinding, Input, NgZone, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\n\r\n@Component({\r\n  selector: 'app-open-wallet-modal',\r\n  templateUrl: './open-wallet-modal.component.html',\r\n  styleUrls: ['./open-wallet-modal.component.scss']\r\n})\r\nexport class OpenWalletModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Input() wallets;\r\n\r\n  wallet = {\r\n    name: '',\r\n    path: '',\r\n    pass: '',\r\n    notFound: false,\r\n    emptyPass: false\r\n  };\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backend: BackendService,\r\n    private translate: TranslateService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private renderer: Renderer2\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    if (this.wallets.length) {\r\n      this.wallet = this.wallets[0];\r\n      this.wallet.pass = '';\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  openWallet(): void {\r\n    if (this.wallets.length === 0) {\r\n      return;\r\n    }\r\n    this.backend.openWallet(\r\n      this.wallet.path,\r\n      this.wallet.pass,\r\n      this.variablesService.count,\r\n      false,\r\n      (open_status, open_data, open_error) => {\r\n        if (open_error && open_error === 'FILE_NOT_FOUND') {\r\n          this.ngZone.run(() => {\r\n            this.wallet.notFound = true;\r\n          });\r\n          let error_translate = this.translate.instant('OPEN_WALLET.FILE_NOT_FOUND1');\r\n          error_translate += ':<br>' + this.wallet.path;\r\n          error_translate += this.translate.instant('OPEN_WALLET.FILE_NOT_FOUND2');\r\n          this.modalService.prepareModal('error', error_translate);\r\n        } else {\r\n          if (open_status || open_error === 'FILE_RESTORED') {\r\n\r\n            let exists = false;\r\n            this.variablesService.wallets.forEach((wallet) => {\r\n              if (wallet.address === open_data['wi'].address) {\r\n                exists = true;\r\n              }\r\n            });\r\n\r\n            if (exists) {\r\n              this.modalService.prepareModal('error', 'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN');\r\n              this.backend.closeWallet(open_data.wallet_id);\r\n            } else {\r\n              const new_wallet = new Wallet(\r\n                open_data.wallet_id,\r\n                this.wallet.name,\r\n                this.wallet.pass,\r\n                open_data['wi'].path,\r\n                open_data['wi'].address,\r\n                open_data['wi'].balance,\r\n                open_data['wi'].unlocked_balance,\r\n                open_data['wi'].mined_total,\r\n                open_data['wi'].tracking_hey\r\n              );\r\n              new_wallet.alias = this.backend.getWalletAlias(new_wallet.address);\r\n              new_wallet.is_auditable = open_data['wi'].is_auditable;\r\n              new_wallet.is_watch_only = open_data['wi'].is_watch_only;\r\n              new_wallet.currentPage = 1;\r\n              new_wallet.exclude_mining_txs = false;\r\n              if (open_data.recent_history && open_data.recent_history.history) {\r\n                new_wallet.total_history_item = open_data.recent_history.total_history_items;\r\n                new_wallet.totalPages = Math.ceil(open_data.recent_history.total_history_items / this.variablesService.count);\r\n                new_wallet.totalPages > this.variablesService.maxPages\r\n                  ? new_wallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n                  : new_wallet.pages = new Array(new_wallet.totalPages).fill(1).map((value, index) => value + index);\r\n                new_wallet.prepareHistory(open_data.recent_history.history);\r\n              } else {\r\n                new_wallet.total_history_item = 0;\r\n                new_wallet.pages = new Array(1).fill(1);\r\n                new_wallet.totalPages = 1;\r\n              }\r\n              this.backend.getContracts(open_data.wallet_id, (contracts_status, contracts_data) => {\r\n                if (contracts_status && contracts_data.hasOwnProperty('contracts')) {\r\n                  this.ngZone.run(() => {\r\n                    new_wallet.prepareContractsAfterOpen(\r\n                      contracts_data.contracts,\r\n                      this.variablesService.exp_med_ts,\r\n                      this.variablesService.height_app,\r\n                      this.variablesService.settings.viewedContracts,\r\n                      this.variablesService.settings.notViewedContracts\r\n                    );\r\n                  });\r\n                }\r\n              });\r\n              this.variablesService.wallets.push(new_wallet);\r\n              this.backend.runWallet(open_data.wallet_id);\r\n              this.skipWallet();\r\n            }\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  skipWallet(): void {\r\n    this.ngZone.run(() => {\r\n      if (this.wallets.length) {\r\n        this.wallets.splice(0, 1);\r\n        this.ngOnInit();\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-34-rem max-h-100 w-100 scrolled-content\">\r\n\t<div class=\"wrapper w-100\">\r\n\t\t<h3 class=\"mb-2\">{{ 'OPEN_WALLET.MODAL.TITLE' | translate }}</h3>\r\n\r\n\t\t<div class=\"word-break-break-all mb-2\">{{ wallet.name }}</div>\r\n\t\t<div class=\"word-break-break-all mb-2\">{{ wallet.path }}</div>\r\n\r\n\t\t<form (ngSubmit)=\"openWallet()\"\r\n\t\t\t\t\tclass=\"form\"\r\n\t\t\t\t\tfxLayout=\"column\">\r\n\r\n\t\t\t<div *ngIf=\"!wallet.notFound\"\r\n\t\t\t\t\t class=\"form__field\">\r\n\t\t\t\t<label for=\"password\">{{ 'OPEN_WALLET.MODAL.LABEL' | translate }}</label>\r\n\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t [(ngModel)]=\"wallet.pass\"\r\n\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t id=\"password\"\r\n\t\t\t\t\t\t\t name=\"password\"\r\n\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t<div *ngIf=\"wallet.notFound\"\r\n\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t{{ 'OPEN_WALLET.MODAL.NOT_FOUND' | translate }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div fxLayout=\"row nowrap\" fxLayoutGap=\"1rem\">\r\n\t\t\t\t<button [disabled]=\"wallet.notFound\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\">{{ 'OPEN_WALLET.MODAL.OPEN' | translate }}</button>\r\n\t\t\t\t<button (click)=\"skipWallet()\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'OPEN_WALLET.MODAL.SKIP' | translate }}</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators, ValidationErrors } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-open-wallet',\r\n  templateUrl: './open-wallet.component.html',\r\n  styleUrls: ['./open-wallet.component.scss']\r\n})\r\nexport class OpenWalletComponent implements OnInit, OnDestroy {\r\n  queryRouting;\r\n\r\n  filePath: string;\r\n\r\n  openForm = new FormGroup({\r\n    name: new FormControl('', [Validators.required, (g: FormControl) => {\r\n      for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n        if (g.value === this.variablesService.wallets[i].name) {\r\n          return { 'duplicate': true };\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    password: new FormControl('')\r\n  });\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private location: Location,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.path) {\r\n        this.filePath = params.path;\r\n        let filename = '';\r\n        if (params.path.lastIndexOf('.') === -1) {\r\n          filename = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n        } else {\r\n          filename = params.path.substr(params.path.lastIndexOf('/') + 1, params.path.lastIndexOf('.') - 1 - params.path.lastIndexOf('/'));\r\n        }\r\n        if (filename.length > 25) {\r\n          filename = filename.slice(0, 25);\r\n        }\r\n        this.openForm.get('name').setValue(filename);\r\n        this.openForm.get('name').markAsTouched();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  openWallet(): void {\r\n    if (this.openForm.valid && this.openForm.get('name').value.length <= this.variablesService.maxWalletNameLength) {\r\n      this.backend.openWallet(\r\n        this.filePath,\r\n        this.openForm.get('password').value,\r\n        this.variablesService.count,\r\n        false,\r\n        (open_status, open_data, open_error) => {\r\n          if (open_error === 'WRONG_PASSWORD') {\r\n            this.ngZone.run(() => {\r\n              this.openForm.get('password').setErrors({\r\n                wrong_password: {\r\n                  text: 'Wrong password'\r\n                }\r\n              } as ValidationErrors);\r\n            });\r\n          }\r\n          if (open_error && open_error === 'FILE_NOT_FOUND') {\r\n            let error_translate = this.translate.instant('OPEN_WALLET.FILE_NOT_FOUND1');\r\n            error_translate += ':<br>' + this.filePath;\r\n            error_translate += this.translate.instant('OPEN_WALLET.FILE_NOT_FOUND2');\r\n            this.modalService.prepareModal('error', error_translate);\r\n          } else {\r\n            if (open_status || open_error === 'FILE_RESTORED') {\r\n\r\n              let exists = false;\r\n              this.variablesService.wallets.forEach((wallet) => {\r\n                if (wallet.address === open_data['wi'].address) {\r\n                  exists = true;\r\n                }\r\n              });\r\n\r\n              if (exists) {\r\n                this.modalService.prepareModal('error', 'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN');\r\n                this.backend.closeWallet(open_data.wallet_id, () => {\r\n                  this.ngZone.run(() => {\r\n                    this.router.navigate(['/']);\r\n                  });\r\n                });\r\n              } else {\r\n                const new_wallet = new Wallet(\r\n                  open_data.wallet_id,\r\n                  this.openForm.get('name').value,\r\n                  this.openForm.get('password').value,\r\n                  open_data['wi'].path,\r\n                  open_data['wi'].address,\r\n                  open_data['wi'].balance,\r\n                  open_data['wi'].unlocked_balance,\r\n                  open_data['wi'].mined_total,\r\n                  open_data['wi'].tracking_hey\r\n                );\r\n                new_wallet.alias = this.backend.getWalletAlias(new_wallet.address);\r\n                new_wallet.currentPage = 1;\r\n                new_wallet.open_from_exist = true;\r\n                new_wallet.exclude_mining_txs = false;\r\n                new_wallet.is_auditable = open_data['wi'].is_auditable;\r\n                new_wallet.is_watch_only = open_data['wi'].is_watch_only;\r\n                if (open_data.recent_history && open_data.recent_history.history) {\r\n                  new_wallet.total_history_item = open_data.recent_history.total_history_items;\r\n                  new_wallet.totalPages = Math.ceil(open_data.recent_history.total_history_items / this.variablesService.count);\r\n                  new_wallet.totalPages > this.variablesService.maxPages\r\n                    ? new_wallet.pages = new Array(5).fill(1).map((value, index) => value + index)\r\n                    : new_wallet.pages = new Array(new_wallet.totalPages).fill(1).map((value, index) => value + index);\r\n                  new_wallet.prepareHistory(open_data.recent_history.history);\r\n                } else {\r\n                  new_wallet.total_history_item = 0;\r\n                  new_wallet.pages = new Array(1).fill(1);\r\n                  new_wallet.totalPages = 1;\r\n                }\r\n                this.backend.getContracts(open_data.wallet_id, (contracts_status, contracts_data) => {\r\n                  if (contracts_status && contracts_data.hasOwnProperty('contracts')) {\r\n                    this.ngZone.run(() => {\r\n                      new_wallet.prepareContractsAfterOpen(\r\n                        contracts_data.contracts,\r\n                        this.variablesService.exp_med_ts,\r\n                        this.variablesService.height_app,\r\n                        this.variablesService.settings.viewedContracts,\r\n                        this.variablesService.settings.notViewedContracts);\r\n                    });\r\n                  }\r\n                });\r\n                this.variablesService.wallets.push(new_wallet);\r\n                this.backend.runWallet(open_data.wallet_id, (run_status, run_data) => {\r\n                  if (run_status) {\r\n                    if (this.variablesService.appPass) {\r\n                      this.backend.storeSecureAppData();\r\n                    }\r\n                    this.ngZone.run(() => {\r\n                      this.variablesService.setCurrentWallet(open_data.wallet_id);\r\n                      this.router.navigate(['/wallet/']);\r\n                    });\r\n                  } else {\r\n                    console.log(run_data['error_code']);\r\n                  }\r\n                });\r\n              }\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.OPEN_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/add-wallet']\">{{'BREADCRUMBS.ADD_WALLET' | translate }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{'BREADCRUMBS.OPEN_WALLET' | translate}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form [formGroup]=\"openForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-name\">{{ 'OPEN_WALLET.NAME' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [maxLength]=\"variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"openForm.controls['name'].invalid && (openForm.controls['name'].dirty || openForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"openForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t{{ 'OPEN_WALLET.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"openForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'OPEN_WALLET.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"openForm.get('name').value.length >= variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'OPEN_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-password\">{{ 'OPEN_WALLET.PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PASS_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"openForm.controls['password'].invalid && (openForm.controls['password'].dirty || openForm.controls['password'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ openForm.controls['password']?.errors['wrong_password']?.text }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<button (click)=\"openWallet()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!openForm.valid\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{'OPEN_WALLET.BUTTON' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","export enum paths {\r\n  auth = 'auth',\r\n  addWallet = 'add-wallet',\r\n  login = 'login',\r\n  wallet = 'wallet',\r\n  create = 'create',\r\n  open = 'open',\r\n  restore = 'restore',\r\n  seedPhrase = 'seed-phrase',\r\n  details = 'details',\r\n  assignAlias = 'assign-alias',\r\n  editAlias = 'edit-alias',\r\n  transferAlias = 'transfer-alias',\r\n  settings = 'settings',\r\n  contacts = 'contacts',\r\n  addContacts = 'add-contacts',\r\n  editContacts = 'edit-contacts',\r\n  contactSend = 'contact-send',\r\n  import = 'import',\r\n  deeplink = 'deeplink',\r\n  uiKit = 'ui-kit'\r\n}\r\n\r\nexport enum pathsChildrenAuth {\r\n  noWallet = 'no-wallet',\r\n}\r\n\r\nexport enum pathsChildrenWallet {\r\n  send = 'send',\r\n  receive = 'receive',\r\n  history = 'history',\r\n  contracts = 'contracts',\r\n  staking = 'staking'\r\n}\r\n\r\nexport enum pathsChildrenContracts {\r\n  purchase = 'purchase'\r\n}\r\n","import { Component, HostListener, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Location } from '@angular/common';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-purchase',\r\n  templateUrl: './purchase.component.html',\r\n  styleUrls: ['./purchase.component.scss']\r\n})\r\nexport class PurchaseComponent implements OnInit, OnDestroy {\r\n  isOpen = false;\r\n\r\n  localAliases = [];\r\n\r\n  currentWalletId;\r\n\r\n  newPurchase = false;\r\n\r\n  actionData = null;\r\n\r\n  historyBlock;\r\n\r\n  sameAmountChecked = false;\r\n\r\n  additionalOptions = false;\r\n\r\n  currentContract = null;\r\n\r\n  showTimeSelect = false;\r\n\r\n  showNullify = false;\r\n\r\n  purchaseForm = new FormGroup({\r\n    description: new FormControl('', Validators.required),\r\n    seller: new FormControl('', [Validators.required, (g: FormControl) => {\r\n      if (g.value === this.variablesService.currentWallet.address) {\r\n        return { 'address_same': true };\r\n      }\r\n      return null;\r\n    }, (g: FormControl) => {\r\n      this.localAliases = [];\r\n      if (g.value) {\r\n        if (g.value.indexOf('@') !== 0) {\r\n          this.isOpen = false;\r\n          this.backend.validateAddress(g.value, (valid_status) => {\r\n            this.ngZone.run(() => {\r\n              if (valid_status === false) {\r\n                g.setErrors(Object.assign({ 'address_not_valid': true }, g.errors));\r\n              } else {\r\n                if (g.hasError('address_not_valid')) {\r\n                  delete g.errors['address_not_valid'];\r\n                  if (Object.keys(g.errors).length === 0) {\r\n                    g.setErrors(null);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n          return (g.hasError('address_not_valid')) ? { 'address_not_valid': true } : null;\r\n        } else {\r\n          this.isOpen = true;\r\n          this.localAliases = this.variablesService.aliases.filter((item) => {\r\n            return item.name.indexOf(g.value) > -1;\r\n          });\r\n          if (!(/^@?[a-z\\d\\-]{6,25}$/.test(g.value))) {\r\n            g.setErrors(Object.assign({ 'alias_not_valid': true }, g.errors));\r\n          } else {\r\n            this.backend.getAliasByName(g.value.replace('@', ''), (alias_status, alias_data) => {\r\n              this.ngZone.run(() => {\r\n                if (alias_status) {\r\n                  if (alias_data.address === this.variablesService.currentWallet.address) {\r\n                    g.setErrors(Object.assign({ 'address_same': true }, g.errors));\r\n                  }\r\n                  if (g.hasError('alias_not_valid')) {\r\n                    delete g.errors['alias_not_valid'];\r\n                    if (Object.keys(g.errors).length === 0) {\r\n                      g.setErrors(null);\r\n                    }\r\n                  }\r\n                } else {\r\n                  g.setErrors(Object.assign({ 'alias_not_valid': true }, g.errors));\r\n                }\r\n              });\r\n            });\r\n          }\r\n          return (g.hasError('alias_not_valid')) ? { 'alias_not_valid': true } : null;\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    amount: new FormControl(null, [Validators.required, (g: FormControl) => {\r\n      if (parseFloat(g.value) === 0) {\r\n        return { 'amount_zero': true };\r\n      }\r\n      return null;\r\n    }]),\r\n    yourDeposit: new FormControl(null, Validators.required),\r\n    sellerDeposit: new FormControl(null, Validators.required),\r\n    sameAmount: new FormControl({ value: false, disabled: false }),\r\n    comment: new FormControl(''),\r\n    fee: new FormControl(this.variablesService.default_fee),\r\n    time: new FormControl({ value: 12, disabled: false }),\r\n    timeCancel: new FormControl({ value: 12, disabled: false }),\r\n    payment: new FormControl(''),\r\n    password: new FormControl('')\r\n  });\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private location: Location,\r\n    private intToMoneyPipe: IntToMoneyPipe\r\n  ) {\r\n  }\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  onClick(targetElement): void {\r\n    if (targetElement.id !== 'purchase-seller' && this.isOpen) {\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe(params => {\r\n      if (params.hasOwnProperty('id')) {\r\n        this.currentContract = this.variablesService.currentWallet.getContract(params['id']);\r\n        this.purchaseForm.controls['seller'].setValidators([]);\r\n        this.purchaseForm.updateValueAndValidity();\r\n        this.purchaseForm.setValue({\r\n          description: this.currentContract.private_detailes.t,\r\n          seller: this.currentContract.private_detailes.b_addr,\r\n          amount: this.intToMoneyPipe.transform(this.currentContract.private_detailes.to_pay),\r\n          yourDeposit: this.intToMoneyPipe.transform(this.currentContract.private_detailes.a_pledge),\r\n          sellerDeposit: this.intToMoneyPipe.transform(this.currentContract.private_detailes.b_pledge),\r\n          sameAmount: this.currentContract.private_detailes.to_pay.isEqualTo(this.currentContract.private_detailes.b_pledge),\r\n          comment: this.currentContract.private_detailes.c,\r\n          fee: this.variablesService.default_fee,\r\n          time: 12,\r\n          timeCancel: 12,\r\n          payment: this.currentContract.payment_id,\r\n          password: this.variablesService.appPass\r\n        });\r\n        this.purchaseForm.get('sameAmount').disable();\r\n        this.newPurchase = false;\r\n\r\n        if (this.currentContract.is_new) {\r\n          if (this.currentContract.is_a && this.currentContract.state === 2) {\r\n            this.currentContract.state = 120;\r\n          }\r\n          if (\r\n            this.currentContract.state === 130 &&\r\n            this.currentContract.cancel_expiration_time !== 0 &&\r\n            this.currentContract.cancel_expiration_time < this.variablesService.exp_med_ts\r\n          ) {\r\n            this.currentContract.state = 2;\r\n          }\r\n          this.variablesService.settings.viewedContracts = (this.variablesService.settings.viewedContracts) ? this.variablesService.settings.viewedContracts : [];\r\n          let findViewedCont = false;\r\n          for (let j = 0; j < this.variablesService.settings.viewedContracts.length; j++) {\r\n            if (\r\n              this.variablesService.settings.viewedContracts[j].contract_id === this.currentContract.contract_id &&\r\n              this.variablesService.settings.viewedContracts[j].is_a === this.currentContract.is_a\r\n            ) {\r\n              this.variablesService.settings.viewedContracts[j].state = this.currentContract.state;\r\n              findViewedCont = true;\r\n              break;\r\n            }\r\n          }\r\n          if (!findViewedCont) {\r\n            this.variablesService.settings.viewedContracts.push({\r\n              contract_id: this.currentContract.contract_id,\r\n              is_a: this.currentContract.is_a,\r\n              state: this.currentContract.state\r\n            });\r\n          }\r\n          this.currentContract.is_new = false;\r\n          setTimeout(() => {\r\n            this.variablesService.currentWallet.recountNewContracts();\r\n          }, 0);\r\n        }\r\n        this.checkAndChangeHistory();\r\n      } else {\r\n        this.newPurchase = true;\r\n      }\r\n    });\r\n\r\n    this.variablesService.getHeightAppEvent.pipe(takeUntil(this.destroy$)).subscribe((newHeight: number) => {\r\n      if (this.currentContract && this.currentContract.state === 201 && this.currentContract.height !== 0 && (newHeight - this.currentContract.height) >= 10) {\r\n        this.currentContract.state = 2;\r\n        this.currentContract.is_new = true;\r\n        this.variablesService.currentWallet.recountNewContracts();\r\n      } else if (this.currentContract && this.currentContract.state === 601 && this.currentContract.height !== 0 && (newHeight - this.currentContract.height) >= 10) {\r\n        this.currentContract.state = 6;\r\n        this.currentContract.is_new = true;\r\n        this.variablesService.currentWallet.recountNewContracts();\r\n      }\r\n    });\r\n\r\n    if (this.variablesService.appPass) {\r\n      this.purchaseForm.controls.password.setValidators([Validators.required, (g: FormControl) => {\r\n        if (g.value) {\r\n          this.backend.checkMasterPassword({ pass: g.value }, (status) => {\r\n            this.ngZone.run(() => {\r\n              if (status === false) {\r\n                g.setErrors(\r\n                  Object.assign({ password_not_match: true }, g.errors)\r\n                );\r\n              } else {\r\n                if (g.hasError('password_not_match')) {\r\n                  delete g.errors['password_not_match'];\r\n                  if (Object.keys(g.errors).length === 0) {\r\n                    g.setErrors(null);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n          return g.hasError('password_not_match')\r\n            ? { password_not_match: true }\r\n            : null;\r\n        }\r\n        return null;\r\n      }]);\r\n    }\r\n    this.variablesService.sendActionData$.pipe(takeUntil(this.destroy$)).subscribe((res) => {\r\n      if (res.action === 'escrow') {\r\n        this.actionData = res;\r\n        this.fillDeepLinkData();\r\n        this.variablesService.sendActionData$.next({});\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  checkAndChangeHistory(): void {\r\n    if (this.currentContract.state === 201) {\r\n      this.historyBlock = this.variablesService.currentWallet.history.find(\r\n        item => item.tx_type === 8 && item.contract[0].contract_id === this.currentContract.contract_id && item.contract[0].is_a === this.currentContract.is_a);\r\n    } else if (this.currentContract.state === 601) {\r\n      this.historyBlock = this.variablesService.currentWallet.history.find(\r\n        item => item.tx_type === 12 && item.contract[0].contract_id === this.currentContract.contract_id && item.contract[0].is_a === this.currentContract.is_a);\r\n    }\r\n  }\r\n\r\n  addressMouseDown(e): void {\r\n    if (e['button'] === 0 && this.purchaseForm.get('seller').value && this.purchaseForm.get('seller').value.indexOf('@') === 0) {\r\n      this.isOpen = true;\r\n    }\r\n  }\r\n\r\n  setAlias(alias): void {\r\n    this.purchaseForm.get('seller').setValue(alias);\r\n  }\r\n\r\n  fillDeepLinkData(): void {\r\n    this.additionalOptions = true;\r\n    this.purchaseForm.get('description').setValue(this.actionData.description || '');\r\n    this.purchaseForm.get('seller').setValue(this.actionData.seller_address || '');\r\n    this.purchaseForm.get('amount').setValue(this.actionData.amount || '');\r\n    this.purchaseForm.get('yourDeposit').setValue(this.actionData.my_deposit || '');\r\n    this.purchaseForm.get('sellerDeposit').setValue(this.actionData.seller_deposit || '');\r\n    this.purchaseForm.get('comment').setValue(this.actionData.comment || this.actionData.comments || '');\r\n  }\r\n\r\n  toggleOptions(): void {\r\n    this.additionalOptions = !this.additionalOptions;\r\n  }\r\n\r\n  getProgressBarWidth(): string {\r\n    let progress = '0';\r\n    if (!this.newPurchase) {\r\n      if (this.currentContract) {\r\n        if (this.currentContract.state === 1) {\r\n          progress = '10%';\r\n        }\r\n        if (this.currentContract.state === 201) {\r\n          progress = '25%';\r\n        }\r\n        if ([120, 2].indexOf(this.currentContract.state) !== -1) {\r\n          progress = '50%';\r\n        }\r\n        if ([5, 601].indexOf(this.currentContract.state) !== -1) {\r\n          progress = '75%';\r\n        }\r\n        if ([110, 130, 140, 3, 4, 6].indexOf(this.currentContract.state) !== -1) {\r\n          progress = '100%';\r\n        }\r\n      }\r\n    }\r\n    return progress;\r\n  }\r\n\r\n  sameAmountChange(): void {\r\n    if (!this.sameAmountChecked) {\r\n      this.purchaseForm.get('sellerDeposit').clearValidators();\r\n      this.purchaseForm.get('sellerDeposit').updateValueAndValidity();\r\n      this.sameAmountChecked = !this.sameAmountChecked;\r\n    } else {\r\n      this.purchaseForm.get('sellerDeposit').setValidators([Validators.required]);\r\n      this.purchaseForm.get('sellerDeposit').updateValueAndValidity();\r\n      this.sameAmountChecked = !this.sameAmountChecked;\r\n    }\r\n  }\r\n\r\n  createPurchase(): void {\r\n    if (this.purchaseForm.valid) {\r\n      const {\r\n        amount,\r\n        comment,\r\n        description,\r\n        payment,\r\n        sameAmount,\r\n        seller,\r\n        sellerDeposit,\r\n        time,\r\n        yourDeposit\r\n      } = this.purchaseForm.value;\r\n\r\n      const { wallet_id, address } = this.variablesService.currentWallet;\r\n\r\n      const b_pledge = sameAmount ? amount : sellerDeposit;\r\n\r\n      const callback = (create_status) => {\r\n        if (create_status) {\r\n          this.back();\r\n        }\r\n      };\r\n\r\n      if (seller.indexOf('@') !== 0) {\r\n        this.backend.createProposal(\r\n          wallet_id,\r\n          description,\r\n          comment,\r\n          address,\r\n          seller,\r\n          amount,\r\n          yourDeposit,\r\n          b_pledge,\r\n          time,\r\n          payment,\r\n          callback);\r\n      } else {\r\n        this.backend.getAliasByName(seller.replace('@', ''), (alias_status, alias_data) => {\r\n          this.ngZone.run(() => {\r\n            if (!alias_status) {\r\n              this.ngZone.run(() => {\r\n                this.purchaseForm.get('seller').setErrors({ 'alias_not_valid': true });\r\n              });\r\n            } else {\r\n              this.backend.createProposal(\r\n                wallet_id,\r\n                description,\r\n                comment,\r\n                address,\r\n                alias_data.address,\r\n                amount,\r\n                yourDeposit,\r\n                b_pledge,\r\n                time,\r\n                payment,\r\n                callback);\r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n\r\n  acceptState(): void {\r\n    this.backend.acceptProposal(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id, (accept_status) => {\r\n      if (accept_status) {\r\n        this.modalService.prepareModal('info', 'PURCHASE.ACCEPT_STATE_WAIT_BIG');\r\n        this.back();\r\n      }\r\n    });\r\n  }\r\n\r\n  ignoredContract(): void {\r\n    this.variablesService.settings.notViewedContracts = (this.variablesService.settings.notViewedContracts) ? this.variablesService.settings.notViewedContracts : [];\r\n    let findViewedCont = false;\r\n    for (let j = 0; j < this.variablesService.settings.notViewedContracts.length; j++) {\r\n      if (\r\n        this.variablesService.settings.notViewedContracts[j].contract_id === this.currentContract.contract_id &&\r\n        this.variablesService.settings.notViewedContracts[j].is_a === this.currentContract.is_a\r\n      ) {\r\n        this.variablesService.settings.notViewedContracts[j].state = 110;\r\n        this.variablesService.settings.notViewedContracts[j].time = this.currentContract.expiration_time;\r\n        findViewedCont = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!findViewedCont) {\r\n      this.variablesService.settings.notViewedContracts.push({\r\n        contract_id: this.currentContract.contract_id,\r\n        is_a: this.currentContract.is_a,\r\n        state: 110,\r\n        time: this.currentContract.expiration_time\r\n      });\r\n    }\r\n    this.currentContract.is_new = true;\r\n    this.currentContract.state = 110;\r\n    this.currentContract.time = this.currentContract.expiration_time;\r\n\r\n    this.variablesService.currentWallet.recountNewContracts();\r\n    this.modalService.prepareModal('info', 'PURCHASE.IGNORED_ACCEPT');\r\n    this.back();\r\n  }\r\n\r\n  productNotGot(): void {\r\n    this.backend.releaseProposal(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id, 'REL_B',\r\n      (release_status) => {\r\n        if (release_status) {\r\n          this.modalService.prepareModal('info', 'PURCHASE.BURN_PROPOSAL');\r\n          this.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  dealsDetailsFinish(): void {\r\n    this.backend.releaseProposal(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id, 'REL_N',\r\n      (release_status) => {\r\n        if (release_status) {\r\n          this.modalService.prepareModal('success', 'PURCHASE.SUCCESS_FINISH_PROPOSAL');\r\n          this.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  dealsDetailsCancel(): void {\r\n    this.backend.requestCancelContract(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id,\r\n      this.purchaseForm.get('timeCancel').value, (cancel_status) => {\r\n        if (cancel_status) {\r\n          this.modalService.prepareModal('info', 'PURCHASE.SEND_CANCEL_PROPOSAL');\r\n          this.back();\r\n        }\r\n      });\r\n  }\r\n\r\n  dealsDetailsDontCanceling(): void {\r\n    this.variablesService.settings.notViewedContracts = this.variablesService.settings.notViewedContracts ? this.variablesService.settings.notViewedContracts : [];\r\n    let findViewedCont = false;\r\n    for (let j = 0; j < this.variablesService.settings.notViewedContracts.length; j++) {\r\n      if (\r\n        this.variablesService.settings.notViewedContracts[j].contract_id === this.currentContract.contract_id &&\r\n        this.variablesService.settings.notViewedContracts[j].is_a === this.currentContract.is_a\r\n      ) {\r\n        this.variablesService.settings.notViewedContracts[j].state = 130;\r\n        this.variablesService.settings.notViewedContracts[j].time = this.currentContract.cancel_expiration_time;\r\n        findViewedCont = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!findViewedCont) {\r\n      this.variablesService.settings.notViewedContracts.push({\r\n        contract_id: this.currentContract.contract_id,\r\n        is_a: this.currentContract.is_a,\r\n        state: 130,\r\n        time: this.currentContract.cancel_expiration_time\r\n      });\r\n    }\r\n    this.currentContract.is_new = true;\r\n    this.currentContract.state = 130;\r\n    this.currentContract.time = this.currentContract.cancel_expiration_time;\r\n    this.variablesService.currentWallet.recountNewContracts();\r\n    this.modalService.prepareModal('info', 'PURCHASE.IGNORED_CANCEL');\r\n    this.back();\r\n  }\r\n\r\n  dealsDetailsSellerCancel() {\r\n    this.backend.acceptCancelContract(this.variablesService.currentWallet.wallet_id, this.currentContract.contract_id, (accept_status) => {\r\n      if (accept_status) {\r\n        this.modalService.prepareModal('info', 'PURCHASE.DEALS_CANCELED_WAIT');\r\n        this.back();\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"container\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\"\r\n\t\t fxLayoutAlign=\"start strech\">\r\n\t<div class=\"breadcrumbs mb-2\">\r\n\t\t<div class=\"breadcrumb\">\r\n\t\t\t<a [routerLink]=\"'/wallet/contracts'\">{{ 'BREADCRUMBS.CONTRACTS' | translate }}</a>\r\n\t\t</div>\r\n\t\t<div *ngIf=\"newPurchase\"\r\n\t\t\t\t class=\"breadcrumb\">\r\n\t\t\t<span>{{ 'BREADCRUMBS.NEW_PURCHASE' | translate }}</span>\r\n\t\t</div>\r\n\t\t<div *ngIf=\"!newPurchase\"\r\n\t\t\t\t class=\"breadcrumb\">\r\n\t\t\t<span>{{ 'BREADCRUMBS.OLD_PURCHASE' | translate }}</span>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"scrolled-content\">\r\n\t\t<div class=\"form-wrap\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayout=\"row\">\r\n\t\t\t<form [formGroup]=\"purchaseForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"purchase-description\">{{ 'PURCHASE.DESCRIPTION' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.DESCRIPTION_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"description\"\r\n\t\t\t\t\t\t\t\t id=\"purchase-description\"\r\n\t\t\t\t\t\t\t\t maxlength=\"100\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['description'].invalid && (purchaseForm.controls['description'].dirty || purchaseForm.controls['description'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"newPurchase && purchaseForm.controls['description'].value.length >= 100\">\r\n\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.COMMENT_MAXIMUM' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['description'].hasError('required')\">\r\n\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.DESC_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t<div class=\"form__field form__field-dropdown\">\r\n\t\t\t\t\t\t<label for=\"purchase-seller\">{{ 'PURCHASE.SELLER' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"(!newPurchase) ? variablesService.onContextMenuOnlyCopy($event, purchaseForm.controls['seller'].value) : variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t (mousedown)=\"addressMouseDown($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.SELLER_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"seller\"\r\n\t\t\t\t\t\t\t\t\t id=\"purchase-seller\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\r\n\t\t\t\t\t\t<div *ngIf=\"isOpen\"\r\n\t\t\t\t\t\t\t\t class=\"dropdown py-0_5 border-radius-0_8-rem bg-light-blue-details scrolled-content\">\r\n\t\t\t\t\t\t\t<div (click)=\"setAlias(item.name)\"\r\n\t\t\t\t\t\t\t\t\t *ngFor=\"let item of localAliases\"\r\n\t\t\t\t\t\t\t\t\t class=\"item p-1 text-ellipsis\">{{item.name}}</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].invalid && (purchaseForm.controls['seller'].dirty || purchaseForm.controls['seller'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].errors['address_not_valid']\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.SELLER_NOT_VALID' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].errors['address_same']\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.SELLER_SAME' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].errors['alias_not_valid']\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.ALIAS_NOT_VALID' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['seller'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.SELLER_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"purchase-amount\">{{ 'PURCHASE.AMOUNT' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.AMOUNT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"amount\"\r\n\t\t\t\t\t\t\t\t\t id=\"purchase-amount\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['amount'].invalid && (purchaseForm.controls['amount'].dirty || purchaseForm.controls['amount'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['amount'].errors['amount_zero']\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.AMOUNT_ZERO' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['amount'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.AMOUNT_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\tfor=\"purchase-your-deposit\">{{ ((currentContract && !currentContract.is_a) ? 'PURCHASE.BUYER_DEPOSIT' :\r\n\t\t\t\t\t\t\t'PURCHASE.YOUR_DEPOSIT') | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.DEPOSIT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"yourDeposit\"\r\n\t\t\t\t\t\t\t\t\t id=\"purchase-your-deposit\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['yourDeposit'].invalid && (purchaseForm.controls['yourDeposit'].dirty || purchaseForm.controls['yourDeposit'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['yourDeposit'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.YOUR_DEPOSIT_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tfor=\"purchase-seller-deposit\">{{ ((currentContract && !currentContract.is_a) ? 'PURCHASE.YOUR_DEPOSIT' :\r\n\t\t\t\t\t\t\t\t'PURCHASE.SELLER_DEPOSIT') | translate }}\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<app-checkbox\r\n\t\t\t\t\t\t\t\t(emitChange)=\"sameAmountChange()\"\r\n\t\t\t\t\t\t\t\tclass=\"ml-2\"\r\n\t\t\t\t\t\t\t\tformControlName=\"sameAmount\"\r\n\t\t\t\t\t\t\t\tlabel=\"{{ 'PURCHASE.SAME_AMOUNT' | translate }}\">\r\n\t\t\t\t\t\t\t</app-checkbox>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.SELLER_DEPOSIT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t [value]=\"sameAmountChecked ? purchaseForm.controls['amount'].value : ''\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"sellerDeposit\"\r\n\t\t\t\t\t\t\t\t\t id=\"purchase-seller-deposit\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['sellerDeposit'].invalid && (purchaseForm.controls['sellerDeposit'].dirty || purchaseForm.controls['sellerDeposit'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['sellerDeposit'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.SELLER_DEPOSIT_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"purchase-comment\">{{ 'PURCHASE.COMMENT' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"comment\"\r\n\t\t\t\t\t\t\t\t id=\"purchase-comment\"\r\n\t\t\t\t\t\t\t\t maxlength=\"100\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.COMMENT_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"newPurchase && purchaseForm.controls['comment'].value.length >= 100\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{{ 'PURCHASE.FORM_ERRORS.COMMENT_MAXIMUM' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"variablesService.appPass\"\r\n\t\t\t\t\t\t class=\"form__field max-w-50-rem\">\r\n\t\t\t\t\t<label for=\"password\">{{ 'LOGIN.MASTER_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t autofocus\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"password\"\r\n\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['password'].invalid && (purchaseForm.controls['password'].dirty || purchaseForm.controls['password'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"purchaseForm.controls['password'].hasError('required')\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.PASS_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div *ngIf=\"purchaseForm.controls.password.errors && purchaseForm.controls.password.errors.password_not_match\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.MISMATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"details mb-2\">\r\n\t\t\t\t\t<button (click)=\"toggleOptions()\"\r\n\t\t\t\t\t\t\t\t\t[class.border-radius-all]=\"!additionalOptions\"\r\n\t\t\t\t\t\t\t\t\tclass=\"header\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t<span>{{ 'PURCHASE.DETAILS'| translate }}</span>\r\n\t\t\t\t\t\t<i [class.dropdown-arrow-down]=\"!additionalOptions\"\r\n\t\t\t\t\t\t\t [class.dropdown-arrow-up]=\"additionalOptions\"\r\n\t\t\t\t\t\t\t class=\"icon ml-1\"></i>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<div *ngIf=\"additionalOptions\"\r\n\t\t\t\t\t\t\t class=\"content\">\r\n\t\t\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t\t<label for=\"purchase-fee\">{{ 'PURCHASE.FEE' | translate }}</label>\r\n\t\t\t\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t\t formControlName=\"fee\"\r\n\t\t\t\t\t\t\t\t\t\t\t id=\"purchase-fee\"\r\n\t\t\t\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"newPurchase\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field\">\r\n\t\t\t\t\t\t\t\t<label for=\"purchase-time\">{{ 'PURCHASE.WAITING_TIME' | translate }}</label>\r\n\t\t\t\t\t\t\t\t<ng-select [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t class=\"custom-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t formControlName=\"time\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t id=\"purchase-time\">\r\n\t\t\t\t\t\t\t\t\t<ng-option [value]=\"1\">1 {{ 'PURCHASE.HOUR' | translate }}</ng-option>\r\n\t\t\t\t\t\t\t\t\t<ng-option *ngFor=\"let title of [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t [value]=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t{{title}} {{ 'PURCHASE.HOURS' | translate }}\r\n\t\t\t\t\t\t\t\t\t</ng-option>\r\n\t\t\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t\t<label for=\"purchase-payment\">{{ 'PURCHASE.PAYMENT' | translate }}</label>\r\n\t\t\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t\t\t [readonly]=\"!newPurchase\"\r\n\t\t\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t\t formControlName=\"payment\"\r\n\t\t\t\t\t\t\t\t\t\t\t id=\"purchase-payment\"\r\n\t\t\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PURCHASE_PAYMENT_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button (click)=\"createPurchase()\"\r\n\t\t\t\t\t\t\t\t*ngIf=\"newPurchase\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!purchaseForm.valid\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.SEND_BUTTON' | translate }}</button>\r\n\r\n\t\t\t\t<div *ngIf=\"!newPurchase\"\r\n\t\t\t\t\t\t class=\"purchase-states mt-2 mb-2\"\r\n\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"currentContract.state == 1 && !currentContract.is_a && currentContract.private_detailes.b_pledge.plus(variablesService.default_fee_big).plus(variablesService.default_fee_big).isGreaterThan(variablesService.currentWallet.unlocked_balance)\">\r\n\t\t\t\t\t\t<span>{{ 'PURCHASE.NEED_MONEY' | translate }}</span>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"!newPurchase\"\r\n\t\t\t\t\t\t class=\"purchase-buttons\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\r\n\t\t\t\t\t<ng-container *ngIf=\"!currentContract.is_a && currentContract.state == 1\">\r\n\t\t\t\t\t\t<button (click)=\"acceptState();\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"currentContract.private_detailes.b_pledge.plus(variablesService.default_fee_big).plus(variablesService.default_fee_big).isGreaterThan(variablesService.currentWallet.unlocked_balance)\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_MAKE_PLEDGE' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button (click)=\"ignoredContract();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_IGNORE' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"!showNullify && !showTimeSelect && currentContract.is_a && (currentContract.state == 201 || currentContract.state == 2 || currentContract.state == 120 || currentContract.state == 130)\">\r\n\t\t\t\t\t\t<button (click)=\"dealsDetailsFinish();\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"currentContract.cancel_expiration_time == 0 && (currentContract.height == 0 || (variablesService.height_app - currentContract.height) < 10)\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_RECEIVED' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button (click)=\"showNullify = true;\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"currentContract.cancel_expiration_time == 0 && (currentContract.height == 0 || (variablesService.height_app - currentContract.height) < 10)\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_NULLIFY' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button (click)=\"showTimeSelect = true;\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"currentContract.cancel_expiration_time == 0 && (currentContract.height == 0 || (variablesService.height_app - currentContract.height) < 10)\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_CANCEL_BUYER' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t<ng-container *ngIf=\"!currentContract.is_a && currentContract.state == 5\">\r\n\t\t\t\t\t\t<button (click)=\"dealsDetailsDontCanceling();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_NOT_CANCEL' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button (click)=\"dealsDetailsSellerCancel();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t{{'PURCHASE.BUTTON_CANCEL_SELLER' | translate}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"showNullify\"\r\n\t\t\t\t\t\t class=\"nullify-block-row\"\r\n\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t<div>{{'PURCHASE.NULLIFY_QUESTION' | translate}}</div>\r\n\t\t\t\t\t<div class=\"nullify-block-buttons my-1 mx-0 w-100\"\r\n\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t<button (click)=\"showNullify = false;\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.CANCEL' | translate\r\n\t\t\t\t\t\t\t}}</button>\r\n\t\t\t\t\t\t<button (click)=\"productNotGot();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.BUTTON_NULLIFY_SHORT' |\r\n\t\t\t\t\t\t\ttranslate }}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"showTimeSelect && !newPurchase && currentContract.is_a && (currentContract.state == 201 || currentContract.state == 2 || currentContract.state == 120 || currentContract.state == 130)\"\r\n\t\t\t\t\t\t class=\"time-cancel-block-row\"\r\n\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t<div class=\"time-cancel-block-question mb-1\">{{ 'PURCHASE.WAITING_TIME_QUESTION' | translate }}</div>\r\n\t\t\t\t\t<label class=\"mb-1\"\r\n\t\t\t\t\t\t\t\t for=\"purchase-timeCancel\">{{ 'PURCHASE.WAITING_TIME' | translate }}</label>\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<ng-select [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t formControlName=\"timeCancel\"\r\n\t\t\t\t\t\t\t\t\t\t\t id=\"purchase-timeCancel\">\r\n\t\t\t\t\t\t\t<ng-option [value]=\"1\">1 {{ 'PURCHASE.HOUR' | translate }}</ng-option>\r\n\t\t\t\t\t\t\t<ng-option *ngFor=\"let title of [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t [value]=\"title\">\r\n\t\t\t\t\t\t\t\t{{title}} {{ 'PURCHASE.HOURS' | translate }}\r\n\t\t\t\t\t\t\t</ng-option>\r\n\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"time-cancel-block-buttons  my-1 mx-0 w-100\"\r\n\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t<button (click)=\"showTimeSelect = false;\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"outline big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.CANCEL' | translate\r\n\t\t\t\t\t\t\t}}</button>\r\n\t\t\t\t\t\t<button (click)=\"dealsDetailsCancel();\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{ 'PURCHASE.BUTTON_CANCEL_BUYER' |\r\n\t\t\t\t\t\t\ttranslate }}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- TODO - Do not delete, may be needed later. 12.05 decided to temporarily remove.  -->\r\n\t<!--    <div class=\"progress-bar-container\">-->\r\n\t<!--        <div class=\"progress-bar\">-->\r\n\t<!--            <div class=\"progress-bar-full\"-->\r\n\t<!--                 [style.width]=\"getProgressBarWidth()\"></div>-->\r\n\t<!--        </div>-->\r\n\t<!--        <div class=\"progress-labels h-100\" fxLayout=\"column\" fxLayoutAlign=\"center center\">-->\r\n\t<!--            <ng-container *ngIf=\"newPurchase\">-->\r\n\t<!--                <span>{{ 'PURCHASE.STATUS_MESSAGES.NEW_PURCHASE' | translate }}</span>-->\r\n\t<!--            </ng-container>-->\r\n\r\n\t<!--            <ng-container *ngIf=\"!newPurchase && currentContract.is_a\">-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 1\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_SELLER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 110\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_SELLER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 120\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_DELIVERY' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 130\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_CANCEL_SELLER' | translate-->\r\n\t<!--                    }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 140\">{{ 'PURCHASE.STATUS_MESSAGES.EXPIRED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 2\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_SELLER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 201\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_CONFIRMATION' | translate }}-->\r\n\t<!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n\t<!--        <ng-container-->\r\n\t<!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n\t<!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n\t<!--      </span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 3\">{{ 'PURCHASE.STATUS_MESSAGES.COMPLETED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 4\"-->\r\n\t<!--                      class=\"color-red\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.NOT_RECEIVED' | translate }}. {{ 'PURCHASE.STATUS_MESSAGES.NULLIFIED' | translate-->\r\n\t<!--                    }}-->\r\n\t<!--      </span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 5\">{{ 'PURCHASE.STATUS_MESSAGES.PROPOSAL_CANCEL_SELLER' | translate-->\r\n\t<!--                    }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 6\">{{ 'PURCHASE.STATUS_MESSAGES.CANCELLED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 601\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.BEING_CANCELLED' | translate }}-->\r\n\t<!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n\t<!--        <ng-container-->\r\n\t<!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n\t<!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n\t<!--      </span>-->\r\n\t<!--            </ng-container>-->\r\n\r\n\t<!--            <ng-container *ngIf=\"!newPurchase && !currentContract.is_a\">-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 1\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_BUYER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 110\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_BUYER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 130\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_CANCEL_BUYER' | translate-->\r\n\t<!--                    }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 140\">{{ 'PURCHASE.STATUS_MESSAGES.EXPIRED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 2\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_DELIVERY' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 201\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.WAITING_CONFIRMATION' | translate }}-->\r\n\t<!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n\t<!--        <ng-container-->\r\n\t<!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n\t<!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n\t<!--      </span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 3\">{{ 'PURCHASE.STATUS_MESSAGES.COMPLETED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 4\"-->\r\n\t<!--                      class=\"color-red\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.NOT_RECEIVED' | translate }}. {{ 'PURCHASE.STATUS_MESSAGES.NULLIFIED' | translate}}-->\r\n\t<!--      </span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 5\">{{ 'PURCHASE.STATUS_MESSAGES.PROPOSAL_CANCEL_BUYER' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 6\">{{ 'PURCHASE.STATUS_MESSAGES.CANCELLED' | translate }}</span>-->\r\n\t<!--                <span *ngIf=\"currentContract.state == 601\">-->\r\n\t<!--        {{ 'PURCHASE.STATUS_MESSAGES.BEING_CANCELLED' | translate }}-->\r\n\t<!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n\t<!--        <ng-container-->\r\n\t<!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n\t<!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n\t<!--      </span>-->\r\n\t<!--            </ng-container>-->\r\n\t<!--        </div>-->\r\n\t<!--        <div class=\"progress-time\"-->\r\n\t<!--             *ngIf=\"!newPurchase\">-->\r\n\t<!--            <span *ngIf=\"currentContract.is_a && currentContract.state == 1\">-->\r\n\t<!--                {{currentContract.expiration_time | contractTimeLeft: 0}}-->\r\n\t<!--            </span>-->\r\n\t<!--            <span *ngIf=\"currentContract.is_a && currentContract.state == 5\">-->\r\n\t<!--                {{currentContract.cancel_expiration_time | contractTimeLeft: 2}}-->\r\n\t<!--            </span>-->\r\n\t<!--            <span *ngIf=\"!currentContract.is_a && currentContract.state == 1\">-->\r\n\t<!--                {{currentContract.expiration_time | contractTimeLeft: 1}}-->\r\n\t<!--            </span>-->\r\n\t<!--            <span *ngIf=\"!currentContract.is_a && currentContract.state == 5\">-->\r\n\t<!--                {{currentContract.cancel_expiration_time | contractTimeLeft: 1}}-->\r\n\t<!--            </span>-->\r\n\t<!--        </div>-->\r\n\t<!--    </div>-->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport QRCode from 'qrcode';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { RCV_ADDR_QR_SCALE } from '../_shared/constants';\r\n\r\n@Component({\r\n  selector: 'app-receive',\r\n  templateUrl: './receive.component.html',\r\n  styleUrls: ['./receive.component.scss']\r\n})\r\nexport class ReceiveComponent implements OnInit {\r\n  qrImageSrc: string;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    QRCode.toDataURL(this.variablesService.currentWallet.address, {\r\n      width: 200 * RCV_ADDR_QR_SCALE,\r\n      height: 200 * RCV_ADDR_QR_SCALE\r\n    }).then(url => {\r\n      this.qrImageSrc = url;\r\n    }).catch(err => {\r\n      console.error(err);\r\n    });\r\n  }\r\n}\r\n","<div class=\"container overflow-auto\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\"\r\n\t\t fxLayoutAlign=\"center center\">\r\n\t<div class=\"wrap-qr overflow-hidden border-radius-0_8-rem mb-2\"\r\n\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t fxLayout=\"column\"\r\n\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t<img alt=\"qr-code\"\r\n\t\t\t\t src=\"{{qrImageSrc}}\">\r\n\t</div>\r\n\r\n\t<div class=\"address border-radius-0_8-rem overflow-hidden pl-1 pr-0_5 pt-0_5 pb-0_5\"\r\n\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t fxLayout=\"row\"\r\n\t\t\t fxLayoutAlign=\"space-between center\">\r\n        <span\r\n\t\t\t\t\t[delay]=\"150\"\r\n\t\t\t\t\t[placement]=\"'bottom'\"\r\n\t\t\t\t\t[timeout]=\"0\"\r\n\t\t\t\t\t[tooltipClass]=\"'table-tooltip'\"\r\n\t\t\t\t\t[tooltip]=\"variablesService.currentWallet.address\"\r\n\t\t\t\t\tclass=\"text-ellipsis mr-1\">{{ variablesService.currentWallet.address | zanoShortString: 9: 9 }}</span>\r\n\t\t<app-copy-button\r\n\t\t\t[value]=\"variablesService.currentWallet.address\">\r\n\t\t</app-copy-button>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { pairwise, startWith, takeUntil } from 'rxjs/operators';\r\nimport { Location } from '@angular/common';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-restore-wallet',\r\n  templateUrl: './restore-wallet.component.html',\r\n  styleUrls: ['./restore-wallet.component.scss'],\r\n})\r\nexport class RestoreWalletComponent implements OnInit, OnDestroy {\r\n  restoreForm = new FormGroup(\r\n    {\r\n      name: new FormControl('', [\r\n        Validators.required,\r\n        (g: FormControl) => {\r\n          for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n            if (g.value === this.variablesService.wallets[i].name) {\r\n              return { duplicate: true };\r\n            }\r\n          }\r\n          return null;\r\n        },\r\n      ]),\r\n      key: new FormControl('', Validators.required),\r\n      password: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n      confirm: new FormControl(''),\r\n      seedPassword: new FormControl('', Validators.pattern(this.variablesService.pattern)),\r\n    },\r\n    function (g: FormGroup) {\r\n      return g.get('password').value === g.get('confirm').value\r\n        ? null\r\n        : { confirm_mismatch: true };\r\n    }\r\n  );\r\n\r\n  wallet = {\r\n    id: '',\r\n  };\r\n\r\n  walletSaved = false;\r\n\r\n  walletSavedName = '';\r\n\r\n  progressWidth = '9rem';\r\n\r\n  seedPhraseInfo = null;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private location: Location,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.checkValidSeedPhrasePassword();\r\n    this.changeDetectionSeedPhrasePassword();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  changeDetectionSeedPhrasePassword(): void {\r\n    this.restoreForm.controls.seedPassword.valueChanges\r\n      .pipe(startWith(null), pairwise(), takeUntil(this.destroy$))\r\n      .subscribe(() => {\r\n        this.checkValidSeedPhrasePassword();\r\n      });\r\n    this.restoreForm.controls.key.valueChanges\r\n      .pipe(startWith(null), pairwise(), takeUntil(this.destroy$))\r\n      .subscribe(() => {\r\n        this.checkValidSeedPhrasePassword();\r\n      });\r\n  }\r\n\r\n  checkValidSeedPhrasePassword(): void {\r\n    const seed_password = this.restoreForm.controls.seedPassword.value;\r\n    const seed_phrase = this.restoreForm.controls.key.value;\r\n    this.backend.getSeedPhraseInfo({ seed_phrase, seed_password }, (status, data) => {\r\n      this.ngZone.run(() => {\r\n        this.seedPhraseInfo = data;\r\n      });\r\n    });\r\n  }\r\n\r\n  createWallet(): void {\r\n    this.ngZone.run(() => {\r\n      this.progressWidth = '100%';\r\n      this.runWallet();\r\n    });\r\n  }\r\n\r\n  saveWallet(): void {\r\n    if (\r\n      this.restoreForm.valid &&\r\n      this.restoreForm.get('name').value.length <=\r\n      this.variablesService.maxWalletNameLength\r\n    ) {\r\n      this.backend.isValidRestoreWalletText(\r\n        {\r\n          seed_phrase: this.restoreForm.get('key').value,\r\n          seed_password: this.restoreForm.get('seedPassword').value,\r\n        },\r\n        (valid_status, valid_data) => {\r\n          if (valid_data !== 'TRUE') {\r\n            this.ngZone.run(() => {\r\n              this.restoreForm.get('key').setErrors({ key_not_valid: true });\r\n            });\r\n          } else {\r\n            this.backend.saveFileDialog(\r\n              this.translate.instant('RESTORE_WALLET.CHOOSE_PATH'),\r\n              '*',\r\n              this.variablesService.settings.default_path,\r\n              (save_status, save_data) => {\r\n                if (save_status) {\r\n                  this.variablesService.settings.default_path = save_data.path.substr(\r\n                    0,\r\n                    save_data.path.lastIndexOf('/')\r\n                  );\r\n                  this.walletSavedName = save_data.path.substr(\r\n                    save_data.path.lastIndexOf('/') + 1,\r\n                    save_data.path.length - 1\r\n                  );\r\n                  this.backend.restoreWallet(\r\n                    save_data.path,\r\n                    this.restoreForm.get('password').value,\r\n                    this.restoreForm.get('key').value,\r\n                    this.restoreForm.get('seedPassword').value,\r\n                    (restore_status, restore_data) => {\r\n                      if (restore_status) {\r\n                        this.wallet.id = restore_data.wallet_id;\r\n                        this.variablesService.opening_wallet = new Wallet(\r\n                          restore_data.wallet_id,\r\n                          this.restoreForm.get('name').value,\r\n                          this.restoreForm.get('password').value,\r\n                          restore_data['wi'].path,\r\n                          restore_data['wi'].address,\r\n                          restore_data['wi'].balance,\r\n                          restore_data['wi'].unlocked_balance,\r\n                          restore_data['wi'].mined_total,\r\n                          restore_data['wi'].tracking_hey\r\n                        );\r\n                        this.variablesService.opening_wallet.is_auditable =\r\n                          restore_data['wi'].is_auditable;\r\n                        this.variablesService.opening_wallet.is_watch_only =\r\n                          restore_data['wi'].is_watch_only;\r\n                        this.variablesService.opening_wallet.currentPage = 1;\r\n                        this.variablesService.opening_wallet.alias = this.backend.getWalletAlias(\r\n                          this.variablesService.opening_wallet.address\r\n                        );\r\n                        this.variablesService.opening_wallet.pages = new Array(\r\n                          1\r\n                        ).fill(1);\r\n                        this.variablesService.opening_wallet.totalPages = 1;\r\n                        this.variablesService.opening_wallet.currentPage = 1;\r\n                        this.variablesService.opening_wallet.total_history_item = 0;\r\n                        this.variablesService.opening_wallet.restore = true;\r\n                        if (\r\n                          restore_data.recent_history &&\r\n                          restore_data.recent_history.history\r\n                        ) {\r\n                          this.variablesService.opening_wallet.totalPages = Math.ceil(\r\n                            restore_data.recent_history.total_history_items /\r\n                            this.variablesService.count\r\n                          );\r\n                          this.variablesService.opening_wallet.totalPages >\r\n                          this.variablesService.maxPages\r\n                            ? (this.variablesService.opening_wallet.pages = new Array(\r\n                              5\r\n                            )\r\n                              .fill(1)\r\n                              .map((value, index) => value + index))\r\n                            : (this.variablesService.opening_wallet.pages = new Array(\r\n                              this.variablesService.opening_wallet.totalPages\r\n                            )\r\n                              .fill(1)\r\n                              .map((value, index) => value + index));\r\n                          this.variablesService.opening_wallet.prepareHistory(\r\n                            restore_data.recent_history.history\r\n                          );\r\n                        }\r\n                        this.backend.getContracts(\r\n                          this.variablesService.opening_wallet.wallet_id,\r\n                          (contracts_status, contracts_data) => {\r\n                            if (\r\n                              contracts_status &&\r\n                              contracts_data.hasOwnProperty('contracts')\r\n                            ) {\r\n                              this.ngZone.run(() => {\r\n                                this.variablesService.opening_wallet.prepareContractsAfterOpen(\r\n                                  contracts_data.contracts,\r\n                                  this.variablesService.exp_med_ts,\r\n                                  this.variablesService.height_app,\r\n                                  this.variablesService.settings\r\n                                    .viewedContracts,\r\n                                  this.variablesService.settings\r\n                                    .notViewedContracts\r\n                                );\r\n                              });\r\n                            }\r\n                          }\r\n                        );\r\n                        this.ngZone.run(() => {\r\n                          this.walletSaved = true;\r\n                          this.progressWidth = '50%';\r\n                        });\r\n                      } else {\r\n                        this.modalService.prepareModal(\r\n                          'error',\r\n                          'RESTORE_WALLET.NOT_CORRECT_FILE_OR_PASSWORD'\r\n                        );\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  runWallet(): void {\r\n    // add flag when wallet was restored form seed\r\n    this.variablesService.after_sync_request[this.wallet.id] = true;\r\n    let exists = false;\r\n    this.variablesService.wallets.forEach((wallet) => {\r\n      if (wallet.address === this.variablesService.opening_wallet.address) {\r\n        exists = true;\r\n      }\r\n    });\r\n    if (!exists) {\r\n      this.backend.runWallet(this.wallet.id, (run_status, run_data) => {\r\n        if (run_status) {\r\n          this.variablesService.wallets.push(\r\n            this.variablesService.opening_wallet\r\n          );\r\n          if (this.variablesService.appPass) {\r\n            this.backend.storeSecureAppData();\r\n          }\r\n          this.ngZone.run(() => {\r\n            this.variablesService.setCurrentWallet(this.wallet.id);\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n        } else {\r\n          console.log(run_data['error_code']);\r\n        }\r\n      });\r\n    } else {\r\n      this.variablesService.opening_wallet = null;\r\n      this.modalService.prepareModal(\r\n        'error',\r\n        'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN'\r\n      );\r\n      this.backend.closeWallet(this.wallet.id, () => {\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/']);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/add-wallet']\">{{'BREADCRUMBS.ADD_WALLET' | translate }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{'BREADCRUMBS.RESTORE_WALLET' | translate}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form [formGroup]=\"restoreForm\"\r\n\t\t\t\t\t\tclass=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-name\">{{ 'RESTORE_WALLET.LABEL_NAME' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [maxLength]=\"variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"restoreForm.controls['name'].invalid && (restoreForm.controls['name'].dirty || restoreForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.get('name').value.length >= variablesService.maxWalletNameLength\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.get('name').value.length >= variablesService.maxWalletNameLength\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"wallet-password\">{{ 'RESTORE_WALLET.PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.WALET_PASSWORD_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"restoreForm.controls['password'].dirty && restoreForm.controls['password'].errors\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.controls['password'].errors.pattern\">\r\n\t\t\t\t\t\t\t{{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"confirm-wallet-password\">{{ 'RESTORE_WALLET.CONFIRM' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [class.invalid]=\"restoreForm.controls['password'].dirty && restoreForm.controls['confirm'].dirty && restoreForm.errors && restoreForm.get('confirm').value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"confirm\"\r\n\t\t\t\t\t\t\t\t id=\"confirm-wallet-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.CONFIRM_WALET_PASSWORD_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"restoreForm.controls['password'].dirty && restoreForm.controls['confirm'].dirty && restoreForm.errors && restoreForm.get('confirm').value.length > 0\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.errors['confirm_mismatch']\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.CONFIRM_NOT_MATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"phrase-key\">{{ 'RESTORE_WALLET.LABEL_PHRASE_KEY' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t [attr.readonly]=\"walletSaved ? '' : null\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.SEED_PHRASE_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"key\"\r\n\t\t\t\t\t\t\t\t id=\"phrase-key\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"restoreForm.controls['key'].invalid && (restoreForm.controls['key'].dirty || restoreForm.controls['key'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"restoreForm.controls['key'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'RESTORE_WALLET.FORM_ERRORS.KEY_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"(restoreForm.controls['key'].dirty || restoreForm.controls['key'].touched) && !this.seedPhraseInfo?.syntax_correct\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t{{ 'Seed phrase not valid' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div *ngIf=\"this.seedPhraseInfo?.syntax_correct && this.seedPhraseInfo?.require_password\"\r\n\t\t\t\t\t\t class=\"form__field\">\r\n\t\t\t\t\t<label for=\"seed-password\">{{ 'RESTORE_WALLET.SEED_PASSWORD' | translate }}</label>\r\n\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"seedPassword\"\r\n\t\t\t\t\t\t\t\t id=\"seed-password\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.SEED_PHRASE_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t<div *ngIf=\"(restoreForm.controls['seedPassword'].dirty || restoreForm.controls['seedPassword'].touched) && !this.seedPhraseInfo?.hash_sum_matched\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<span>{{ 'RESTORE_WALLET.FORM_ERRORS.INCORRECT_PASSWORD' | translate }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"this.seedPhraseInfo?.hash_sum_matched\"\r\n\t\t\t\t\t\t\t class=\"success\">\r\n\t\t\t\t\t\t<span>{{ 'RESTORE_WALLET.OK' | translate }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<button *ngIf=\"walletSaved\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t<i class=\"icon\"></i>\r\n\t\t\t\t\t{{walletSavedName}}\r\n\t\t\t\t</button>\r\n\t\t\t\t<button (click)=\"saveWallet()\"\r\n\t\t\t\t\t\t\t\t*ngIf=\"!walletSaved\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"(!this.seedPhraseInfo?.syntax_correct || !this.seedPhraseInfo?.require_password || !this.seedPhraseInfo?.hash_sum_matched) && (!this.seedPhraseInfo?.syntax_correct || this.seedPhraseInfo?.require_password)\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'RESTORE_WALLET.BUTTON_SELECT' | translate }}</button>\r\n\t\t\t\t<button (click)=\"createWallet()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"!walletSaved\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{'RESTORE_WALLET.BUTTON_CREATE' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-seed-phrase',\r\n  templateUrl: './seed-phrase.component.html',\r\n  styleUrls: ['./seed-phrase.component.scss']\r\n})\r\nexport class SeedPhraseComponent implements OnInit, OnDestroy {\r\n  queryRouting;\r\n\r\n  seedPhrase = '';\r\n\r\n  showSeed = false;\r\n\r\n  wallet_id: number;\r\n\r\n  seedPhraseCopied = false;\r\n\r\n  progressWidth = '66%';\r\n\r\n  detailsForm = new FormGroup({\r\n    name: new FormControl('', [\r\n      Validators.required,\r\n      (g: FormControl) => {\r\n        for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n          if (g.value === this.variablesService.wallets[i].name) {\r\n            if (\r\n              this.variablesService.wallets[i].wallet_id ===\r\n              this.variablesService.currentWallet.wallet_id\r\n            ) {\r\n              return { same: true };\r\n            } else {\r\n              return { duplicate: true };\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      },\r\n    ]),\r\n    path: new FormControl(''),\r\n  });\r\n\r\n  seedPhraseForm = new FormGroup(\r\n    {\r\n      password: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n      confirmPassword: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n    },\r\n    { validators: this.checkPasswords }\r\n  );\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private location: Location,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.showSeed = false;\r\n    this.getWalletId();\r\n    this.setWalletInfoNamePath();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.queryRouting.unsubscribe();\r\n  }\r\n\r\n  checkPasswords(group: FormGroup) {\r\n    const pass = group.controls.password.value;\r\n    const confirmPass = group.controls.confirmPassword.value;\r\n\r\n    return pass === confirmPass ? null : { notSame: true };\r\n  }\r\n\r\n  runWallet(): void {\r\n    let exists = false;\r\n    this.variablesService.wallets.forEach((wallet) => {\r\n      if (wallet.address === this.variablesService.opening_wallet.address) {\r\n        exists = true;\r\n      }\r\n    });\r\n    if (!exists) {\r\n      this.backend.runWallet(this.wallet_id, (run_status, run_data) => {\r\n        if (run_status) {\r\n          this.variablesService.wallets.push(this.variablesService.opening_wallet);\r\n          if (this.variablesService.appPass) {\r\n            this.backend.storeSecureAppData();\r\n          }\r\n          this.ngZone.run(() => {\r\n            this.variablesService.setCurrentWallet(this.wallet_id);\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n        } else {\r\n          console.log(run_data['error_code']);\r\n        }\r\n      });\r\n    } else {\r\n      this.variablesService.opening_wallet = null;\r\n      this.modalService.prepareModal('error', 'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN');\r\n      this.backend.closeWallet(this.wallet_id, () => {\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/']);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  copySeedPhrase(): void {\r\n    this.backend.setClipboard(this.seedPhrase, () => {\r\n      this.ngZone.run(() => {\r\n        setTimeout(() => {\r\n          this.seedPhraseCopied = false;\r\n        }, 4000);\r\n        this.seedPhraseCopied = true;\r\n      });\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n\r\n  showSeedPhrase(): void {\r\n    this.showSeed = true;\r\n    this.progressWidth = '100%';\r\n  }\r\n\r\n  onSubmitSeed(): void {\r\n    if (this.seedPhraseForm.valid) {\r\n      this.showSeedPhrase();\r\n      const wallet_id = this.wallet_id;\r\n      const seed_password = this.seedPhraseForm.controls.password.value;\r\n      this.backend.getSmartWalletInfo(\r\n        { wallet_id, seed_password },\r\n        (status, data) => {\r\n          if (data.hasOwnProperty('seed_phrase')) {\r\n            this.ngZone.run(() => {\r\n              this.seedPhrase = data['seed_phrase'].trim();\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  private setWalletInfoNamePath(): void {\r\n    this.detailsForm\r\n      .get('name')\r\n      .setValue(this.variablesService.opening_wallet.name);\r\n    this.detailsForm\r\n      .get('path')\r\n      .setValue(this.variablesService.opening_wallet.path);\r\n  }\r\n\r\n  private getWalletId(): void {\r\n    this.queryRouting = this.route.queryParams.subscribe(params => {\r\n      if (params.wallet_id) {\r\n        this.wallet_id = params.wallet_id;\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/add-wallet']\">{{'BREADCRUMBS.ADD_WALLET' | translate }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{'BREADCRUMBS.SAVE_PHRASE' | translate}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<div class=\"wrap-seed-phrase\"\r\n\t\t\t\t\t fxFlex=\"100\"\r\n\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t<form [formGroup]=\"detailsForm\"\r\n\t\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label>{{ 'WALLET_DETAILS.LABEL_NAME' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [maxLength]=\"variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].invalid && (detailsForm.controls['name'].dirty || detailsForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.get('name').value.length >= variablesService.maxWalletNameLength\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].errors['required']\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"wallet-location\">{{ 'WALLET_DETAILS.LABEL_FILE_LOCATION' | translate }}</label>\r\n\t\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"path\"\r\n\t\t\t\t\t\t\t\t\t id=\"wallet-location\"\r\n\t\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<ng-container *ngIf=\"!showSeed else seedPhraseContent\">\r\n\t\t\t\t\t<form (ngSubmit)=\"onSubmitSeed()\"\r\n\t\t\t\t\t\t\t\t[formGroup]=\"seedPhraseForm\"\r\n\t\t\t\t\t\t\t\tclass=\"form bg-light-blue-details p-2\">\r\n\r\n\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t<label for=\"create-password\">{{ 'WALLET_DETAILS.CREATE_PASSWORD_SECURE' | translate }}</label>\r\n\t\t\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t id=\"create-password\"\r\n\t\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PASSWORD_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t<label for=\"confirm-password\">{{ 'WALLET_DETAILS.FORM.CONFIRM_PASSWORD' | translate }}</label>\r\n\t\t\t\t\t\t\t<input [class.invalid]=\"seedPhraseForm.invalid && seedPhraseForm.get('confirmPassword').value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t formControlName=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t id=\"confirm-password\"\r\n\t\t\t\t\t\t\t\t\t\t placeholder=\"{{'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate}}\"\r\n\t\t\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"seedPhraseForm.invalid && (seedPhraseForm.controls['confirmPassword'].dirty || seedPhraseForm.controls['confirmPassword'].touched)\"\r\n\t\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t\t<div *ngIf=\"seedPhraseForm.invalid && seedPhraseForm.get('confirmPassword').value.length > 0\">\r\n\t\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.PASSWORDS_DONT_MATCH' | translate }}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button [disabled]=\"!seedPhraseForm.valid\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary w-100 big mb-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t\t\t\t\t<i class=\"icon check-shield mr-1\"></i>\r\n\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM.GENERATE_SECURE_SEED' | translate }}\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<p class=\"text-align-center color-primary\">\r\n\t\t\t\t\t\t\t<i class=\"icon info-circle mr-1\"></i>\r\n\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM.SECURED_SEED_WILL_REQUIRE' | translate }}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-template #seedPhraseContent>\r\n\t\t\t\t\t<div class=\"seed-phrase bg-light-blue-details p-2 border-radius-0_8-rem\">\r\n\t\t\t\t\t\t<div class=\"header mb-2\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t\t<span>{{ 'WALLET_DETAILS.LABEL_SEED_PHRASE' | translate }}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right\">\r\n                                <span *ngIf=\"seedPhraseForm.controls.password.value.length == 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"status color-red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n                                    {{ 'WALLET_DETAILS.SEED_IS_UNSECURED' | translate }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon unsecured ml-1\"></i>\r\n                                </span>\r\n\t\t\t\t\t\t\t\t<span *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"status color-aqua\"\r\n\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n                                    {{ 'WALLET_DETAILS.SEED_IS_SECURED' | translate }}\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon secured ml-1\"></i>\r\n                                </span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, seedPhrase)\"\r\n\t\t\t\t\t\t\t\t class=\"content mb-1\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row wrap\">\r\n\t\t\t\t\t\t\t<ng-container *ngFor=\"let word of seedPhrase.split(' '); let index = index\">\r\n\t\t\t\t\t\t\t\t<div class=\"item p-1 mr-1 mb-1 border-radius-0_8-rem\"\r\n\t\t\t\t\t\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"number p-1 mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">{{ index + 1 }}</div>\r\n\t\t\t\t\t\t\t\t\t<span class=\"word\">{{ word }}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"footer max-w-50-rem w-100\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"showSeed\"\r\n\t\t\t\t\t\t\t\t\t class=\"wrap-buttons w-100 mb-2\"\r\n\t\t\t\t\t\t\t\t\t fxLayout=\"row nowrap\">\r\n\t\t\t\t\t\t\t\t<button (click)=\"runWallet()\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"primary big w-100 mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">{{\r\n\t\t\t\t\t\t\t\t\t'SEED_PHRASE.BUTTON_CREATE_ACCOUNT' | translate }}</button>\r\n\t\t\t\t\t\t\t\t<button (click)=\"copySeedPhrase()\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"outline big w-100 ml-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"!seedPhraseCopied\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"icon copy mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t{{ 'SEED_PHRASE.BUTTON_COPY' | translate }}\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t\t<ng-container *ngIf=\"seedPhraseCopied\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"icon check mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\t\t{{ 'SEED_PHRASE.BUTTON_COPIED' | translate }}\r\n\t\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"text-align-center\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon info-circle mr-1\"></i>\r\n\t\t\t\t\t\t\t\t<span class=\"color-primary\">{{ 'WALLET_DETAILS.REMEMBER_YOU_WILL_REQUIRE' | translate}}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</ng-template>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2, ViewChild } from '@angular/core';\r\nimport { AsyncCommandResults, BackendService, CurrentActionState, ResponseAsyncTransfer, StatusCurrentActionState } from '../_helpers/services/backend.service';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\n\r\nconst successfulStatuses: string[] = [\r\n  StatusCurrentActionState.STATE_SENDING,\r\n  StatusCurrentActionState.STATE_SENT_SUCCESS,\r\n  StatusCurrentActionState.STATE_INITIALIZING,\r\n  StatusCurrentActionState.STATE_DOWNLOADING_CONSENSUS,\r\n  StatusCurrentActionState.STATE_MAKING_TUNNEL_A,\r\n  StatusCurrentActionState.STATE_MAKING_TUNNEL_B,\r\n  StatusCurrentActionState.STATE_CREATING_STREAM,\r\n  StatusCurrentActionState.STATE_SUCCESS\r\n];\r\n\r\nconst failedStatuses: string[] = [StatusCurrentActionState.STATE_SEND_FAILED, StatusCurrentActionState.STATE_FAILED];\r\n\r\n@Component({\r\n  selector: 'app-send-details-modal',\r\n  templateUrl: './send-details-modal.component.html',\r\n  styleUrls: ['./send-details-modal.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SendDetailsModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  /** Working id is traceable */\r\n  @Input() job_id: number;\r\n\r\n  @Output() close: EventEmitter<never> = new EventEmitter<never>();\r\n\r\n  @ViewChild('elDetailsList', { static: true }) elDetailsList: ElementRef;\r\n\r\n  /** BehaviorSubject with ResponseAsyncTransfer */\r\n  responseData$ = new BehaviorSubject<ResponseAsyncTransfer>(null);\r\n\r\n  /** BehaviorSubject flag for stateDetails */\r\n  stateDetails$ = new BehaviorSubject<boolean>(false);\r\n\r\n  /** BehaviorSubject with CurrentActionState */\r\n  currentActionState$ = new BehaviorSubject<CurrentActionState>(null);\r\n\r\n  /** BehaviorSubject with CurrentActionState[] */\r\n  currentActionStates$ = new BehaviorSubject<CurrentActionState[]>([]);\r\n\r\n  private destroy$: Subject<void> = new Subject<void>();\r\n\r\n  constructor(\r\n    private backendService: BackendService,\r\n    private variablesService: VariablesService,\r\n    private renderer: Renderer2) {\r\n  }\r\n\r\n  get currentActionState(): CurrentActionState {\r\n    return this.currentActionState$.value;\r\n  }\r\n\r\n  get currentActionStates(): CurrentActionState[] {\r\n    return this.currentActionStates$.value;\r\n  }\r\n\r\n  /** True, if currentActionState.status = success */\r\n  get isSentSuccess(): boolean {\r\n    return this.currentActionState && this.currentActionState.status === StatusCurrentActionState.STATE_SENT_SUCCESS;\r\n  }\r\n\r\n  /** True, if currentActionState.status = failed */\r\n  get isSentFailed(): boolean {\r\n    return this.currentActionState && this.currentActionState.status === StatusCurrentActionState.STATE_SEND_FAILED;\r\n  }\r\n\r\n  /** True, responseData$ or currentActionStates$ not empty */\r\n  get isDetailsNotEmpty(): boolean {\r\n    return !!(this.responseData$.value || this.currentActionStates$.value.length);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    const { currentWallet: { wallet_id }, settings: { appUseTor } } = this.variablesService;\r\n\r\n    if (appUseTor) {\r\n      /** Listening handleCurrentActionState */\r\n      this.backendService.handleCurrentActionState$\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe((currentActionState: CurrentActionState) => {\r\n          this.currentActionState$.next(currentActionState);\r\n          this.currentActionStates$.next([...this.currentActionStates, currentActionState]);\r\n        });\r\n    } else {\r\n      const actionState: CurrentActionState = {\r\n        status: StatusCurrentActionState.STATE_INITIALIZING,\r\n        wallet_id\r\n      };\r\n      this.currentActionState$.next(actionState);\r\n      this.currentActionStates$.next([...this.currentActionStates, actionState]);\r\n    }\r\n\r\n    /** Listening dispatchAsyncCallResult */\r\n    this.backendService.dispatchAsyncCallResult$\r\n      .pipe(\r\n        filter(({ job_id, response }: AsyncCommandResults) => this.job_id === job_id && !!response),\r\n        takeUntil(this.destroy$)\r\n      ).subscribe(({ response }: AsyncCommandResults) => {\r\n      const { response_data: { success } } = response;\r\n      if (!appUseTor || !success) {\r\n        const actionState: CurrentActionState = {\r\n          status: success ? StatusCurrentActionState.STATE_SENT_SUCCESS : StatusCurrentActionState.STATE_SEND_FAILED,\r\n          wallet_id\r\n        };\r\n        this.currentActionState$.next(actionState);\r\n        this.currentActionStates$.next([...this.currentActionStates, actionState]);\r\n      }\r\n\r\n      this.responseData$.next(response);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  /** Show/Hide details transaction */\r\n  toggleDetails(): void {\r\n    this.stateDetails$.next(!this.stateDetails$.value);\r\n    setTimeout(() => this.scrollToBottomDetailsList(), 100);\r\n  }\r\n\r\n  /** identification item by *ngFor */\r\n  trackBy(index: number): number {\r\n    return index;\r\n  }\r\n\r\n  /** True, if status success */\r\n  isSuccess(action: CurrentActionState): boolean {\r\n    return successfulStatuses.includes(action && action.status);\r\n  }\r\n\r\n  /** True, if status failed */\r\n  isFailed(action: CurrentActionState): boolean {\r\n    return failedStatuses.includes(action && action.status);\r\n  }\r\n\r\n  /** Scroll elDetailsWrapper to bottom */\r\n  private scrollToBottomDetailsList() {\r\n    if (this.elDetailsList) {\r\n      const { nativeElement } = this.elDetailsList;\r\n      nativeElement.scrollTop = nativeElement.scrollHeight;\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue w-100 max-h-100\"\r\n\t\t fxFlex=\"0 1 54rem\">\r\n\t<div class=\"wrapper w-100\"\r\n\t\t\t fxFlex\r\n\t\t\t fxLayout=\"column\">\r\n\t\t<h3 class=\"title mb-2\"\r\n\t\t\t\tfxFlex=\"0 0 auto\">{{ 'SEND_DETAILS_MODAL.TITLE1' | translate }}</h3>\r\n\r\n\t\t<div class=\"content mb-2 overflow-x-hidden overflow-y-auto\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"status mb-2\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t fxLayoutAlign=\" center\">\r\n\r\n\t\t\t\t<div *ngIf=\"isSentSuccess\"\r\n\t\t\t\t\t\t class=\"image\">\r\n\t\t\t\t\t<img alt=\"success\"\r\n\t\t\t\t\t\t\t src=\"assets/icons/aqua/transaction_success.svg\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"isSentFailed\"\r\n\t\t\t\t\t\t class=\"image\">\r\n\t\t\t\t\t<img alt=\"failed\"\r\n\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t src=\"assets/icons/red/transaction_failed.svg\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"!isSentSuccess && !isSentFailed\"\r\n\t\t\t\t\t\t class=\"loader\"></div>\r\n\r\n\t\t\t\t<p class=\"color-primary mt-2\">\r\n\t\t\t\t\t{{ ((currentActionState$ | async) ? 'TOR_LIB_STATE' + '.' + (currentActionState$ | async)?.status : 'TOR_LIB_STATE.STATE_INITIALIZING') | translate }}\r\n\t\t\t\t\t{{!isSentSuccess && !isSentFailed ? '...' : ''}}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"details border-radius-0_8-rem overflow-hidden\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t<div (click)=\"isDetailsNotEmpty && toggleDetails()\"\r\n\t\t\t\t\t\t class=\"header overflow-hidden py-1 px-2 w-100 cursor-pointer\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t<p class=\"title text-ellipsis mr-2\">{{ 'SEND_DETAILS_MODAL.TITLE2' | translate }}</p>\r\n\t\t\t\t\t<button *ngIf=\"isDetailsNotEmpty\"\r\n\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t<img *ngIf=\"!(stateDetails$ | async)\"\r\n\t\t\t\t\t\t\t\t alt=\"dropdown-arrow-down\"\r\n\t\t\t\t\t\t\t\t src=\"assets/icons/white/dropdown-arrow-down.svg\">\r\n\t\t\t\t\t\t<img *ngIf=\"(stateDetails$ | async)\"\r\n\t\t\t\t\t\t\t\t alt=\"dropdown-arrow-up\"\r\n\t\t\t\t\t\t\t\t src=\"assets/icons/white/dropdown-arrow-up.svg\">\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div [class.px-2]=\"(stateDetails$ | async)\"\r\n\t\t\t\t\t\t [class.py-1]=\"(stateDetails$ | async)\"\r\n\t\t\t\t\t\t [fxHide]=\"!(stateDetails$ | async)\"\r\n\t\t\t\t\t\t class=\"details-wrapper\"\r\n\t\t\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t\t\t fxLayout=\"row\">\r\n\t\t\t\t\t<ul #elDetailsList\r\n\t\t\t\t\t\t\tclass=\"details-list scrolled-content\">\r\n\t\t\t\t\t\t<li *ngFor=\"let action of (currentActionStates$ | async); let last = last; trackBy: trackBy\"\r\n\t\t\t\t\t\t\t\tclass=\"item mb-1 color-primary\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\" center\">\r\n              <span\r\n\t\t\t\t\t\t\t\tclass=\"text text-ellipsis mr-1\">{{ 'TOR_LIB_STATE' + '.' + action?.status | translate }}{{ last && !isSentSuccess && !isSentFailed ? '...' : '' }}</span>\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"!last\">\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"isSuccess(action)\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/blue/check_with_blue_bg.svg\">\r\n\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"isFailed(action)\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"failed\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/red/transaction_failed.svg\">\r\n\t\t\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t\t\t<ng-container *ngIf=\"last\">\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"last && isSentSuccess\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/blue/check_with_blue_bg.svg\">\r\n\r\n\t\t\t\t\t\t\t\t<img *ngIf=\"last && isSentFailed\"\r\n\t\t\t\t\t\t\t\t\t\t alt=\"failed\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"image\"\r\n\t\t\t\t\t\t\t\t\t\t src=\"assets/icons/red/transaction_failed.svg\">\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t<ng-container *ngIf=\"(responseData$ | async)\">\r\n\t\t\t\t\t\t\t<li class=\"item mb-1 color-primary\"\r\n\t\t\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\t\tfxLayoutAlign=\" center\">\r\n\t\t\t\t\t\t\t\t<span class=\"word-break-break-all\">tx id: {{ (responseData$ | async).response_data.tx_hash }}</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li class=\"item mb-1 color-primary\"\r\n\t\t\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\t\tfxLayoutAlign=\" center\">\r\n\t\t\t\t\t\t\t\t<div class=\"word-break-break-all\">tx\r\n\t\t\t\t\t\t\t\t\tsize: {{ (responseData$ | async).response_data.tx_blob_size }}\r\n\t\t\t\t\t\t\t\t\tbytes\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"controls\"\r\n\t\t\t\t fxFlex=\"0 0 auto\">\r\n\t\t\t<button (click)=\"close.emit()\"\r\n\t\t\t\t\t\t\t[disabled]=\"!isSentSuccess && !isSentFailed\"\r\n\t\t\t\t\t\t\tclass=\"primary big w-100\">{{ 'Ok' | translate }}</button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, Renderer2 } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-send-modal',\r\n  templateUrl: './send-modal.component.html',\r\n  styleUrls: ['./send-modal.component.scss']\r\n})\r\nexport class SendModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Input() form: FormGroup;\r\n\r\n  @Output() confirmed: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  confirmForm = new FormGroup({\r\n    password: new FormControl('')\r\n  });\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private renderer: Renderer2\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    if (this.variablesService.appPass) {\r\n      this.confirmForm.controls['password'].setValidators([Validators.required]);\r\n      this.confirmForm.updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  submit(): void {\r\n    if (this.variablesService.appPass) {\r\n      if (this.confirmForm.controls['password'].value === '') {\r\n        this.confirmForm.controls['password'].setErrors({ requiredPass: true });\r\n        return;\r\n      }\r\n      this.confirmForm.controls['password'].setErrors({ requiredPass: false });\r\n      if (this.variablesService.appPass === this.confirmForm.controls['password'].value) {\r\n        this.confirmed.emit(true);\r\n      } else {\r\n        this.confirmForm.controls['password'].setErrors({ passwordNotMatch: true });\r\n      }\r\n    } else {\r\n      this.confirmed.emit(true);\r\n    }\r\n  }\r\n\r\n  onClose(): void {\r\n    this.confirmed.emit(false);\r\n  }\r\n}\r\n","<div class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\"\r\n\t\t fxLayout=\"row\">\r\n\t<div class=\"wrapper\">\r\n\t\t<form (ngSubmit)=\"submit()\"\r\n\t\t\t\t\t[formGroup]=\"confirmForm\"\r\n\t\t\t\t\tclass=\"overflow-hidden\"\r\n\t\t\t\t\tfxFlexFill\r\n\t\t\t\t\tfxLayout=\"column\">\r\n\t\t\t<h3 class=\"title mb-2\"\r\n\t\t\t\t\tfxFlex=\"0 0 auto\">{{ 'CONFIRM.TITLE' | translate }}</h3>\r\n\r\n\t\t\t<div class=\"content mb-2 w-100 overflow-x-hidden overflow-y-auto\"\r\n\t\t\t\t\t fxFlex=\"1 1 auto\">\r\n\t\t\t\t<div class=\"table-info mb-2\">\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'CONFIRM.MESSAGE.SEND' | translate }}</div>\r\n\t\t\t\t\t\t<div class=\"text\">{{ +form.get('amount').value }} {{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'CONFIRM.MESSAGE.FROM' | translate }}</div>\r\n\t\t\t\t\t\t<div class=\"text\">{{ variablesService.currentWallet.address }}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'CONFIRM.MESSAGE.TO' | translate }}</div>\r\n\t\t\t\t\t\t<div class=\"text\">{{ form.get('address').value }}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<ng-container *ngIf=\"!!form.get('comment').value\">\r\n\t\t\t\t\t\t<hr class=\"separator\"/>\r\n\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"label max-w-19-rem w-100\">{{ 'CONFIRM.MESSAGE.COMMENT' | translate }}</div>\r\n\t\t\t\t\t\t\t<div class=\"text\">{{ form.get('comment').value }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"variablesService.appPass\"\r\n\t\t\t\t\t\t class=\"form__field mb-0\">\r\n\t\t\t\t\t<label for=\"password\">{{ 'LOGIN.MASTER_PASS' | translate }}</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t autofocus\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t id=\"password\"\r\n\t\t\t\t\t\t\t\t name=\"password\"\r\n\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t<div *ngIf=\"confirmForm.controls['password'].invalid && (confirmForm.controls['password'].dirty || confirmForm.controls['password'].touched)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t*ngIf=\"confirmForm.controls['password'].errors && confirmForm.controls['password'].errors.passwordNotMatch\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.MISMATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"confirmForm.controls['password'].errors['required']\">\r\n\t\t\t\t\t\t\t{{ 'LOGIN.FORM_ERRORS.PASS_REQUIRED' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"controls w-100\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t\t<button (click)=\"onClose()\"\r\n\t\t\t\t\t\t\t\tclass=\"outline big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{ 'CONFIRM.BUTTON_CANCEL' | translate }}</button>\r\n\t\t\t\t<button class=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\">{{ 'CONFIRM.BUTTON_CONFIRM' | translate }}</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","import { Component, HostListener, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { MIXIN } from '../_shared/constants';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { MoneyToIntPipe } from '../_helpers/pipes/money-to-int.pipe';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\ninterface WrapInfo {\r\n  tx_cost: {\r\n    usd_needed_for_erc20: string;\r\n    zano_needed_for_erc20: string;\r\n  };\r\n  unwraped_coins_left: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-send',\r\n  templateUrl: './send.component.html',\r\n  styleUrls: ['./send.component.scss']\r\n})\r\nexport class SendComponent implements OnInit, OnDestroy {\r\n  job_id: number;\r\n\r\n  isOpen = false;\r\n\r\n  localAliases = [];\r\n\r\n  isModalDialogVisible = false;\r\n\r\n  isModalDetailsDialogVisible = false;\r\n\r\n  hideWalletAddress = false;\r\n\r\n  mixin: number;\r\n\r\n  wrapInfo: WrapInfo;\r\n\r\n  isLoading = true;\r\n\r\n  isWrapShown = false;\r\n\r\n  currentAliasAddress: string;\r\n\r\n  lenghtOfAdress: number;\r\n\r\n  additionalOptions = false;\r\n\r\n  parentRouting;\r\n\r\n  actionData;\r\n\r\n  sendForm = new FormGroup({\r\n    address: new FormControl('', [Validators.required, (g: FormControl) => {\r\n      this.localAliases = [];\r\n      if (g.value) {\r\n        this.currentAliasAddress = '';\r\n        if (g.value.indexOf('@') !== 0) {\r\n          this.isOpen = false;\r\n          this.backend.validateAddress(g.value, (valid_status, data) => {\r\n            this.ngZone.run(() => {\r\n              this.isWrapShown = (data.error_code === 'WRAP');\r\n              this.sendForm.get('amount').setValue(this.sendForm.get('amount').value);\r\n              if (valid_status === false && !this.isWrapShown) {\r\n                g.setErrors(Object.assign({ 'address_not_valid': true }, g.errors));\r\n              } else {\r\n                if (g.hasError('address_not_valid')) {\r\n                  delete g.errors['address_not_valid'];\r\n                  if (Object.keys(g.errors).length === 0) {\r\n                    g.setErrors(null);\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          });\r\n          return (g.hasError('address_not_valid')) ? { 'address_not_valid': true } : null;\r\n        } else {\r\n          this.isOpen = true;\r\n          this.localAliases = this.variablesService.aliases.filter((item) => {\r\n            return item.name.indexOf(g.value) > -1;\r\n          });\r\n          if (!(/^@?[a-z\\d\\-]{0,25}$/.test(g.value))) {\r\n            g.setErrors(Object.assign({ 'alias_not_valid': true }, g.errors));\r\n          } else {\r\n            this.backend.getAliasByName(g.value.replace('@', ''), (alias_status, alias_data) => {\r\n              this.ngZone.run(() => {\r\n                this.currentAliasAddress = alias_data.address;\r\n                this.lenghtOfAdress = g.value.length;\r\n                if (alias_status) {\r\n                  if (g.hasError('alias_not_valid')) {\r\n                    delete g.errors['alias_not_valid'];\r\n                    if (Object.keys(g.errors).length === 0) {\r\n                      g.setErrors(null);\r\n                    }\r\n                  }\r\n                } else {\r\n                  g.setErrors(Object.assign({ 'alias_not_valid': true }, g.errors));\r\n                }\r\n              });\r\n            });\r\n          }\r\n          return (g.hasError('alias_not_valid')) ? { 'alias_not_valid': true } : null;\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    amount: new FormControl(undefined, [Validators.required, (g: FormControl) => {\r\n      if (!g.value) {\r\n        return null;\r\n      }\r\n\r\n      if (g.value === 0) {\r\n        return { 'zero': true };\r\n      }\r\n      const bigAmount = this.moneyToInt.transform(g.value) as BigNumber;\r\n      if (this.isWrapShown) {\r\n        if (!this.wrapInfo) {\r\n          return { wrap_info_null: true };\r\n        }\r\n        if (bigAmount.isGreaterThan(new BigNumber(this.wrapInfo.unwraped_coins_left))) {\r\n          return { great_than_unwraped_coins: true };\r\n        }\r\n        if (bigAmount.isLessThan(new BigNumber(this.wrapInfo.tx_cost.zano_needed_for_erc20))) {\r\n          return { less_than_zano_needed: true };\r\n        }\r\n      }\r\n      return null;\r\n    }]),\r\n    comment: new FormControl(''),\r\n    mixin: new FormControl(MIXIN, Validators.required),\r\n    fee: new FormControl(this.variablesService.default_fee, [Validators.required, (g: FormControl) => {\r\n      if ((new BigNumber(g.value)).isLessThan(this.variablesService.default_fee)) {\r\n        return { 'less_min': true };\r\n      }\r\n      return null;\r\n    }]),\r\n    hide: new FormControl(false)\r\n  });\r\n\r\n  private dLActionSubscribe;\r\n\r\n  constructor(\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private http: HttpClient,\r\n    private moneyToInt: MoneyToIntPipe,\r\n  ) {\r\n  }\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  onClick(targetElement): void {\r\n    if (targetElement.id !== 'send-address' && this.isOpen) {\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.mixin = this.variablesService.currentWallet.send_data['mixin'] || MIXIN;\r\n    if (this.variablesService.currentWallet.is_auditable) {\r\n      this.mixin = 0;\r\n      this.sendForm.controls['mixin'].disable();\r\n    }\r\n    this.hideWalletAddress = this.variablesService.currentWallet.is_auditable && !this.variablesService.currentWallet.is_watch_only;\r\n    if (this.hideWalletAddress) {\r\n      this.sendForm.controls['hide'].disable();\r\n    }\r\n    this.sendForm.reset({\r\n      address: this.variablesService.currentWallet.send_data['address'],\r\n      amount: this.variablesService.currentWallet.send_data['amount'],\r\n      comment: this.variablesService.currentWallet.send_data['comment'],\r\n      mixin: this.mixin,\r\n      fee: this.variablesService.currentWallet.send_data['fee'] || this.variablesService.default_fee,\r\n      hide: this.variablesService.currentWallet.send_data['hide'] || false\r\n    });\r\n\r\n    this.getWrapInfo();\r\n    this.dLActionSubscribe = this.variablesService.sendActionData$.subscribe((res) => {\r\n      if (res.action === 'send') {\r\n        this.actionData = res;\r\n        setTimeout(() => {\r\n          this.fillDeepLinkData();\r\n        }, 100);\r\n        this.variablesService.sendActionData$.next({});\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.dLActionSubscribe.unsubscribe();\r\n    this.variablesService.currentWallet.send_data = {\r\n      address: this.sendForm.get('address').value,\r\n      amount: this.sendForm.get('amount').value,\r\n      comment: this.sendForm.get('comment').value,\r\n      mixin: this.sendForm.get('mixin').value,\r\n      fee: this.sendForm.get('fee').value,\r\n      hide: this.sendForm.get('hide').value\r\n    };\r\n    this.actionData = {};\r\n  }\r\n\r\n  getShorterAddress(): string {\r\n    const tempArr = this.currentAliasAddress.split('');\r\n    return this.currentAliasAddress.split('', 13).join('') + '...' + tempArr.splice((tempArr.length - 4), 4).join('');\r\n  }\r\n\r\n  addressMouseDown(e): void {\r\n    if (e['button'] === 0 && this.sendForm.get('address').value && this.sendForm.get('address').value.indexOf('@') === 0) {\r\n      this.isOpen = true;\r\n    }\r\n  }\r\n\r\n  setAlias(alias): void {\r\n    this.sendForm.get('address').setValue(alias);\r\n  }\r\n\r\n  showDialog(): void {\r\n    this.isModalDialogVisible = true;\r\n  }\r\n\r\n  confirmed(confirmed: boolean): void {\r\n    this.isModalDialogVisible = false;\r\n    if (confirmed) {\r\n      this.onSend();\r\n    }\r\n  }\r\n\r\n  fillDeepLinkData(): void {\r\n    this.additionalOptions = true;\r\n    this.sendForm.reset({\r\n      address: this.actionData.address,\r\n      amount: null,\r\n      comment: this.actionData.comment || this.actionData.comments || '',\r\n      mixin: this.actionData.mixins || this.mixin,\r\n      fee: this.actionData.fee || this.variablesService.default_fee,\r\n      hide: this.actionData.hide_sender === 'true'\r\n    });\r\n  }\r\n\r\n  addressToLowerCase(): void | null {\r\n    const control = this.sendForm.get('address');\r\n    const value = control.value;\r\n    const condition = value.indexOf('@') === 0;\r\n    return condition ? control.patchValue(value.toLowerCase()) : null;\r\n  }\r\n\r\n  onSend(): void {\r\n    if (this.sendForm.valid) {\r\n      if (this.sendForm.get('address').value.indexOf('@') !== 0) {\r\n        this.backend.validateAddress(this.sendForm.get('address').value, (valid_status, data) => {\r\n          if (valid_status === false && !(data.error_code === 'WRAP')) {\r\n            this.ngZone.run(() => {\r\n              this.sendForm.get('address').setErrors({ 'address_not_valid': true });\r\n            });\r\n          } else {\r\n            this.backend.sendMoney(\r\n              this.variablesService.currentWallet.wallet_id,\r\n              this.sendForm.get('address').value,\r\n              this.sendForm.get('amount').value,\r\n              this.sendForm.get('fee').value,\r\n              this.sendForm.get('mixin').value,\r\n              this.sendForm.get('comment').value,\r\n              this.sendForm.get('hide').value,\r\n              (job_id) => {\r\n                this.ngZone.run(() => {\r\n                  this.job_id = job_id;\r\n                  this.isModalDetailsDialogVisible = true;\r\n                  this.variablesService.currentWallet.send_data = {\r\n                    address: null,\r\n                    amount: null,\r\n                    comment: null,\r\n                    mixin: null,\r\n                    fee: null,\r\n                    hide: null\r\n                  };\r\n                  this.sendForm.reset({\r\n                    address: null,\r\n                    amount: null,\r\n                    comment: null,\r\n                    mixin: this.mixin,\r\n                    fee: this.variablesService.default_fee,\r\n                    hide: false\r\n                  });\r\n                  this.sendForm.markAsUntouched();\r\n                });\r\n              });\r\n          }\r\n        });\r\n      } else {\r\n        this.backend.getAliasByName(this.sendForm.get('address').value.replace('@', ''), (alias_status, alias_data) => {\r\n          this.ngZone.run(() => {\r\n            if (alias_status === false) {\r\n              this.ngZone.run(() => {\r\n                this.sendForm.get('address').setErrors({ 'alias_not_valid': true });\r\n              });\r\n            } else {\r\n              this.backend.sendMoney(\r\n                this.variablesService.currentWallet.wallet_id,\r\n                alias_data.address, // this.sendForm.get('address').value,\r\n                this.sendForm.get('amount').value,\r\n                this.sendForm.get('fee').value,\r\n                this.sendForm.get('mixin').value,\r\n                this.sendForm.get('comment').value,\r\n                this.sendForm.get('hide').value,\r\n                (job_id) => {\r\n                  this.ngZone.run(() => {\r\n                    this.job_id = job_id;\r\n                    this.isModalDetailsDialogVisible = true;\r\n                    this.variablesService.currentWallet.send_data = {\r\n                      address: null,\r\n                      amount: null,\r\n                      comment: null,\r\n                      mixin: null,\r\n                      fee: null,\r\n                      hide: null\r\n                    };\r\n                    this.sendForm.reset({\r\n                      address: null,\r\n                      amount: null,\r\n                      comment: null,\r\n                      mixin: this.mixin,\r\n                      fee: this.variablesService.default_fee,\r\n                      hide: false\r\n                    });\r\n                    this.sendForm.markAsUntouched();\r\n                  });\r\n                });\r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  toggleOptions(): void {\r\n    this.additionalOptions = !this.additionalOptions;\r\n  }\r\n\r\n  getReceivedValue(): number | BigNumber {\r\n    const amount = this.moneyToInt.transform(this.sendForm.value.amount);\r\n    const needed = new BigNumber(this.wrapInfo.tx_cost.zano_needed_for_erc20);\r\n    if (amount && needed) {\r\n      return (amount as BigNumber).minus(needed);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  handeCloseDetailsModal(): void {\r\n    this.isModalDetailsDialogVisible = false;\r\n    this.job_id = null;\r\n  }\r\n\r\n  private getWrapInfo(): void {\r\n    this.http.get<WrapInfo>('https://wrapped.zano.org/api2/get_wrap_info')\r\n      .pipe(finalize(() => {\r\n        this.isLoading = false;\r\n      }))\r\n      .subscribe(info => {\r\n        this.wrapInfo = info;\r\n      });\r\n  }\r\n}\r\n","<div class=\"container scrolled-content\"\r\n\t\t fxFlex=\"1 1 auto\">\r\n\t<form (ngSubmit)=\"showDialog()\"\r\n\t\t\t\t*ngIf=\"!isLoading\"\r\n\t\t\t\t[formGroup]=\"sendForm\"\r\n\t\t\t\tclass=\"form\"\r\n\t\t\t\tfxFlex=\"0 1 50rem\"\r\n\t\t\t\tfxLayout=\"column\"\r\n\t\t\t\tfxLayoutAlign=\"start stretch\">\r\n\r\n\t\t<div class=\"form__field--row\">\r\n\t\t\t<div class=\"form__field form__field-dropdown\">\r\n\t\t\t\t<label for=\"send-address\">{{ 'SEND.ADDRESS' | translate }}</label>\r\n\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t (input)=\"addressToLowerCase()\"\r\n\t\t\t\t\t\t\t (mousedown)=\"addressMouseDown($event)\"\r\n\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.ADRESS_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t formControlName=\"address\"\r\n\t\t\t\t\t\t\t id=\"send-address\"\r\n\t\t\t\t\t\t\t type=\"text\">\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\t*ngIf=\"isOpen && !!localAliases.length\"\r\n\t\t\t\t\tclass=\"dropdown py-0_5 border-radius-0_8-rem bg-light-blue-details\">\r\n\t\t\t\t\t<div (click)=\"setAlias(item.name)\"\r\n\t\t\t\t\t\t\t *ngFor=\"let item of localAliases\"\r\n\t\t\t\t\t\t\t class=\"item\">\r\n\t\t\t\t\t\t<div [class.available]=\"item.name.length >= 2 && item.name.length <= 6\" [class.pl-1]=\"item.name.length > 6\"\r\n\t\t\t\t\t\t\t\t class=\"alias\">\r\n\t\t\t\t\t\t\t<div class=\"text-ellipsis\">{{item.name}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div *ngIf=\"sendForm.controls['address'].invalid && (sendForm.controls['address'].dirty || sendForm.controls['address'].touched)\"\r\n\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['address'].errors['address_not_valid']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.ADDRESS_NOT_VALID' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['address'].errors['alias_not_valid']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.ALIAS_NOT_VALID' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['address'].hasError('required')\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.ADDRESS_REQUIRED' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div *ngIf=\"currentAliasAddress\"\r\n\t\t\t\t\t\t class=\"info text-ellipsis\">\r\n\t\t\t\t\t<span>{{getShorterAddress()}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"form__field\">\r\n\t\t\t\t<label for=\"send-amount\">{{ 'SEND.AMOUNT' | translate }}</label>\r\n\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.AMOUNT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t formControlName=\"amount\"\r\n\t\t\t\t\t\t\t id=\"send-amount\"\r\n\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].invalid && (sendForm.controls['amount'].dirty || sendForm.controls['amount'].touched)\"\r\n\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].errors['zero']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.AMOUNT_ZERO' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].errors['great_than_unwraped_coins']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.GREAT_THAN_UNWRAPPED_COINS' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].errors['less_than_zano_needed']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.LESS_THAN_ZANO_NEEDED' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].errors['wrap_info_null']\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.WRAP_INFO_NULL' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div *ngIf=\"sendForm.controls['amount'].hasError('required')\">\r\n\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.AMOUNT_REQUIRED' | translate }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"form__field\">\r\n\t\t\t<label for=\"send-comment\">{{ 'SEND.COMMENT' | translate }}</label>\r\n\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t [maxLength]=\"variablesService.maxCommentLength\"\r\n\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t formControlName=\"comment\"\r\n\t\t\t\t\t\t id=\"send-comment\"\r\n\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.COMMENT_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t type=\"text\">\r\n\t\t\t<div *ngIf=\"sendForm.get('comment').value && sendForm.get('comment').value.length >= variablesService.maxCommentLength\"\r\n\t\t\t\t\t class=\"error\">\r\n\t\t\t\t{{ 'SEND.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf=\"isWrapShown && wrapInfo && !isLoading\"\r\n\t\t\t\t class=\"wrap mt-2 mb-2 p-2\">\r\n\t\t\t<div class=\"title\">\r\n\t\t\t\t{{ 'SEND.WRAP.TITLE' | translate }}\r\n\t\t\t\t<i class=\"icon info-circle\"></i>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"text-wrap\">\r\n\t\t\t\t{{ 'SEND.WRAP.MAIN_TEXT' | translate }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\">{{ 'SEND.WRAP.ESTIMATE' | translate }}</div>\r\n\t\t\t<table class=\"text-wrap\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>{{ 'SEND.WRAP.WILL_RECEIVE' | translate }}</td>\r\n\t\t\t\t\t<td *ngIf=\"!sendForm.controls['amount'].errors\">{{getReceivedValue() | intToMoney}} {{ 'SEND.WRAP.wZANO' |\r\n\t\t\t\t\t\ttranslate }}</td>\r\n\t\t\t\t\t<td *ngIf=\"sendForm.controls['amount'].errors\">-</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>{{ 'SEND.WRAP.FEE' | translate }}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{wrapInfo?.tx_cost?.zano_needed_for_erc20 | intToMoney: 3 }}\r\n\t\t\t\t\t\t{{ 'SEND.WRAP.ZANO' | translate }}(${{wrapInfo?.tx_cost?.usd_needed_for_erc20}})\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"details mb-2\">\r\n\t\t\t<button (click)=\"toggleOptions()\"\r\n\t\t\t\t\t\t\t[class.border-radius-all]=\"!additionalOptions\"\r\n\t\t\t\t\t\t\tclass=\"header\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<span>{{ 'SEND.DETAILS' | translate }}</span>\r\n\t\t\t\t<i [class.dropdown-arrow-down]=\"!additionalOptions\"\r\n\t\t\t\t\t [class.dropdown-arrow-up]=\"additionalOptions\"\r\n\t\t\t\t\t class=\"icon ml-1\"></i>\r\n\t\t\t</button>\r\n\r\n\t\t\t<div *ngIf=\"additionalOptions\"\r\n\t\t\t\t\t class=\"content\">\r\n\t\t\t\t<div class=\"form__field--row\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"send-mixin\">{{ 'SEND.MIXIN' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.AMOUNT_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"integer\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"mixin\"\r\n\t\t\t\t\t\t\t\t\t id=\"send-mixin\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['mixin'].invalid && (sendForm.controls['mixin'].dirty || sendForm.controls['mixin'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['mixin'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.AMOUNT_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"send-fee\">{{ 'SEND.FEE' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.FEE_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t appInputValidate=\"money\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"fee\"\r\n\t\t\t\t\t\t\t\t\t id=\"send-fee\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['fee'].invalid && (sendForm.controls['fee'].dirty || sendForm.controls['fee'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['fee'].errors['less_min']\">\r\n\t\t\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.FEE_MINIMUM' | translate : { fee: variablesService.default_fee } }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"sendForm.controls['fee'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'SEND.FORM_ERRORS.FEE_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<app-checkbox [label]=\"'SEND.HIDE' | translate\"\r\n\t\t\t\t\t\t\t\t\t\t\t[value]=\"hideWalletAddress || sendForm.controls['hide'].value\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tformControlName=\"hide\"></app-checkbox>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<button [disabled]=\"!sendForm.valid || !variablesService.currentWallet.loaded\"\r\n\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t{{'SEND.BUTTON' | translate }}\r\n\t\t</button>\r\n\t</form>\r\n</div>\r\n\r\n<app-send-modal (confirmed)=\"confirmed($event)\"\r\n\t\t\t\t\t\t\t\t*ngIf=\"isModalDialogVisible\"\r\n\t\t\t\t\t\t\t\t[form]=\"sendForm\"></app-send-modal>\r\n\r\n<app-send-details-modal (close)=\"handeCloseDetailsModal()\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t*ngIf=\"isModalDetailsDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t[job_id]=\"job_id\"></app-send-details-modal>\r\n","import { Component, NgZone, OnInit, Renderer2 } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Location } from '@angular/common';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { scaleItems } from '../_helpers/data/scale-items';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.component.html',\r\n  styleUrls: ['./settings.component.scss']\r\n})\r\nexport class SettingsComponent implements OnInit {\r\n  ifSaved = false;\r\n\r\n  scale: string;\r\n\r\n  appUseTor: boolean;\r\n\r\n  changeForm: any;\r\n\r\n  public currentNotificationsState;\r\n\r\n  languagesOptions = [\r\n    {\r\n      name: 'en',\r\n      language: 'SETTINGS.LANGUAGE.EN'\r\n    },\r\n    {\r\n      name: 'fr',\r\n      language: 'SETTINGS.LANGUAGE.FR'\r\n    },\r\n    {\r\n      name: 'de',\r\n      language: 'SETTINGS.LANGUAGE.DE'\r\n    },\r\n    {\r\n      name: 'id',\r\n      language: 'SETTINGS.LANGUAGE.ID'\r\n    },\r\n    {\r\n      name: 'it',\r\n      language: 'SETTINGS.LANGUAGE.IT'\r\n    },\r\n    {\r\n      name: 'pt',\r\n      language: 'SETTINGS.LANGUAGE.PT'\r\n    }\r\n  ];\r\n\r\n  appLockOptions = [\r\n    {\r\n      id: 5,\r\n      name: 'SETTINGS.APP_LOCK.TIME1'\r\n    },\r\n    {\r\n      id: 15,\r\n      name: 'SETTINGS.APP_LOCK.TIME2'\r\n    },\r\n    {\r\n      id: 60,\r\n      name: 'SETTINGS.APP_LOCK.TIME3'\r\n    },\r\n    {\r\n      id: 0,\r\n      name: 'SETTINGS.APP_LOCK.TIME4'\r\n    }\r\n  ];\r\n\r\n  appScaleOptions = scaleItems;\r\n\r\n  appLogOptions = [\r\n    {\r\n      id: -1\r\n    },\r\n    {\r\n      id: 0\r\n    },\r\n    {\r\n      id: 1\r\n    },\r\n    {\r\n      id: 2\r\n    },\r\n    {\r\n      id: 3\r\n    },\r\n    {\r\n      id: 4\r\n    }\r\n  ];\r\n\r\n  currentBuild = '';\r\n\r\n  appPass: any;\r\n\r\n  constructor(\r\n    public translate: TranslateService,\r\n    public variablesService: VariablesService,\r\n    private renderer: Renderer2,\r\n    private backend: BackendService,\r\n    private location: Location,\r\n    private ngZone: NgZone\r\n  ) {\r\n    this.scale = this.variablesService.settings.scale;\r\n    this.appUseTor = this.variablesService.settings.appUseTor;\r\n    this.changeForm = new FormGroup({\r\n      password: new FormControl(''),\r\n      new_password: new FormControl('', Validators.pattern(this.variablesService.pattern)),\r\n      new_confirmation: new FormControl('')\r\n    }, [(g: FormGroup) => {\r\n      return g.get('new_password').value === g.get('new_confirmation').value ? null : { 'confirm_mismatch': true };\r\n    }, (g: FormGroup) => {\r\n      if (this.variablesService.appPass) {\r\n        return g.get('password').value === this.variablesService.appPass ? null : { 'pass_mismatch': true };\r\n      }\r\n      return null;\r\n    }]);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.backend.getVersion((version, type) => {\r\n      this.ngZone.run(() => {\r\n        this.currentBuild = version;\r\n        this.variablesService.testnet = false;\r\n        if (type === 'testnet') {\r\n          this.currentBuild += ' TESTNET';\r\n          this.variablesService.testnet = true;\r\n        }\r\n        this.variablesService.networkType = type;\r\n      });\r\n    });\r\n    this.backend.getIsDisabledNotifications((res) => {\r\n      this.currentNotificationsState = res;\r\n    });\r\n  }\r\n\r\n  setScale(): void {\r\n    this.scale = this.variablesService.settings.scale;\r\n    this.renderer.setStyle(document.documentElement, 'font-size', this.scale);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  onSubmitChangePass(): void {\r\n    if (this.changeForm.valid) {\r\n      this.onSave();\r\n      this.variablesService.appPass = this.changeForm.get('new_password').value;\r\n      if (this.variablesService.appPass) {\r\n        this.backend.setMasterPassword({ pass: this.variablesService.appPass }, (status, data) => {\r\n          if (status) {\r\n            this.backend.storeSecureAppData({ pass: this.variablesService.appPass });\r\n            this.variablesService.appLogin = true;\r\n            this.variablesService.dataIsLoaded = true;\r\n            if (this.variablesService.settings.appLockTime) {\r\n              this.variablesService.startCountdown();\r\n            }\r\n          } else {\r\n            console.log(data['error_code']);\r\n          }\r\n        });\r\n      } else {\r\n        // this.backend.dropSecureAppData((status, data) => {\r\n        // });\r\n      }\r\n      this.changeForm.reset();\r\n    }\r\n  }\r\n\r\n  toggleNotifications(): void {\r\n    if (!this.currentNotificationsState) {\r\n      this.backend.setIsDisabledNotifications('true');\r\n      this.currentNotificationsState = true;\r\n    } else {\r\n      this.backend.setIsDisabledNotifications('false');\r\n      this.currentNotificationsState = false;\r\n    }\r\n  }\r\n\r\n  toggleUseTor(): void {\r\n    this.appUseTor = !this.appUseTor;\r\n    this.variablesService.settings.appUseTor = this.appUseTor;\r\n    this.backend.setEnableTor(this.appUseTor);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  onSave(): void {\r\n    this.ifSaved = true;\r\n    setTimeout(() => {\r\n      this.ifSaved = false;\r\n    }, 3000);\r\n  }\r\n\r\n  onLockChange(): void {\r\n    if (this.variablesService.appLogin && this.variablesService.settings.appLockTime) {\r\n      this.variablesService.restartCountdown();\r\n    }\r\n  }\r\n\r\n  onLogChange(): void {\r\n    this.backend.setLogLevel(this.variablesService.settings.appLog);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  onLanguageChange(): void {\r\n    this.translate.use(this.variablesService.settings.language);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'SETTINGS.TITLE' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<div class=\"settings\"\r\n\t\t\t\t\t fxFlex=\"0 1 50rem\"\r\n\t\t\t\t\t fxFlexFill\r\n\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t fxLayoutAlign=\"start stretch\"\r\n\t\t\t\t\t fxLayoutGap=\"2rem\">\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.LANGUAGE.TITLE' | translate }}</label>\r\n\t\t\t\t\t<ng-select (change)=\"onLanguageChange()\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"variablesService.settings.language\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"languagesOptions\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"language\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"with-circle\">\r\n\t\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t\t{{item.language | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t\t{{item.language | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.APP_LOCK.TITLE' | translate }}</label>\r\n\t\t\t\t\t<ng-select (change)=\"onLockChange()\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"variablesService.settings.appLockTime\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"appLockOptions\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"id\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"with-circle\">\r\n\t\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t\t{{item.name | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t\t{{item.name | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.SCALE.TITLE' | translate }}</label>\r\n\t\t\t\t\t<ng-select (change)=\"setScale()\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"variablesService.settings.scale\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"appScaleOptions\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"with-circle\">\r\n\t\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t\t{{item.name | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t\t{{item.name | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.APP_LOG_TITLE' | translate }}</label>\r\n\t\t\t\t\t<ng-select (change)=\"onLogChange()\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"variablesService.settings.appLog\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"appLogOptions\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"id\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"id\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"with-circle\">\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.NOTIFICATIONS' | translate }}</label>\r\n\t\t\t\t\t<app-switch\r\n\t\t\t\t\t\t(emitChange)=\"toggleNotifications()\"\r\n\t\t\t\t\t\t[value]=\"currentNotificationsState\"></app-switch>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label>{{ 'SETTINGS.USE_TOR_TO_RELAY_TRANSACTIONS' | translate }}</label>\r\n\t\t\t\t\t<app-switch\r\n\t\t\t\t\t\t(emitChange)=\"toggleUseTor()\"\r\n\t\t\t\t\t\t[value]=\"appUseTor\"></app-switch>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<form (ngSubmit)=\"onSubmitChangePass()\"\r\n\t\t\t\t\t\t\t[formGroup]=\"changeForm\"\r\n\t\t\t\t\t\t\tclass=\"form\">\r\n\r\n\t\t\t\t\t<h4 class=\"master-password-title mb-2\">{{ 'SETTINGS.MASTER_PASSWORD.TITLE' | translate }}</h4>\r\n\r\n\t\t\t\t\t<div *ngIf=\"variablesService.appPass\"\r\n\t\t\t\t\t\t\t class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"old-password\">{{ 'SETTINGS.MASTER_PASSWORD.OLD' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t\t [class.invalid]=\"changeForm.invalid && changeForm.controls['password'].valid && (changeForm.controls['password'].dirty || changeForm.controls['password'].touched) && changeForm.errors && changeForm.errors['pass_mismatch'] && changeForm.get('password').value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t\t id=\"old-password\"\r\n\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_OLD' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t\t<div *ngIf=\"changeForm.invalid && changeForm.controls['password'].valid && (changeForm.controls['password'].dirty || changeForm.controls['password'].touched) && changeForm.errors && changeForm.errors['pass_mismatch'] && changeForm.get('password').value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t{{ 'SETTINGS.FORM_ERRORS.PASS_NOT_MATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"new-password\">{{ 'SETTINGS.MASTER_PASSWORD.NEW' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t\t [class.invalid]=\"changeForm.controls['new_password'].errors\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"new_password\"\r\n\t\t\t\t\t\t\t\t\t id=\"new-password\"\r\n\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_NEW' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t\t<div *ngIf=\"changeForm.controls['new_password'].dirty && changeForm.controls['new_password'].errors\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"changeForm.controls['new_password'].errors.pattern\">\r\n\t\t\t\t\t\t\t\t{{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"confirm-password\">{{ 'SETTINGS.MASTER_PASSWORD.CONFIRM' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n\t\t\t\t\t\t\t\t\t [class.invalid]=\"changeForm.invalid && (changeForm.controls['new_confirmation'].dirty || changeForm.controls['new_confirmation'].touched) && changeForm.errors && changeForm.errors['confirm_mismatch'] && changeForm.get('new_confirmation').value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"new_confirmation\"\r\n\t\t\t\t\t\t\t\t\t id=\"confirm-password\"\r\n\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t type=\"password\"/>\r\n\t\t\t\t\t\t<div *ngIf=\"changeForm.invalid && (changeForm.controls['new_confirmation'].dirty || changeForm.controls['new_confirmation'].touched) && changeForm.errors && changeForm.errors['confirm_mismatch'] && changeForm.get('new_confirmation').value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t{{ 'SETTINGS.FORM_ERRORS.CONFIRM_NOT_MATCH' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"submit-button-container\">\r\n\t\t\t\t\t\t<button [disabled]=\"!changeForm.valid\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\">{{ 'SETTINGS.MASTER_PASSWORD.BUTTON' | translate }}</button>\r\n\t\t\t\t\t\t<span *ngIf=\"ifSaved\"\r\n\t\t\t\t\t\t\t\t\t[class.active]=\"ifSaved\"\r\n\t\t\t\t\t\t\t\t\tclass=\"ml-1 color-aqua\">{{ 'SETTINGS.SETTINGS_SAVED' | translate }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t\t<p>Build version: {{ currentBuild }}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { DOWNLOADS_PAGE_URL, LOCKED_BALANCE_HELP_PAGE } from '../_shared/constants';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\n\r\n@Component({\r\n  selector: 'app-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.scss']\r\n})\r\nexport class SidebarComponent {\r\n  isModalDialogVisible = false;\r\n\r\n  closeWalletId: number;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modal: ModalService,\r\n    private translate: TranslateService,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  goMainPage(): void {\r\n    if (this.route.snapshot.queryParams && this.route.snapshot.queryParams.prevUrl === 'login') {\r\n      this.ngZone.run(() => {\r\n        this.router.navigate(['/'], { queryParams: { prevUrl: 'login' } });\r\n      });\r\n    } else {\r\n      this.ngZone.run(() => {\r\n        this.router.navigate(['/']);\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  selectWallet(id: number): void {\r\n    this.ngZone.run(() => {\r\n      this.variablesService.setCurrentWallet(id);\r\n      this.router.navigate(['/wallet/history']);\r\n    });\r\n  }\r\n\r\n  contactsRoute(): void {\r\n    if (this.variablesService.appPass) {\r\n      this.ngZone.run(() => {\r\n        this.router.navigate(['/contacts']);\r\n      });\r\n\r\n    } else {\r\n      this.modal.prepareModal(\r\n        'error',\r\n        'CONTACTS.FORM_ERRORS.SET_MASTER_PASSWORD'\r\n      );\r\n    }\r\n  }\r\n\r\n  drop(event: CdkDragDrop<Wallet[]>): void {\r\n    moveItemInArray(this.variablesService.wallets, event.previousIndex, event.currentIndex);\r\n  }\r\n\r\n  showDialog(wallet_id): void {\r\n    this.isModalDialogVisible = true;\r\n    this.closeWalletId = wallet_id;\r\n  }\r\n\r\n  confirmed(confirmed: boolean): void {\r\n    if (confirmed) {\r\n      this.closeWallet(this.closeWalletId);\r\n    }\r\n    this.isModalDialogVisible = false;\r\n  }\r\n\r\n  closeWallet(wallet_id): void {\r\n    this.backend.closeWallet(wallet_id, () => {\r\n      for (let i = this.variablesService.wallets.length - 1; i >= 0; i--) {\r\n        if (this.variablesService.wallets[i].wallet_id === this.variablesService.currentWallet.wallet_id) {\r\n          this.variablesService.wallets.splice(i, 1);\r\n        }\r\n      }\r\n      this.ngZone.run(() => {\r\n        if (this.variablesService.wallets.length) {\r\n          this.variablesService.currentWallet = this.variablesService.wallets[0];\r\n          this.router.navigate(['/wallet/']);\r\n        } else {\r\n          this.router.navigate(['/']);\r\n        }\r\n      });\r\n      if (this.variablesService.appPass) {\r\n        this.backend.storeSecureAppData();\r\n      }\r\n    });\r\n  }\r\n\r\n  getUpdate(): void {\r\n    this.backend.openUrlInBrowser(DOWNLOADS_PAGE_URL);\r\n  }\r\n\r\n  logOut(): void {\r\n    this.variablesService.stopCountdown();\r\n    this.variablesService.appLogin = false;\r\n    this.variablesService.appPass = '';\r\n    this.ngZone.run(() => {\r\n      this.router.navigate(['/login'], { queryParams: { type: 'auth' } });\r\n    });\r\n  }\r\n\r\n  getBalanceTooltip(id: number): null | any {\r\n    const wallet = this.variablesService.getWallet(id);\r\n    if (!wallet) {\r\n      return null;\r\n    }\r\n    let tooltip;\r\n    tooltip = document.createElement('div');\r\n    const available = document.createElement('span');\r\n    available.setAttribute('class', 'available');\r\n    available.innerHTML = this.translate.instant('WALLET.AVAILABLE_BALANCE', {\r\n      available: this.intToMoneyPipe.transform(\r\n        wallet.unlocked_balance\r\n      ),\r\n      currency: this.variablesService.defaultCurrency,\r\n    });\r\n    tooltip.appendChild(available);\r\n    const locked = document.createElement('span');\r\n    locked.setAttribute('class', 'locked');\r\n    locked.innerHTML = this.translate.instant('WALLET.LOCKED_BALANCE', {\r\n      locked: this.intToMoneyPipe.transform(\r\n        wallet.balance.minus(\r\n          wallet.unlocked_balance\r\n        )\r\n      ),\r\n      currency: this.variablesService.defaultCurrency,\r\n    });\r\n    tooltip.appendChild(locked);\r\n    const link = document.createElement('span');\r\n    link.setAttribute('class', 'link');\r\n    link.innerHTML = this.translate.instant('WALLET.LOCKED_BALANCE_LINK');\r\n    link.addEventListener('click', () => {\r\n      this.openInBrowser(LOCKED_BALANCE_HELP_PAGE);\r\n    });\r\n    tooltip.appendChild(link);\r\n    return tooltip;\r\n  }\r\n\r\n  openInBrowser(link): void {\r\n    this.backend.openUrlInBrowser(link);\r\n  }\r\n}\r\n","<div class=\"sidebar-header mb-2\">\r\n\t<div class=\"logo\">\r\n\t\t<img alt=\"zano-logo\"\r\n\t\t\t\t src=\"assets/icons/blue/zano-logo.svg\">\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"sidebar-content\">\r\n\t<div (cdkDropListDropped)=\"drop($event)\"\r\n\t\t\t cdkDropList\r\n\t\t\t cdkDropListLockAxis=\"y\"\r\n\t\t\t class=\"sidebar-content-list scrolled-content mb-1\">\r\n\t\t<ng-container *ngFor=\"let wallet of variablesService.wallets\">\r\n\t\t\t<div (click)=\"selectWallet(wallet.wallet_id)\"\r\n\t\t\t\t\t [cdkDragData]=\"wallet\"\r\n\t\t\t\t\t [class.active]=\"wallet?.wallet_id === variablesService?.currentWallet?.wallet_id\"\r\n\t\t\t\t\t [class.auditable]=\"wallet.is_auditable && !wallet.is_watch_only\"\r\n\t\t\t\t\t [class.watch-only]=\"wallet.is_watch_only\"\r\n\t\t\t\t\t cdkDrag\r\n\t\t\t\t\t class=\"wallet\"\r\n\t\t\t\t\t >\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t<div class=\"name text-ellipsis\">\r\n                            <span *ngIf=\"wallet.new_contracts\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"indicator\">\r\n                                {{ wallet.new_contracts }}\r\n                            </span>\r\n\r\n\t\t\t\t\t\t\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[showWhenNoOverflow]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-left\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ wallet.name }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\">\r\n                              {{!wallet.alias['name'] ? wallet.name : wallet.alias['name']}}\r\n                          </span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"right\">\r\n\t\t\t\t\t\t\t<button (click)=\"showDialog(wallet.wallet_id)\"\r\n\t\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.CLOSE' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon close\"></i>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"balance\">\r\n\t\t\t\t\t\t<span [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t[placement]=\"'bottom'\"\r\n\t\t\t\t\t\t\t\t\t[timeout]=\"0\"\r\n\t\t\t\t\t\t\t\t\t[tooltipClass]=\"'balance-tooltip'\"\r\n\t\t\t\t\t\t\t\t\t[tooltip]=\"getBalanceTooltip(wallet.wallet_id)\"\r\n\t\t\t\t\t\t\t\t\tclass=\"text-ellipsis mr-1\">{{wallet.balance | intToMoney : '3' }}</span>\r\n\t\t\t\t\t\t<span>{{variablesService.defaultCurrency}}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<h4 *appDisablePriceFetch\r\n\t\t\t\t\t\t\tclass=\"price\">\r\n\t\t\t\t\t\t${{wallet.getMoneyEquivalent(variablesService.moneyEquivalent) | intToMoney | number :'1.2-2'}}\r\n\r\n\t\t\t\t\t\t<span [class.red]=\"variablesService.moneyEquivalentPercent < 0\"\r\n\t\t\t\t\t\t\t\t\tclass=\"percent\">\r\n                            {{ variablesService.moneyEquivalentPercent | number : '1.1-2' }}%\r\n                    </span>\r\n\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"(!wallet.is_auditable && !wallet.is_watch_only && wallet.balance.gt(0)) || (wallet.is_auditable && !wallet.is_watch_only && wallet.balance.gt(0))\">\r\n\t\t\t\t\t\t<div *ngIf=\"!(!wallet.loaded && variablesService.daemon_state === 2)\"\r\n\t\t\t\t\t\t\t\t class=\"staking\">\r\n\t\t\t\t\t\t\t<span class=\"text\">{{ 'SIDEBAR.ACCOUNT.STAKING' | translate }}</span>\r\n\t\t\t\t\t\t\t<app-staking-switch [(staking)]=\"wallet.staking\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[wallet_id]=\"wallet.wallet_id\"></app-staking-switch>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t<div *ngIf=\"!wallet.loaded && variablesService.daemon_state === 2\"\r\n\t\t\t\t\t\t\t class=\"account-synchronization\">\r\n\t\t\t\t\t\t<div class=\"progress-bar\">\r\n\t\t\t\t\t\t\t<div [style.width]=\"wallet.progress + '%'\"\r\n\t\t\t\t\t\t\t\t\t class=\"fill\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"progress-percent\">{{ wallet.progress }}%</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ng-container>\r\n\t</div>\r\n\r\n\t<div class=\"sidebar-nav scrolled-content\">\r\n\t\t<!-- ui-kit -->\r\n\t\t<ng-container *ngIf=\"false\">\r\n\t\t\t<button [routerLink]=\"['/ui-kit']\"\r\n\t\t\t\t\t\t\tclass=\"outline small w-100 mb-1 px-2\"\r\n\t\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"start center\"\r\n\t\t\t\t\t\t\trouterLinkActive=\"active\">\r\n\t\t\t\t<span>ui-kit</span>\r\n\t\t\t</button>\r\n\t\t</ng-container>\r\n\r\n\t\t<!-- add wallet -->\r\n\t\t<button (click)=\"goMainPage()\"\r\n\t\t\t\t\t\tclass=\"outline small w-100 mb-1 px-2\"\r\n\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n\t\t\t<i class=\"icon plus mr-1\"></i>\r\n\t\t\t<span>{{ 'SIDEBAR.ADD_NEW' | translate }}</span>\r\n\t\t</button>\r\n\r\n\t\t<!-- contact -->\r\n\t\t<!-- TODO: Uncomment if needed page contact. If you want deleted, please ask Ravaga -->\r\n\r\n\t\t<!--        <ng-container *ngIf=\"variablesService.appPass === ''; else contactsShow\">-->\r\n\t\t<!--            <button class=\"outline small w-100 mb-1 px-2\"-->\r\n\t\t<!--                    fxLayout=\"row inline wrap\"-->\r\n\t\t<!--                    fxLayoutAlign=\"start center\"-->\r\n\t\t<!--                    routerLinkActive=\"active\"-->\r\n\t\t<!--                    tooltip=\"{{ 'SIDEBAR.CONTACTS_TOOLTIP' | translate }}\"-->\r\n\t\t<!--                    placement=\"top\"-->\r\n\t\t<!--                    tooltipClass=\"table-tooltip account-tooltip\"-->\r\n\t\t<!--                    [delay]=\"500\"-->\r\n\t\t<!--                    [timeDelay]=\"500\"-->\r\n\t\t<!--                    [disabled]=\"variablesService.daemon_state !== 2 || variablesService.appPass === ''\"-->\r\n\t\t<!--                    (click)=\"contactsRoute()\">-->\r\n\t\t<!--                <i class=\"icon contacts mr-1\"></i>-->\r\n\t\t<!--                <span>{{ 'SIDEBAR.CONTACTS' | translate }}</span>-->\r\n\t\t<!--            </button>-->\r\n\t\t<!--        </ng-container>-->\r\n\r\n\t\t<!--        <ng-template #contactsShow>-->\r\n\t\t<!--            <button class=\"outline small w-100 mb-1 px-2\"-->\r\n\t\t<!--                    fxLayout=\"row inline wrap\"-->\r\n\t\t<!--                    fxLayoutAlign=\"start center\"-->\r\n\t\t<!--                    routerLinkActive=\"active\"-->\r\n\t\t<!--                    (click)=\"contactsRoute()\"-->\r\n\t\t<!--                    [disabled]=\"variablesService.daemon_state !== 2\">-->\r\n\t\t<!--                <i class=\"icon contacts mr-1\"></i>-->\r\n\t\t<!--                <span>{{ 'SIDEBAR.CONTACTS' | translate }}</span>-->\r\n\t\t<!--            </button>-->\r\n\t\t<!--        </ng-template>-->\r\n\r\n\t\t<!-- settings -->\r\n\t\t<button [routerLink]=\"['/settings']\"\r\n\t\t\t\t\t\tclass=\"outline small w-100 mb-1 px-2\"\r\n\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\tfxLayoutAlign=\"start center\"\r\n\t\t\t\t\t\trouterLinkActive=\"active\">\r\n\t\t\t<i class=\"icon settings mr-1\"></i>\r\n\t\t\t<span> {{ 'SIDEBAR.SETTINGS' | translate }}</span>\r\n\t\t</button>\r\n\r\n\t\t<!-- Log out -->\r\n\t\t<ng-container *ngIf=\"variablesService.appPass === ''; else masterPass\">\r\n\t\t\t<button (click)=\"logOut()\"\r\n\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t[disabled]=\"variablesService.appPass === ''\"\r\n\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\tclass=\"outline small w-100 px-2\"\r\n\t\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"start center\"\r\n\t\t\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\t\t\ttooltip=\"{{ 'SIDEBAR.LOG_OUT_TOOLTIP' | translate }}\"\r\n\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\">\r\n\t\t\t\t<i class=\"icon logout mr-1\"></i>\r\n\t\t\t\t<span> {{ 'SIDEBAR.LOG_OUT' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t</ng-container>\r\n\r\n\t\t<ng-template #masterPass>\r\n\t\t\t<button (click)=\"logOut()\"\r\n\t\t\t\t\t\t\tclass=\"outline small w-100 px-2\"\r\n\t\t\t\t\t\t\tfxLayout=\"row inline wrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n\t\t\t\t<i class=\"icon logout mr-1\"></i>\r\n\t\t\t\t<span> {{ 'SIDEBAR.LOG_OUT' | translate }}</span>\r\n\t\t\t</button>\r\n\t\t</ng-template>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"sidebar-footer\">\r\n\t<app-synchronization-status></app-synchronization-status>\r\n</div>\r\n\r\n<app-confirm-modal (confirmed)=\"confirmed($event)\"\r\n\t\t\t\t\t\t\t\t\t *ngIf=\"isModalDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t [message]=\" 'WALLET.CONFIRM.MESSAGE' | translate \"\r\n\t\t\t\t\t\t\t\t\t [title]=\" 'WALLET.CONFIRM.TITLE' | translate \"></app-confirm-modal>\r\n\r\n<app-deeplink></app-deeplink>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SidebarComponent } from './sidebar.component';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { TooltipModule } from '../_helpers/directives/tooltip/tooltip.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SynchronizationStatusModule } from '../synchronization-status/synchronization-status.module';\r\nimport { PipesModule } from '../_helpers/pipes/pipes.module';\r\nimport { DisablePriceFetchModule } from '../_shared/directives/disable-price-fetch/disable-price-fetch.module';\r\nimport { ConfirmModalModule } from '../_helpers/modals/confirm-modal/confirm-modal.module';\r\nimport { DeeplinkModule } from '../deeplink/deeplink.module';\r\nimport { StakingSwitchModule } from '../_helpers/directives/staking-switch/staking-switch.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [SidebarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    DragDropModule,\r\n    TooltipModule,\r\n    PipesModule,\r\n    TranslateModule,\r\n    DisablePriceFetchModule,\r\n    ConfirmModalModule,\r\n    SynchronizationStatusModule,\r\n    DeeplinkModule,\r\n    StakingSwitchModule,\r\n    FlexLayoutModule\r\n  ],\r\n  exports: [SidebarComponent]\r\n})\r\nexport class SidebarModule {\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { Chart } from 'angular-highcharts';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Component({\r\n  selector: 'app-staking',\r\n  templateUrl: './staking.component.html',\r\n  styleUrls: ['./staking.component.scss']\r\n})\r\nexport class StakingComponent implements OnInit, OnDestroy {\r\n  parentRouting;\r\n\r\n  heightAppEvent;\r\n\r\n  refreshStackingEvent;\r\n\r\n  periods = [\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.WEEK1'),\r\n      key: '1 week',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.WEEK2'),\r\n      key: '2 week',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.MONTH1'),\r\n      key: '1 month',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.MONTH3'),\r\n      key: '3 month',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.MONTH6'),\r\n      key: '6 month',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.YEAR'),\r\n      key: '1 year',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.ALL'),\r\n      key: 'All',\r\n      active: true\r\n    }\r\n  ];\r\n\r\n  groups = [\r\n    {\r\n      title: this.translate.instant('STAKING.GROUP.DAY'),\r\n      key: 'day',\r\n      active: true\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.GROUP.WEEK'),\r\n      key: 'week',\r\n      active: false\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.GROUP.MONTH'),\r\n      key: 'month',\r\n      active: false\r\n    }\r\n  ];\r\n\r\n  selectedGroup = this.groups[0].key;\r\n\r\n  selectedDate = {\r\n    date: null,\r\n    amount: null\r\n  };\r\n\r\n  originalData = [];\r\n\r\n  chart: Chart;\r\n\r\n  total = new BigNumber(0);\r\n\r\n  pending = {\r\n    list: [],\r\n    total: new BigNumber(0)\r\n  };\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private translate: TranslateService\r\n  ) {\r\n  }\r\n\r\n  static makeGroupTime(key, date) {\r\n    if (key === 'day') {\r\n      return date.setHours(0, 0, 0, 0);\r\n    } else if (key === 'week') {\r\n      return new Date(date.setDate(date.getDate() - date.getDay())).setHours(0, 0, 0, 0);\r\n    } else {\r\n      return new Date(date.setDate(1)).setHours(0, 0, 0, 0);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.parentRouting = this.route.parent.params.subscribe(() => {\r\n      this.getMiningHistory();\r\n    });\r\n    this.heightAppEvent = this.variablesService.getHeightAppEvent.subscribe((newHeight: number) => {\r\n      if (!this.pending.total.isZero()) {\r\n        const pendingCount = this.pending.list.length;\r\n        for (let i = pendingCount - 1; i >= 0; i--) {\r\n          if (newHeight - this.pending.list[i].h >= 10) {\r\n            this.pending.list.splice(i, 1);\r\n          }\r\n        }\r\n        if (pendingCount !== this.pending.list.length) {\r\n          this.pending.total = new BigNumber(0);\r\n          for (let i = 0; i < this.pending.list.length; i++) {\r\n            this.pending.total = this.pending.total.plus(this.pending.list[i].a);\r\n          }\r\n        }\r\n      }\r\n    });\r\n    this.refreshStackingEvent = this.variablesService.getRefreshStackingEvent.subscribe((wallet_id: number) => {\r\n      if (this.variablesService.currentWallet.wallet_id === wallet_id) {\r\n        this.getMiningHistory();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.parentRouting.unsubscribe();\r\n    this.heightAppEvent.unsubscribe();\r\n    this.refreshStackingEvent.unsubscribe();\r\n  }\r\n\r\n  drawChart(data): void {\r\n    this.chart = new Chart({\r\n      title: { text: '' },\r\n      credits: { enabled: false },\r\n      exporting: { enabled: false },\r\n      legend: { enabled: false },\r\n      chart: {\r\n        type: 'line',\r\n        backgroundColor: 'transparent',\r\n        height: null,\r\n        zoomType: null,\r\n        events: {\r\n          load: () => {\r\n            this.changePeriod();\r\n          }\r\n        }\r\n      },\r\n\r\n      yAxis: {\r\n        min: 0,\r\n        tickAmount: 5,\r\n        title: {\r\n          text: ''\r\n        },\r\n        gridLineColor: '#2b3644',\r\n        gridLineWidth: 2,\r\n        lineColor: '#2b3644',\r\n        lineWidth: 2,\r\n        tickWidth: 2,\r\n        tickLength: 120,\r\n        tickColor: '#2b3644',\r\n        labels: {\r\n          y: -8,\r\n          align: 'left',\r\n          x: -120,\r\n          style: {\r\n            'color': '#e0e0e0',\r\n            'fontSize': '13px'\r\n          },\r\n          format: '{value} ' + this.variablesService.defaultCurrency\r\n        },\r\n        showLastLabel: false,\r\n      },\r\n\r\n      xAxis: {\r\n        type: 'datetime',\r\n        gridLineColor: '#2b3644',\r\n        lineColor: '#2b3644',\r\n        lineWidth: 2,\r\n        tickWidth: 2,\r\n        tickLength: 10,\r\n        tickColor: '#2b3644',\r\n        labels: {\r\n          style: {\r\n            'color': '#e0e0e0',\r\n            'fontSize': '13px'\r\n          }\r\n        },\r\n        minPadding: 0,\r\n        maxPadding: 0,\r\n        minRange: 86400000,\r\n        // tickInterval: 86400000,\r\n        minTickInterval: 3600000,\r\n      },\r\n\r\n      tooltip: {\r\n        enabled: false\r\n      },\r\n\r\n      plotOptions: {\r\n        area: {\r\n          fillColor: {\r\n            linearGradient: {\r\n              x1: 0,\r\n              y1: 0,\r\n              x2: 0,\r\n              y2: 1\r\n            },\r\n            stops: [\r\n              [0, 'rgba(124,181,236,0.2)'],\r\n              [1, 'rgba(124,181,236,0)']\r\n            ]\r\n          },\r\n          marker: {\r\n            enabled: false,\r\n            radius: 2\r\n          },\r\n          lineWidth: 2,\r\n          threshold: null\r\n        },\r\n\r\n        series: {\r\n          point: {\r\n            events: {\r\n              mouseOver: (obj) => {\r\n                this.selectedDate.date = obj.target['x'];\r\n                this.selectedDate.amount = obj.target['y'];\r\n              }\r\n            }\r\n          },\r\n          events: {\r\n            mouseOut: () => {\r\n              this.selectedDate.date = null;\r\n              this.selectedDate.amount = null;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      series: [\r\n        {\r\n          type: 'area',\r\n          data: data\r\n        }\r\n      ]\r\n    });\r\n  }\r\n\r\n  getMiningHistory(): void {\r\n    if (this.variablesService.currentWallet.loaded) {\r\n      this.backend.getMiningHistory(this.variablesService.currentWallet.wallet_id, (status, data) => {\r\n        this.total = new BigNumber(0);\r\n        this.pending.list = [];\r\n        this.pending.total = new BigNumber(0);\r\n        this.originalData = [];\r\n        if (data.mined_entries) {\r\n          data.mined_entries.forEach((item, key) => {\r\n            if (item.t.toString().length === 10) {\r\n              data.mined_entries[key].t = (new Date(item.t * 1000)).setUTCMilliseconds(0);\r\n            }\r\n          });\r\n          data.mined_entries.forEach((item) => {\r\n            this.total = this.total.plus(item.a);\r\n            if (this.variablesService.height_app - item.h < 10) {\r\n              this.pending.list.push(item);\r\n              this.pending.total = this.pending.total.plus(item.a);\r\n            }\r\n            this.originalData.push([parseInt(item.t, 10), parseFloat(this.intToMoneyPipe.transform(item.a))]);\r\n          });\r\n          this.originalData = this.originalData.sort(function (a, b) {\r\n            return a[0] - b[0];\r\n          });\r\n        }\r\n        this.ngZone.run(() => {\r\n          this.drawChart([]);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  changePeriod(period?): void {\r\n    if (period) {\r\n      this.periods.forEach((p) => {\r\n        p.active = false;\r\n      });\r\n      period.active = true;\r\n    } else {\r\n      period = this.periods.find((p) => p.active);\r\n    }\r\n\r\n    const d = new Date();\r\n    let min = null;\r\n    const newData = [];\r\n\r\n    const group = this.groups.find((g) => g.active);\r\n\r\n    if (period.key === '1 week') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth(), d.getDate() - 7, 0, 0, 0, 0);\r\n    } else if (period.key === '2 week') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth(), d.getDate() - 14, 0, 0, 0, 0);\r\n    } else if (period.key === '1 month') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth() - 1, d.getDate(), 0, 0, 0, 0);\r\n    } else if (period.key === '3 month') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth() - 3, d.getDate(), 0, 0, 0, 0);\r\n    } else if (period.key === '6 month') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear(), d.getMonth() - 6, d.getDate(), 0, 0, 0, 0);\r\n    } else if (period.key === '1 year') {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n      min = Date.UTC(d.getFullYear() - 1, d.getMonth(), d.getDate(), 0, 0, 0, 0);\r\n    } else {\r\n      this.originalData.forEach((item) => {\r\n        const time = StakingComponent.makeGroupTime(group.key, new Date(item[0]));\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref.series[0].setData(newData, true);\r\n    }\r\n\r\n    this.chart.ref.xAxis[0].setExtremes(min, null);\r\n  }\r\n\r\n  changeGroup(group): void {\r\n    this.groups.forEach((g) => {\r\n      g.active = false;\r\n    });\r\n    group.active = true;\r\n    this.changePeriod();\r\n  }\r\n}\r\n","<div class=\"chart-wrap\"\r\n\t\t fxFlexFill\r\n\t\t fxLayout=\"column\">\r\n\t<div class=\"scrolled-content h-100\"\r\n\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t fxLayout=\"column\">\r\n\t\t<div class=\"chart-header mb-1\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayout=\"column\">\r\n\t\t\t<div class=\"row\"\r\n\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t fxLayoutAlign=\"space-between start\"\r\n\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t\t<div class=\"left\"\r\n\t\t\t\t\t\t fxFlex=\"1 1 calc(50% - 0.5rem)\"\r\n\t\t\t\t\t\t fxLayout=\"row wrap\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"start center\"\r\n\t\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\r\n\t\t\t\t\t<div class=\"items\"\r\n\t\t\t\t\t\t\t fxLayout=\"row wrap\"\r\n\t\t\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t*ngIf=\"(!variablesService.currentWallet.is_auditable && !variablesService.currentWallet.is_watch_only)\r\n                  || (variablesService.currentWallet.is_auditable && !variablesService.currentWallet.is_watch_only)\"\r\n\t\t\t\t\t\t\tclass=\"item overflow-hidden p-1 border-radius-0_8-rem mb-1\"\r\n\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"left overflow-hidden mr-1\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">{{ 'STAKING.TITLE' | translate }}</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"right overflow-hidden w-100\"\r\n\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"end center\">\r\n\t\t\t\t\t\t\t\t<app-staking-switch\r\n\t\t\t\t\t\t\t\t\t[(staking)]=\"variablesService.currentWallet.staking\"\r\n\t\t\t\t\t\t\t\t\t[wallet_id]=\"variablesService.currentWallet.wallet_id\">\r\n\t\t\t\t\t\t\t\t</app-staking-switch>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"item overflow-hidden p-1 border-radius-0_8-rem mb-1\"\r\n\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"left overflow-hidden mr-1\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">{{ 'STAKING.TITLE_PENDING' | translate }}\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right overflow-hidden w-100\"\r\n\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"end center\">\r\n\t\t\t\t\t\t\t\t<div class=\"text-ellipsis mr-1\">{{pending.total | intToMoney}}</div>\r\n\t\t\t\t\t\t\t\t{{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"item overflow-hidden p-1 border-radius-0_8-rem mb-1\"\r\n\t\t\t\t\t\t\tfxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\tfxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"left overflow-hidden mr-1\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">{{ 'STAKING.TITLE_TOTAL' | translate }}\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right overflow-hidden w-100\"\r\n\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"end center\">\r\n\t\t\t\t\t\t\t\t<div class=\"text-ellipsis mr-1\">{{total | intToMoney}}</div>\r\n\t\t\t\t\t\t\t\t{{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"right\"\r\n\t\t\t\t\t\t fxFlex=\"1 1 calc(50% - 0.5rem)\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"end center\"\r\n\t\t\t\t\t\t fxLayoutGap=\"1rem\">\r\n\t\t\t\t\t<div *ngIf=\"selectedDate && selectedDate.date\"\r\n\t\t\t\t\t\t\t class=\"selected overflow-hidden\"\r\n\t\t\t\t\t\t\t fxHide\r\n\t\t\t\t\t\t\t fxShow.lg\r\n\t\t\t\t\t\t\t fxShow.xl>\r\n\t\t\t\t\t\t<div class=\"overflow-hidden\" fxLayout=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"text-ellipsis\">{{selectedDate.date | date : 'EEEE, MMMM d, y'}}\r\n\t\t\t\t\t\t\t\t{{selectedDate.amount}}</div>\r\n\t\t\t\t\t\t\t<div class=\"ml-0_5\">{{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<ng-select (change)=\"changeGroup($event)\"\r\n\t\t\t\t\t\t\t\t\t\t [(ngModel)]=\"selectedGroup\"\r\n\t\t\t\t\t\t\t\t\t\t [clearable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t [items]=\"groups\"\r\n\t\t\t\t\t\t\t\t\t\t [searchable]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t bindLabel=\"title\"\r\n\t\t\t\t\t\t\t\t\t\t bindValue=\"key\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"selected-group max-w-19-rem w-100\">\r\n\t\t\t\t\t\t<ng-template let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-label-tmp>\r\n\t\t\t\t\t\t\tSort by {{(item.title | translate | lowercase) + 's'}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template let-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t let-item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ng-option-tmp>\r\n\t\t\t\t\t\t\t{{item.title | translate}}\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</ng-select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\"\r\n\t\t\t\t\t fxFlex=\"0 0 2rem\"\r\n\t\t\t\t\t fxHide.lg\r\n\t\t\t\t\t fxHide.xl\r\n\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t fxLayoutAlign=\"space-between center\"\r\n\t\t\t\t\t fxLayoutGap=\"1rem\"\r\n\t\t\t\t\t fxShow>\r\n\t\t\t\t<div class=\"left\"></div>\r\n\t\t\t\t<div class=\"right\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"end center\">\r\n\t\t\t\t\t<div *ngIf=\"selectedDate && selectedDate.date\"\r\n\t\t\t\t\t\t\t class=\"selected overflow-hidden\">\r\n\t\t\t\t\t\t<div class=\"overflow-hidden\" fxLayout=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"text-ellipsis\">{{selectedDate.date | date : 'EEEE, MMMM d, y'}}\r\n\t\t\t\t\t\t\t\t{{selectedDate.amount}}</div>\r\n\t\t\t\t\t\t\t<div class=\"ml-0_5\">{{variablesService.defaultCurrency}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"chart border-radius-0_8-rem\"\r\n\t\t\t\t fxFlex=\"1 1 auto\"\r\n\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t<div [chart]=\"chart\"></div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"chart-options mt-2\"\r\n\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t fxLayoutAlign=\" center\">\r\n\t\t\t<ng-container *ngFor=\"let period of periods; let last = last\">\r\n\t\t\t\t<button (click)=\"changePeriod(period)\"\r\n\t\t\t\t\t\t\t\t[class.active]=\"period.active\"\r\n\t\t\t\t\t\t\t\t[class.mr-1]=\"!last\"\r\n\t\t\t\t\t\t\t\t[class.outline]=\"!last\"\r\n\t\t\t\t\t\t\t\t[class.primary]=\"last\"\r\n\t\t\t\t\t\t\t\tclass=\"big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">{{period.title}}</button>\r\n\t\t\t</ng-container>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { DOWNLOADS_PAGE_URL } from '../_shared/constants';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\n\r\n@Component({\r\n  selector: 'app-synchronization-status',\r\n  templateUrl: './synchronization-status.component.html',\r\n  styleUrls: ['./synchronization-status.component.scss']\r\n})\r\nexport class SynchronizationStatusComponent {\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backend: BackendService\r\n  ) {\r\n  }\r\n\r\n  getUpdate(): void {\r\n    this.backend.openUrlInBrowser(DOWNLOADS_PAGE_URL);\r\n  }\r\n\r\n}\r\n","<div [ngStyle]=\"{'align-items': variablesService.daemon_state === 1 || variablesService.daemon_state === 6 ? 'flex-start' : 'center'}\"\r\n\t\t class=\"synchronization-status overflow-hidden\">\r\n\t<div class=\"status-container\">\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 0\"\r\n\t\t\t\t class=\"offline\">\r\n\t\t\t<span>{{ 'SIDEBAR.SYNCHRONIZATION.OFFLINE' | translate }}</span>\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 1\"\r\n\t\t\t\t class=\"syncing text-ellipsis\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.SYNCING' | translate }}\r\n\t\t\t{{ variablesService.sync.progress_value_text }}%\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 2\"\r\n\t\t\t\t class=\"online\">\r\n\t\t\t<span>{{ 'SIDEBAR.SYNCHRONIZATION.ONLINE' | translate }}</span>\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 3\"\r\n\t\t\t\t class=\"loading\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.LOADING' | translate }}\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 4\"\r\n\t\t\t\t class=\"offline\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.ERROR' | translate }}\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 5\"\r\n\t\t\t\t class=\"online\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.COMPLETE' | translate }}\r\n\t\t</div>\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 6\"\r\n\t\t\t\t class=\"syncing text-ellipsis\">\r\n\t\t\t{{ 'SIDEBAR.SYNCHRONIZATION.DOWNLOADING' | translate }}\r\n\t\t\t{{ variablesService.download.progress_value_text }}%\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 1 || variablesService.daemon_state === 3\"\r\n\t\t\t\t class=\"progress-bar-container\">\r\n\t\t\t<div *ngIf=\"variablesService.daemon_state === 1\"\r\n\t\t\t\t\t class=\"syncing\">\r\n\t\t\t\t<div class=\"progress-bar\">\r\n\t\t\t\t\t<div [style.width]=\"variablesService.sync.progress_value + '%'\"\r\n\t\t\t\t\t\t\t class=\"fill\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div *ngIf=\"variablesService.daemon_state === 3\"\r\n\t\t\t\t\t class=\"loading\"></div>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf=\"variablesService.daemon_state === 6\"\r\n\t\t\t\t class=\"progress-bar-container\">\r\n\t\t\t<div *ngIf=\"variablesService.daemon_state === 6\"\r\n\t\t\t\t\t class=\"syncing downloading\">\r\n\t\t\t\t<div class=\"progress-bar\">\r\n\t\t\t\t\t<div [style.width]=\"variablesService.download.progress_value + '%'\"\r\n\t\t\t\t\t\t\t class=\"fill\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div *ngIf=\"(variablesService.daemon_state === 0 || variablesService.daemon_state === 2) && [2, 3, 4].indexOf(variablesService.last_build_displaymode) !== -1\"\r\n\t\t\t class=\"update-container\">\r\n\t\t<ng-container *ngIf=\"variablesService.last_build_displaymode === 2\">\r\n\t\t\t<div class=\"update-text standard\">\r\n                <span (click)=\"getUpdate()\"\r\n\t\t\t\t\t\t\t\t\t\t\t[style.cursor]=\"'pointer'\">{{ 'SIDEBAR.UPDATE.STANDARD' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t\t<i [delay]=\"500\"\r\n\t\t\t\t class=\"icon update standard\"\r\n\t\t\t\t placement=\"right-bottom\"\r\n\t\t\t\t tooltip=\"{{ 'SIDEBAR.UPDATE.STANDARD_TOOLTIP' | translate }}\"\r\n\t\t\t\t tooltipClass=\"update-tooltip\"></i>\r\n\t\t</ng-container>\r\n\r\n\t\t<ng-container *ngIf=\"variablesService.last_build_displaymode === 3\">\r\n\t\t\t<div class=\"update-text important\">\r\n                <span (click)=\"getUpdate()\"\r\n\t\t\t\t\t\t\t\t\t\t\t[style.cursor]=\"'pointer'\">{{ 'SIDEBAR.UPDATE.IMPORTANT' | translate }}</span>\r\n\t\t\t\t<span style=\"font-size: 1rem\">{{ 'SIDEBAR.UPDATE.IMPORTANT_HINT' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t\t<i [delay]=\"500\"\r\n\t\t\t\t class=\"icon update important\"\r\n\t\t\t\t placement=\"right-bottom\"\r\n\t\t\t\t tooltip=\"{{ 'SIDEBAR.UPDATE.IMPORTANT_TOOLTIP' | translate }}\"\r\n\t\t\t\t tooltipClass=\"update-tooltip important\"></i>\r\n\t\t</ng-container>\r\n\r\n\t\t<ng-container *ngIf=\"variablesService.last_build_displaymode === 4\">\r\n\t\t\t<div class=\"update-text critical\">\r\n                <span (click)=\"getUpdate()\"\r\n\t\t\t\t\t\t\t\t\t\t\t[style.cursor]=\"'pointer'\">{{ 'SIDEBAR.UPDATE.CRITICAL' | translate }}</span>\r\n\t\t\t\t<span style=\"font-size: 1rem\">{{ 'SIDEBAR.UPDATE.IMPORTANT_HINT' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t\t<i [delay]=\"500\"\r\n\t\t\t\t class=\"icon update critical\"\r\n\t\t\t\t placement=\"right-bottom\"\r\n\t\t\t\t tooltip=\"{{ 'SIDEBAR.UPDATE.CRITICAL_TOOLTIP' | translate }}\"\r\n\t\t\t\t tooltipClass=\"update-tooltip critical\"></i>\r\n\t\t</ng-container>\r\n\t</div>\r\n\r\n\t<div *ngIf=\"variablesService.daemon_state === 2 && variablesService.net_time_delta_median !== 0\"\r\n\t\t\t class=\"update-container\">\r\n\t\t<div class=\"update-text time-orange\">\r\n\t\t\t<span>{{ 'SIDEBAR.UPDATE.TIME' | translate }}</span>\r\n\t\t</div>\r\n\t\t<i [delay]=\"500\"\r\n\t\t\t class=\"icon time-orange\"\r\n\t\t\t placement=\"right-bottom\"\r\n\t\t\t tooltip=\"{{ 'SIDEBAR.UPDATE.TIME_TOOLTIP' | translate }}\"\r\n\t\t\t tooltipClass=\"update-tooltip important\"></i>\r\n\t</div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SynchronizationStatusComponent } from './synchronization-status.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { TooltipModule } from '../_helpers/directives/tooltip/tooltip.module';\r\n\r\n@NgModule({\r\n  declarations: [SynchronizationStatusComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    TooltipModule\r\n  ],\r\n  exports: [SynchronizationStatusComponent]\r\n})\r\nexport class SynchronizationStatusModule {\r\n}\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { ModalService } from '../_helpers/services/modal.service';\r\nimport { Wallet } from '../_helpers/models/wallet.model';\r\n\r\n@Component({\r\n  selector: 'app-transfer-alias',\r\n  templateUrl: './transfer-alias.component.html',\r\n  styleUrls: ['./transfer-alias.component.scss']\r\n})\r\nexport class TransferAliasComponent implements OnInit {\r\n  wallet: Wallet;\r\n\r\n  alias: any;\r\n\r\n  transferAddress = '';\r\n\r\n  transferAddressValid: boolean;\r\n\r\n  transferAddressAlias: boolean;\r\n\r\n  permissionSend: boolean;\r\n\r\n  notEnoughMoney: boolean;\r\n\r\n  requestProcessing = false;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private location: Location,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.wallet = this.variablesService.currentWallet;\r\n    const alias = this.backend.getWalletAlias(this.wallet.address);\r\n    this.alias = {\r\n      name: alias.name,\r\n      address: alias.address,\r\n      comment: alias.comment,\r\n      tracking_key: alias.tracking_key\r\n    };\r\n    this.notEnoughMoney = this.wallet.unlocked_balance.isLessThan(this.variablesService.default_fee_big);\r\n  }\r\n\r\n  changeAddress(): void {\r\n    this.backend.validateAddress(this.transferAddress, status => {\r\n      this.transferAddressValid = status;\r\n      if (status) {\r\n        this.backend.getPoolInfo((statusPool, dataPool) => {\r\n          if (dataPool.hasOwnProperty('aliases_que') && dataPool.aliases_que.length) {\r\n            this.setStatus(!dataPool.aliases_que.some((el) => el.address === this.transferAddress));\r\n          } else {\r\n            this.setStatus(status);\r\n          }\r\n        });\r\n      } else {\r\n        this.setStatus(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  setStatus(statusSet): void {\r\n    this.permissionSend = statusSet;\r\n    if (statusSet) {\r\n      this.backend.getAliasByAddress(this.transferAddress, (status) => {\r\n        this.ngZone.run(() => {\r\n          if (status) {\r\n            this.transferAddressAlias = true;\r\n            this.permissionSend = false;\r\n          } else {\r\n            this.transferAddressAlias = false;\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      this.ngZone.run(() => {\r\n        this.transferAddressAlias = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  transferAlias(): void {\r\n    if (this.requestProcessing || !this.permissionSend || !this.transferAddressValid || this.notEnoughMoney) {\r\n      return;\r\n    }\r\n    this.requestProcessing = true;\r\n    const newAlias = {\r\n      name: this.alias.name,\r\n      address: this.transferAddress,\r\n      comment: this.alias.comment,\r\n      tracking_key: this.alias.tracking_key\r\n    };\r\n    this.backend.updateAlias(this.wallet.wallet_id, newAlias, this.variablesService.default_fee, (status, data) => {\r\n      if (status && data.hasOwnProperty('success') && data.success) {\r\n        this.modalService.prepareModal('info', 'TRANSFER_ALIAS.REQUEST_SEND_REG');\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/wallet/']);\r\n        });\r\n      }\r\n      this.requestProcessing = false;\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.TRANSFER_ALIAS' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/wallet/history']\">{{ wallet.name }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'BREADCRUMBS.TRANSFER_ALIAS' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<form class=\"form\">\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"alias-name\">\r\n\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.NAME.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input [value]=\"alias.name\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t id=\"alias-name\"\r\n\t\t\t\t\t\t\t\t name=\"alias-name\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'EDIT_ALIAS.NAME.PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field textarea\">\r\n\t\t\t\t\t<label for=\"alias-comment\">\r\n\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.COMMENT.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea [(ngModel)]=\"alias.comment\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"alias-comment\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"{{ 'EDIT_ALIAS.COMMENT.PLACEHOLDER' | translate }}\"></textarea>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t<label for=\"alias-transfer\">\r\n\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.ADDRESS.LABEL' | translate }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t (ngModelChange)=\"changeAddress()\"\r\n\t\t\t\t\t\t\t\t [(ngModel)]=\"transferAddress\"\r\n\t\t\t\t\t\t\t\t [class.invalid]=\"transferAddress.length > 0 && (transferAddressAlias || !transferAddressValid || (transferAddressValid && !permissionSend) || notEnoughMoney)\"\r\n\t\t\t\t\t\t\t\t [ngModelOptions]=\"{standalone: true}\"\r\n\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t id=\"alias-transfer\"\r\n\t\t\t\t\t\t\t\t name=\"alias-transfer\"\r\n\t\t\t\t\t\t\t\t placeholder=\"{{ 'TRANSFER_ALIAS.ADDRESS.PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t<div *ngIf=\"transferAddress.length > 0 && (transferAddressAlias || !transferAddressValid || (transferAddressValid && !permissionSend) || notEnoughMoney)\"\r\n\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t<div *ngIf=\"!transferAddressValid\">\r\n\t\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.FORM_ERRORS.WRONG_ADDRESS' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"transferAddressAlias || (transferAddressValid && !permissionSend)\">\r\n\t\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.FORM_ERRORS.ALIAS_EXISTS' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf=\"notEnoughMoney\">\r\n\t\t\t\t\t\t\t{{ 'TRANSFER_ALIAS.FORM_ERRORS.NO_MONEY' | translate }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"alias-cost mb-2\">{{ \"TRANSFER_ALIAS.COST\" | translate : {\r\n\t\t\t\t\tvalue: variablesService.default_fee, currency:\r\n\t\t\t\t\tvariablesService.defaultCurrency\r\n\t\t\t\t} }}</div>\r\n\r\n\t\t\t\t<button (click)=\"transferAlias()\"\r\n\t\t\t\t\t\t\t\t[disabled]=\"transferAddressAlias || !transferAddressValid || notEnoughMoney\"\r\n\t\t\t\t\t\t\t\tclass=\"primary big w-100\"\r\n\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t{{ 'TRANSFER_ALIAS.BUTTON_TRANSFER' | translate }}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators, ValidationErrors } from '@angular/forms';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-wallet-details',\r\n  templateUrl: './wallet-details.component.html',\r\n  styleUrls: ['./wallet-details.component.scss'],\r\n})\r\nexport class WalletDetailsComponent implements OnInit {\r\n  seedPhrase = '';\r\n\r\n  showSeed = false;\r\n\r\n  seedPhraseCopied = false;\r\n\r\n  ifSaved = false;\r\n\r\n  detailsForm = new FormGroup({\r\n    name: new FormControl('', [\r\n      Validators.required,\r\n      (g: FormControl) => {\r\n        for (let i = 0; i < this.variablesService.wallets.length; i++) {\r\n          if (g.value === this.variablesService.wallets[i].name) {\r\n            if (\r\n              this.variablesService.wallets[i].wallet_id ===\r\n              this.variablesService.currentWallet.wallet_id\r\n            ) {\r\n              return { same: true };\r\n            } else {\r\n              return { duplicate: true };\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      },\r\n    ]),\r\n    path: new FormControl(''),\r\n  });\r\n\r\n  seedPhraseForm = new FormGroup(\r\n    {\r\n      password: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n      confirmPassword: new FormControl(\r\n        '',\r\n        Validators.pattern(this.variablesService.pattern)\r\n      ),\r\n    },\r\n    { validators: this.checkPasswords }\r\n  );\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private location: Location\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.showSeed = false;\r\n    this.detailsForm\r\n      .get('name')\r\n      .setValue(this.variablesService.currentWallet.name);\r\n    this.detailsForm\r\n      .get('path')\r\n      .setValue(this.variablesService.currentWallet.path);\r\n  }\r\n\r\n  checkPasswords(group: FormGroup): ValidationErrors | null {\r\n    const pass = group.controls.password.value;\r\n    const confirmPass = group.controls.confirmPassword.value;\r\n\r\n    return pass === confirmPass ? null : { notSame: true };\r\n  }\r\n\r\n  showSeedPhrase(): void {\r\n    this.showSeed = true;\r\n  }\r\n\r\n  onSubmitSeed(): void {\r\n    if (this.seedPhraseForm.valid) {\r\n      this.showSeedPhrase();\r\n      const wallet_id = this.variablesService.currentWallet.wallet_id;\r\n      const seed_password = this.seedPhraseForm.controls.password.value;\r\n      this.backend.getSmartWalletInfo(\r\n        { wallet_id, seed_password },\r\n        (status, data) => {\r\n          if (data.hasOwnProperty('seed_phrase')) {\r\n            this.ngZone.run(() => {\r\n              this.seedPhrase = data['seed_phrase'].trim();\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  onSave(): void {\r\n    this.ifSaved = true;\r\n    setTimeout(() => {\r\n      this.ifSaved = false;\r\n    }, 3000);\r\n  }\r\n\r\n  onSubmitEdit(): void {\r\n    if (this.detailsForm.value) {\r\n      this.onSave();\r\n      this.variablesService.currentWallet.name = this.detailsForm.get(\r\n        'name'\r\n      ).value;\r\n      this.detailsForm.reset({ name: this.variablesService.currentWallet.name, path: this.variablesService.currentWallet.path });\r\n    }\r\n  }\r\n\r\n  copySeedPhrase(): void {\r\n    this.backend.setClipboard(this.seedPhrase, () => {\r\n      this.ngZone.run(() => {\r\n        setTimeout(() => {\r\n          this.seedPhraseCopied = false;\r\n        }, 4000);\r\n        this.seedPhraseCopied = true;\r\n      });\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.location.back();\r\n  }\r\n}\r\n","<div class=\"page-container\">\r\n\r\n\t<div class=\"toolbar mb-2\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<button (click)=\"back()\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big mr-2\"\r\n\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t<i class=\"icon dropdown-arrow-left\"></i>\r\n\t\t\t</button>\r\n\t\t\t<h1>{{ 'BREADCRUMBS.WALLET_DETAILS' | translate }}</h1>\r\n\t\t</div>\r\n\t\t<div class=\"right\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"page-content\">\r\n\t\t<div class=\"breadcrumbs mb-2\">\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<a [routerLink]=\"['/wallet/history']\">{{ variablesService.currentWallet.name }}</a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"breadcrumb\">\r\n\t\t\t\t<span>{{ 'BREADCRUMBS.WALLET_DETAILS' | translate }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"scrolled-content\">\r\n\t\t\t<div fxFlexFill\r\n\t\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t\t fxLayoutAlign=\"start stretch\">\r\n\t\t\t\t<form (ngSubmit)=\"onSubmitEdit()\"\r\n\t\t\t\t\t\t\t[formGroup]=\"detailsForm\"\r\n\t\t\t\t\t\t\tclass=\"form\">\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"wallet-name\">{{ 'WALLET_DETAILS.LABEL_NAME' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n\t\t\t\t\t\t\t\t\t [maxLength]=\"variablesService.maxWalletNameLength\"\r\n\t\t\t\t\t\t\t\t\t [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"name\"\r\n\t\t\t\t\t\t\t\t\t id=\"wallet-name\"\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].invalid && (detailsForm.controls['name'].dirty || detailsForm.controls['name'].touched)\"\r\n\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].errors['same']\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].errors['duplicate']\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.get('name').value.length >= variablesService.maxWalletNameLength\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div *ngIf=\"detailsForm.controls['name'].hasError('required')\">\r\n\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button [disabled]=\"detailsForm.invalid && !detailsForm.controls['name'].dirty\"\r\n\t\t\t\t\t\t\t\t\tclass=\"primary big max-w-19-rem w-100 mb-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t\t\t\t{{'SETTINGS.MASTER_PASSWORD.BUTTON' | translate }}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<p *ngIf=\"ifSaved\"\r\n\t\t\t\t\t\t [class.active]=\"ifSaved\"\r\n\t\t\t\t\t\t class=\"saved-message\">Saved!</p>\r\n\r\n\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t<label for=\"wallet-location\">{{ 'WALLET_DETAILS.LABEL_FILE_LOCATION' | translate }}</label>\r\n\t\t\t\t\t\t<input (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, detailsForm.get('path')?.value)\"\r\n\t\t\t\t\t\t\t\t\t class=\"form__field--input cursor-default\"\r\n\t\t\t\t\t\t\t\t\t formControlName=\"path\"\r\n\t\t\t\t\t\t\t\t\t id=\"wallet-location\"\r\n\t\t\t\t\t\t\t\t\t readonly\r\n\t\t\t\t\t\t\t\t\t type=\"text\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<ng-container *ngIf=\"!showSeed else seedPhraseContent\">\r\n\t\t\t\t\t<form (ngSubmit)=\"onSubmitSeed()\"\r\n\t\t\t\t\t\t\t\t[formGroup]=\"seedPhraseForm\"\r\n\t\t\t\t\t\t\t\tclass=\"form bg-light-blue-details p-2\"\r\n\t\t\t\t\t\t\t\tfxFlex=\"0 0 auto\"\r\n\t\t\t\t\t\t\t\tfxLayout=\"column\"\r\n\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t<label for=\"create-password\">{{ 'WALLET_DETAILS.CREATE_PASSWORD_SECURE' | translate }}</label>\r\n\t\t\t\t\t\t\t<input class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t formControlName=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t id=\"create-password\"\r\n\t\t\t\t\t\t\t\t\t\t placeholder=\"{{ 'PLACEHOLDERS.PASSWORD_PLACEHOLDER' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"form__field\">\r\n\t\t\t\t\t\t\t<label for=\"confirm-password\">{{ 'WALLET_DETAILS.FORM.CONFIRM_PASSWORD' | translate }}</label>\r\n\t\t\t\t\t\t\t<input [class.invalid]=\"seedPhraseForm.invalid && seedPhraseForm.get('confirmPassword').value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t\t class=\"form__field--input\"\r\n\t\t\t\t\t\t\t\t\t\t formControlName=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t id=\"confirm-password\"\r\n\t\t\t\t\t\t\t\t\t\t placeholder=\"{{'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate}}\"\r\n\t\t\t\t\t\t\t\t\t\t type=\"password\">\r\n\t\t\t\t\t\t\t<div *ngIf=\"seedPhraseForm.invalid && (seedPhraseForm.controls['confirmPassword'].dirty || seedPhraseForm.controls['confirmPassword'].touched)\"\r\n\t\t\t\t\t\t\t\t\t class=\"error\">\r\n\t\t\t\t\t\t\t\t<div *ngIf=\"seedPhraseForm.invalid && seedPhraseForm.get('confirmPassword').value.length > 0\">\r\n\t\t\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM_ERRORS.PASSWORDS_DONT_MATCH' | translate }}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button [disabled]=\"!seedPhraseForm.valid\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"primary big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"><i class=\"icon check-shield mr-1\"></i>\r\n\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM.GENERATE_SECURE_SEED' | translate }}</button>\r\n\r\n\t\t\t\t\t\t<p class=\"color-primary\"\r\n\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">\r\n\t\t\t\t\t\t\t<i class=\"icon info-circle mr-1\"></i>\r\n\t\t\t\t\t\t\t{{ 'WALLET_DETAILS.FORM.SECURED_SEED_WILL_REQUIRE' | translate }}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t<ng-template #seedPhraseContent>\r\n\t\t\t\t\t<div class=\"seed-phrase bg-light-blue-details p-2 border-radius-0_8-rem\"\r\n\t\t\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t\t\t<div class=\"header mb-2\"\r\n\t\t\t\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t fxLayoutAlign=\"space-between center\">\r\n\t\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t\t<span>{{ 'WALLET_DETAILS.LABEL_SEED_PHRASE' | translate }}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"right\">\r\n                                <span *ngIf=\"seedPhraseForm.controls.password.value.length == 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"status color-red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n                                    {{ 'WALLET_DETAILS.SEED_IS_UNSECURED' | translate }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon unsecured ml-1\"></i>\r\n                                </span>\r\n\t\t\t\t\t\t\t\t<span *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"status color-aqua\"\r\n\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\tfxLayoutAlign=\"start center\">\r\n                                    {{ 'WALLET_DETAILS.SEED_IS_SECURED' | translate }}\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon secured ml-1\"></i>\r\n                                </span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div (contextmenu)=\"variablesService.onContextMenuOnlyCopy($event, seedPhrase)\"\r\n\t\t\t\t\t\t\t\t class=\"content mb-1\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"row wrap\">\r\n\t\t\t\t\t\t\t<ng-container *ngFor=\"let word of seedPhrase.split(' '); let index = index\">\r\n\t\t\t\t\t\t\t\t<div class=\"item p-1 mr-1 mb-1 border-radius-0_8-rem\"\r\n\t\t\t\t\t\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"number p-1 mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t\t\t\t\t\t fxLayoutAlign=\"center center\">{{ index + 1 }}</div>\r\n\t\t\t\t\t\t\t\t\t<span class=\"word\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tfxLayout=\"row\">{{ word }}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"footer max-w-50-rem w-100\"\r\n\t\t\t\t\t\t\t\t fxLayout=\"column\">\r\n\t\t\t\t\t\t\t<button (click)=\"copySeedPhrase()\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"outline big w-100 mb-2\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"!seedPhraseCopied\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon copy mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\t{{ 'SEED_PHRASE.BUTTON_COPY' | translate }}\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t\t<ng-container *ngIf=\"seedPhraseCopied\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon check mr-1\"></i>\r\n\t\t\t\t\t\t\t\t\t{{ 'SEED_PHRASE.BUTTON_COPIED' | translate }}\r\n\t\t\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<p *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n\t\t\t\t\t\t\t\t class=\"text-align-center\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon info-circle mr-1\"></i>\r\n\t\t\t\t\t\t\t\t<span class=\"color-primary\">{{ 'WALLET_DETAILS.REMEMBER_YOU_WILL_REQUIRE' | translate}}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</ng-template>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { Component, HostListener, NgZone, OnDestroy, OnInit, } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VariablesService } from '../_helpers/services/variables.service';\r\nimport { BackendService } from '../_helpers/services/backend.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IntToMoneyPipe } from '../_helpers/pipes/int-to-money.pipe';\r\nimport { Subject } from 'rxjs';\r\nimport { Store, Sync } from 'store';\r\nimport { distinctUntilChanged, filter, takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-wallet',\r\n  templateUrl: './wallet.component.html',\r\n  styleUrls: ['./wallet.component.scss'],\r\n})\r\nexport class WalletComponent implements OnInit, OnDestroy {\r\n  settingsButtonInterval;\r\n\r\n  settingsButtonDisabled = true;\r\n\r\n  walletLoaded = false;\r\n\r\n  openDropdown: boolean;\r\n\r\n  delWalletDialogVisible = false;\r\n\r\n  exportHistoryDialogVisible = false;\r\n\r\n  stateVisibleAddCustomToken = false;\r\n\r\n  closeWalletId: number;\r\n\r\n  walletSyncVisible = false;\r\n\r\n  tabs = [\r\n    {\r\n      title: 'WALLET.TABS.HISTORY',\r\n      icon: 'time-circle',\r\n      link: '/history',\r\n      disabled: false\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.SEND',\r\n      icon: 'arrow-up-square',\r\n      link: '/send',\r\n      disabled: true\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.RECEIVE',\r\n      icon: 'arrow-down-square',\r\n      link: '/receive',\r\n      disabled: false\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.CONTRACTS',\r\n      icon: 'document',\r\n      link: '/contracts',\r\n      disabled: true\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.STAKING',\r\n      icon: 'staking',\r\n      link: '/staking',\r\n      indicator: false,\r\n      disabled: true\r\n    },\r\n  ];\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private store: Store\r\n  ) {\r\n    if (!this.variablesService.currentWallet && this.variablesService.wallets.length > 0) {\r\n      this.variablesService.setCurrentWallet(0);\r\n    }\r\n    this.walletLoaded = this.variablesService.currentWallet.loaded;\r\n  }\r\n\r\n  @HostListener('document:keydown.shift', ['$event.key'])\r\n  onKeyPressed(): void {\r\n    if (!this.openDropdown) {\r\n      this.walletSyncVisible = true;\r\n    }\r\n  }\r\n\r\n  @HostListener('document:keyup.shift', ['$event.key'])\r\n  onKeyUpPressed(): void {\r\n    if (!this.openDropdown) {\r\n      this.walletSyncVisible = false;\r\n    }\r\n  }\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  onClick(targetElement): void {\r\n    if (targetElement.dataset.target !== 'wallet-dropdown-button' && this.openDropdown) {\r\n      this.openDropdown = false;\r\n      this.walletSyncVisible = false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.settingsButtonInterval = setInterval(() => {\r\n      // tslint:disable-next-line:triple-equals\r\n      if (this.variablesService.daemon_state == 2 || this.walletLoaded) {\r\n        this.settingsButtonDisabled = false;\r\n        clearInterval(this.settingsButtonInterval);\r\n      }\r\n    }, 1000);\r\n    this.store\r\n      .select('sync')\r\n      .pipe(filter(Boolean), distinctUntilChanged(), takeUntil(this.destroy$))\r\n      .subscribe((value: any) => {\r\n        const data = value.filter(\r\n          (item: Sync) => item.wallet_id === this.variablesService.currentWallet.wallet_id\r\n        )[0];\r\n        if (data && !data.sync) {\r\n          let in_progress;\r\n          const values = this.store.value.sync;\r\n          if (values && values.length) {\r\n            in_progress = values.filter((item) => item.sync);\r\n            this.variablesService.sync_started = !!(\r\n              in_progress && in_progress.length\r\n            );\r\n            if (!in_progress) {\r\n              this.variablesService.sync_started = false;\r\n            }\r\n          } else {\r\n            this.variablesService.sync_started = false;\r\n          }\r\n        }\r\n      });\r\n    if (this.variablesService.currentWallet.alias.hasOwnProperty('name')) {\r\n      this.variablesService.currentWallet.wakeAlias = false;\r\n    }\r\n    this.variablesService.getAliasChangedEvent.pipe(takeUntil(this.destroy$)).subscribe(\r\n      () => {\r\n        if (this.variablesService.currentWallet.alias.hasOwnProperty('name')) {\r\n          this.variablesService.currentWallet.wakeAlias = false;\r\n        }\r\n      }\r\n    );\r\n    this.updateWalletStatus();\r\n    this.variablesService.getWalletChangedEvent.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      this.setTabsDisabled(this.variablesService.currentWallet.balance.eq(0));\r\n    });\r\n  }\r\n\r\n  toggleMenuDropdown(): void {\r\n    if (!this.openDropdown) {\r\n      this.openDropdown = true;\r\n    } else {\r\n      this.openDropdown = false;\r\n      this.walletSyncVisible = false;\r\n    }\r\n  }\r\n\r\n  resyncCurrentWallet(id): void {\r\n    this.backend.resyncWallet(id);\r\n  }\r\n\r\n  showConfirmDialog(wallet_id): void {\r\n    this.delWalletDialogVisible = true;\r\n    this.closeWalletId = wallet_id;\r\n  }\r\n\r\n  closeExportModal(confirmed: boolean): void {\r\n    if (confirmed) {\r\n      this.exportHistoryDialogVisible = false;\r\n    }\r\n  }\r\n\r\n  confirmed(confirmed: boolean): void {\r\n    if (confirmed) {\r\n      this.closeWallet(this.closeWalletId);\r\n    }\r\n    this.delWalletDialogVisible = false;\r\n  }\r\n\r\n  closeWallet(wallet_id): void {\r\n    this.backend.closeWallet(wallet_id, () => {\r\n      for (let i = this.variablesService.wallets.length - 1; i >= 0; i--) {\r\n        if (this.variablesService.wallets[i].wallet_id === this.variablesService.currentWallet.wallet_id) {\r\n          this.variablesService.wallets.splice(i, 1);\r\n        }\r\n      }\r\n      this.ngZone.run(() => {\r\n        if (this.variablesService.wallets.length) {\r\n          this.variablesService.currentWallet = this.variablesService.wallets[0];\r\n          this.router.navigate(['/wallet/']);\r\n        } else {\r\n          this.router.navigate(['/']);\r\n        }\r\n      });\r\n      if (this.variablesService.appPass) {\r\n        this.backend.storeSecureAppData();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n\r\n  updateWalletStatus(): void {\r\n    this.backend.eventSubscribe('wallet_sync_progress', (data) => {\r\n      const wallet_id = data.wallet_id;\r\n      if (wallet_id === this.variablesService.currentWallet.wallet_id) {\r\n        this.ngZone.run(() => {\r\n          this.walletLoaded = false;\r\n        });\r\n      }\r\n    });\r\n    this.backend.eventSubscribe('update_wallet_status', (data) => {\r\n      const wallet_state = data.wallet_state;\r\n      const wallet_id = data.wallet_id;\r\n      this.ngZone.run(() => {\r\n        if (wallet_state === 2 && wallet_id === this.variablesService.currentWallet.wallet_id) {\r\n          this.walletLoaded =\r\n            (this.variablesService.getWallet(this.variablesService.currentWallet.wallet_id) !== null &&\r\n              this.variablesService.getWallet(this.variablesService.currentWallet.wallet_id).loaded);\r\n          if (this.walletLoaded) {\r\n            this.setTabsDisabled(this.variablesService.currentWallet.balance.eq(0));\r\n          }\r\n        } else {\r\n          this.walletLoaded = false;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  setTabsDisabled(disabled: boolean): void {\r\n    this.tabs[1].disabled = disabled;\r\n    this.tabs[3].disabled = disabled;\r\n    this.tabs[4].disabled = disabled;\r\n  }\r\n}\r\n","<div class=\"header mb-2\"\r\n\t\t fxFlex=\"0 0 auto\"\r\n\t\t fxLayout=\"row nowrap\"\r\n\t\t fxLayoutAlign=\"space-between start\"\r\n\t\t fxLayoutGap=\"1rem\">\r\n\t<div class=\"left overflow-hidden\">\r\n\t\t<div class=\"wallet-wrapper\"\r\n\t\t\t\t fxLayout=\"column\"\r\n\t\t\t\t fxLayoutAlign=\"start start\">\r\n\t\t\t<div class=\"title\"\r\n\t\t\t\t\t fxLayout=\"row nowrap\"\r\n\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\t\t\t\t<h1 [delay]=\"150\"\r\n\t\t\t\t\t\t[placement]=\"'bottom'\"\r\n\t\t\t\t\t\t[timeout]=\"0\"\r\n\t\t\t\t\t\t[tooltipClass]=\"'table-tooltip'\"\r\n\t\t\t\t\t\t[tooltip]=\"variablesService.currentWallet.address\"\r\n\t\t\t\t\t\tclass=\"text-ellipsis mr-1\">\r\n\t\t\t\t\t{{ variablesService.currentWallet.address | zanoShortString }}\r\n\t\t\t\t</h1>\r\n\r\n\t\t\t\t<app-copy-button\r\n\t\t\t\t\t[value]=\"variablesService.currentWallet.address\"\r\n\t\t\t\t\tclass=\"mr-1\">\r\n\t\t\t\t</app-copy-button>\r\n\r\n\t\t\t\t<div *ngIf=\"!variablesService.currentWallet.is_auditable\" class=\"controls\"\r\n\t\t\t\t\t\t fxFlex=\"0 0 auto\"\r\n\t\t\t\t\t\t fxLayout=\"row\"\r\n\t\t\t\t\t\t fxLayoutAlign=\"start center\">\r\n\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"!variablesService.currentWallet.alias.hasOwnProperty('name') && variablesService.currentWallet.loaded && variablesService.daemon_state === 2 && variablesService.currentWallet.alias_available\">\r\n\t\t\t\t\t\t<button [routerLink]=\"['/assign-alias']\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-1 py-0_5 bg-light-gray\">\r\n\t\t\t\t\t\t\t{{ 'WALLET.REGISTER_ALIAS' | translate }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</ng-container>\r\n\r\n\t\t\t\t\t<ng-container\r\n\t\t\t\t\t\t*ngIf=\"variablesService.currentWallet.alias.hasOwnProperty('name') && variablesService.currentWallet.loaded && variablesService.daemon_state === 2\">\r\n\r\n\t\t\t\t\t\t<div [class.available]=\"variablesService.currentWallet.alias | isAvailableAliasName\"\r\n\t\t\t\t\t\t\t\t class=\"alias mr-1\">\r\n\t\t\t\t\t\t\t{{variablesService.currentWallet.alias.name}}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<ng-container *ngIf=\"variablesService.currentWallet.alias_available\">\r\n\t\t\t\t\t\t\t<button [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/edit-alias']\"\r\n\t\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon circle small mr-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"bottom-right\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.EDIT_ALIAS' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\">\r\n\r\n\t\t\t\t\t\t\t\t<i class=\"icon edit-square\"></i>\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t<button [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/transfer-alias']\"\r\n\t\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn-icon circle small\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.TRANSFER_ALIAS' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon arrow-up-square\"></i>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"right\">\r\n\t\t<div class=\"dropdown\">\r\n\t\t\t<button (click)=\"$event.stopPropagation(); toggleMenuDropdown()\"\r\n\t\t\t\t\t\t\t[disabled]=\"settingsButtonDisabled && !variablesService.currentWallet.loaded\"\r\n\t\t\t\t\t\t\tclass=\"btn-icon circle big\"\r\n\t\t\t\t\t\t\tdata-target=\"wallet-dropdown-button\">\r\n\t\t\t\t<i class=\"icon dots\"></i>\r\n\t\t\t</button>\r\n\t\t\t<div *ngIf=\"openDropdown\"\r\n\t\t\t\t\t class=\"content-bottom-right py-0_5\">\r\n\t\t\t\t<ul class=\"list\">\r\n\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t<button [delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"!variablesService.currentWallet.loaded\"\r\n\t\t\t\t\t\t\t\t\t\t[routerLink]=\"['/details']\"\r\n\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\trouterLinkActive=\"active\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.SETTINGS' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t<i class=\"icon settings mr-1\"></i>\r\n\t\t\t\t\t\t\t<span>{{ 'WALLET_DETAILS.WALLET_OPTIONS' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t<button (click)=\"stateVisibleAddCustomToken = true\"\r\n\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.ADD_CUSTOM_TOKEN' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t<i class=\"icon add mr-1\"></i>\r\n\t\t\t\t\t\t\t<span>{{ 'WALLET_DETAILS.ADD_CUSTOM_TOKEN' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t<button (click)=\"exportHistoryDialogVisible = !exportHistoryDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[disabled]=\"variablesService.currentWallet.history.length <= 0\"\r\n\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'EXPORT_HISTORY.TOOLTIP' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t<i class=\"icon export mr-1\"></i>\r\n\t\t\t\t\t\t\t<span>{{ 'EXPORT_HISTORY.EXPORT_BUTTON' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<ng-container *ngIf=\"walletSyncVisible\">\r\n\t\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t\t<button (click)=\"resyncCurrentWallet(variablesService.currentWallet.wallet_id)\"\r\n\t\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\t[disabled]=\"!variablesService.currentWallet.loaded\"\r\n\t\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET_DETAILS.RESYNC_WALLET' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t\t<i class=\"icon update mr-1\"></i><span>{{ 'WALLET_DETAILS.RESYNC_WALLET_BUTTON' | translate }}</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t\t<li class=\"item\">\r\n\t\t\t\t\t\t<button (click)=\"showConfirmDialog(variablesService.currentWallet.wallet_id)\"\r\n\t\t\t\t\t\t\t\t\t\t[delay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\t[timeDelay]=\"500\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-100 px-2 py-1\"\r\n\t\t\t\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\t\t\t\ttooltip=\"{{ 'WALLET.TOOLTIPS.CLOSE' | translate }}\"\r\n\t\t\t\t\t\t\t\t\t\ttooltipClass=\"table-tooltip account-tooltip\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\">\r\n\t\t\t\t\t\t\t<i class=\"icon close-square mr-1\"></i><span>{{ 'WALLET_DETAILS.BUTTON_REMOVE' | translate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<app-scroll-x class=\"mb-2\">\r\n\t<app-card-token></app-card-token>\r\n</app-scroll-x>\r\n\r\n<div class=\"tabs\">\r\n\t<div class=\"tabs-header\">\r\n\t\t<ng-container *ngFor=\"let tab of tabs; let index = index\">\r\n\t\t\t<button [disabled]=\"tab.disabled\"\r\n\t\t\t\t\t\t\t[ngClass]=\"{ 'hide': ((tab.link === '/send' || tab.link === '/contracts') && variablesService.currentWallet.is_watch_only && variablesService.currentWallet.is_auditable) }\"\r\n\t\t\t\t\t\t\t[routerLink]=\"['/wallet' + tab.link]\"\r\n\t\t\t\t\t\t\tclass=\"tab-header\"\r\n\t\t\t\t\t\t\trouterLinkActive=\"active\">\r\n\t\t\t\t<i [ngClass]=\"tab.icon\"\r\n\t\t\t\t\t class=\"icon mr-1\"></i>\r\n\t\t\t\t<span>{{ tab.title | translate }}</span>\r\n\t\t\t\t<span *ngIf=\"tab.indicator\"\r\n\t\t\t\t\t\t\tclass=\"indicator\">{{variablesService.currentWallet.new_contracts}}</span>\r\n\t\t\t</button>\r\n\t\t</ng-container>\r\n\t</div>\r\n\t<div class=\"tabs-content\">\r\n\t\t<router-outlet></router-outlet>\r\n\t</div>\r\n</div>\r\n\r\n<app-confirm-modal (confirmed)=\"confirmed($event)\"\r\n\t\t\t\t\t\t\t\t\t *ngIf=\"delWalletDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t [message]=\" 'WALLET.CONFIRM.MESSAGE' | translate \"\r\n\t\t\t\t\t\t\t\t\t [title]=\" 'WALLET.CONFIRM.TITLE' | translate \"></app-confirm-modal>\r\n\r\n<app-export-history-modal (closeExportModal)=\"closeExportModal($event)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t*ngIf=\"exportHistoryDialogVisible\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[currentWalletId]=\"variablesService.currentWallet.wallet_id\"></app-export-history-modal>\r\n\r\n<app-add-custom-token (eventClose)=\"stateVisibleAddCustomToken = false\"\r\n\t\t\t\t\t\t\t\t\t\t\t(eventSubmit)=\"stateVisibleAddCustomToken = false\"\r\n\t\t\t\t\t\t\t\t\t\t\t*ngIf=\"stateVisibleAddCustomToken\"\r\n></app-add-custom-token>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\nimport 'lodash';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","import { distinctUntilChanged, pluck } from 'rxjs/operators';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { Wallet } from './app/_helpers/models/wallet.model';\r\nimport { Injectable } from '@angular/core';\r\n\r\nexport interface Sync {\r\n  sync: boolean;\r\n  wallet_id: number;\r\n}\r\n\r\nexport interface State {\r\n  wallets: Wallet[];\r\n  sync: Sync[];\r\n\r\n  [key: string]: any;\r\n}\r\n\r\nconst state: State = {\r\n  wallets: undefined,\r\n  sync: undefined,\r\n};\r\n\r\n@Injectable()\r\nexport class Store {\r\n  private subject = new BehaviorSubject<State>(state);\r\n  private store = this.subject.asObservable().pipe(distinctUntilChanged());\r\n\r\n  get value() {\r\n    return this.subject.value;\r\n  }\r\n\r\n  select<T>(name: string): Observable<T> {\r\n    return this.store.pipe(pluck(name));\r\n  }\r\n\r\n  // tslint:disable-next-line:no-shadowed-variable\r\n  set(name: string, state: any) {\r\n    this.subject.next({ ...this.value, [name]: state });\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}